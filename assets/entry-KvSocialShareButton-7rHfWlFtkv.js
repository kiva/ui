import{t as v,z as y,A as C}from"./entry-mdi-BJHOrBfjV3.js";import{s as w,C as _}from"./entry-social-sharing-mixin-mcFPgMmQne.js";import{c as S,F as l,d as x,a as u,P as L,f as d,b as a,r as f,o,g as h,J as B,e as m,K as I}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import{w as V}from"./entry-KvMaterialIcon-DcajXwg-0j.js";import"./entry-KvWwwHeader-CVdIzOPj6Q.js";import{U as q}from"./entry-KvButton-DF0Vhz1EWA.js";import{u as K}from"./entry-KvLightbox-Ccr5YlTKqp.js";import"./entry-numeral-DJCTM12wUX.js";import{_ as U}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";const b={name:"KvSocialShareButton",components:{KvButton:q,KvLightbox:K,KvMaterialIcon:V},emits:["lightbox-closed"],props:{modalTitle:{type:String,default:"Help spread the word"},variant:{type:String,validator:n=>["primary","secondary","link","ghost","danger","caution","hidden"].indexOf(n)!==-1,default:"caution"},utmCampaign:{type:String,required:!0},utmContent:{type:String,default:""},shareUrl:{type:String,required:!0},shareMessage:{type:String,required:!0},openLightbox:{type:Boolean,required:!1},loanId:{type:Number,required:!1,default:null},trackingCategory:{type:String,required:!1,default:"borrower-profile"}},data(){return{copyStatus:{disabled:!1,text:"Copy"},isLightboxVisible:this.openLightbox||!1,KvBlueskyIcon:_,mdiFacebook:C,mdiLinkedin:y,mdiLink:v}},mixins:[w],inject:["apollo"],computed:{shareLink(){return`${`https://${this.$appConfig.host}`}${this.shareUrl}`}},methods:{closeLightbox(){this.isLightboxVisible=!1,this.$emit("lightbox-closed")}},watch:{openLightbox(){this.openLightbox&&(this.isLightboxVisible=!0)}},mounted(){this.handleFacebookResponse(this.trackingCategory)}},T={class:"tw-w-full"},F={class:"tw-flex tw-mt-2.5 tw-flex-wrap"},N={class:"tw-font-medium"};function M(n,t,e,P,i,p){const s=f("kv-button"),c=f("kv-material-icon"),k=f("kv-lightbox"),r=L("kv-track-event");return o(),S("div",T,[e.variant!=="hidden"?l((o(),d(s,{key:0,class:"tw-w-full","data-testid":"bp-share-cta-button",onClick:t[0]||(t[0]=g=>{i.isLightboxVisible=!0}),variant:e.variant},{default:a(()=>[h(n.$slots,"default",{},()=>[t[5]||(t[5]=B("Share"))],!0)],void 0),_:3},8,["variant"])),[[r,[e.trackingCategory,"show","share-lightbox",e.utmCampaign]]]):x("",!0),u(k,{visible:i.isLightboxVisible,title:e.modalTitle,onLightboxClosed:p.closeLightbox},{default:a(()=>[h(n.$slots,"modal-content",{},void 0,!0),m("div",F,[l((o(),d(s,{variant:"ghost",class:"social-button","data-testid":"share-facebook-button",onClick:t[1]||(t[1]=g=>n.showSharePopUp(n.facebookShareUrl({utmCampaign:e.utmCampaign,utmContent:e.utmContent}),"Thanks for sharing to Facebook!"))},{default:a(()=>[u(c,{class:"social-button__icon social-button__icon--facebook",icon:i.mdiFacebook},null,8,["icon"]),t[6]||(t[6]=m("span",{class:"tw-font-medium"},"Facebook",-1))],void 0,!0),_:1,__:[6]})),[[r,[e.trackingCategory,"share","facebook",e.utmCampaign,e.loanId]]]),l((o(),d(s,{variant:"ghost",class:"social-button","data-testid":"share-bluesky-button",onClick:t[2]||(t[2]=g=>n.showSharePopUp(n.blueskyShareUrl({utmCampaign:e.utmCampaign,utmContent:e.utmContent}),"Thanks for sharing to Bluesky!"))},{default:a(()=>[u(c,{class:"social-button__icon social-button__icon--bluesky",icon:i.KvBlueskyIcon},null,8,["icon"]),t[7]||(t[7]=m("span",{class:"tw-font-medium"},"Bluesky",-1))],void 0,!0),_:1,__:[7]})),[[r,[e.trackingCategory,"share","bluesky",e.utmCampaign,e.loanId]]]),l((o(),d(s,{variant:"ghost",class:"social-button","data-testid":"share-linkedin-button",onClick:t[3]||(t[3]=g=>n.showSharePopUp(n.linkedInShareUrl({utmCampaign:e.utmCampaign,utmContent:e.utmContent}),"Thanks for sharing to LinkedIn!"))},{default:a(()=>[u(c,{class:"social-button__icon social-button__icon--linkedin",icon:i.mdiLinkedin},null,8,["icon"]),t[8]||(t[8]=m("span",{class:"tw-font-medium"},"LinkedIn",-1))],void 0,!0),_:1,__:[8]})),[[r,[e.trackingCategory,"share","linkedin",e.utmCampaign,e.loanId]]]),l((o(),d(s,{variant:"ghost",class:"social-button","data-testid":"share-copy-link-button",disabled:i.copyStatus.disabled,onClick:t[4]||(t[4]=g=>n.copyLink({utmCampaign:e.utmCampaign,utmContent:e.utmContent},i.copyStatus.text))},{default:a(()=>[u(c,{class:"tw-w-4.5 tw-h-4.5 tw-pointer-events-none tw-inline-block tw-align-middle",icon:i.mdiLink},null,8,["icon"]),m("span",N,I(i.copyStatus.text),1)],void 0,!0),_:1},8,["disabled"])),[[r,[e.trackingCategory,"share","copy-link",e.utmCampaign,e.loanId]]])])],void 0),_:3},8,["visible","title","onLightboxClosed"])])}const G=U(b,[["render",M],["__scopeId","data-v-46366898"]]);b.__docgenInfo={displayName:"KvSocialShareButton",exportName:"default",description:"",tags:{},props:[{name:"modalTitle",description:"Title in the pop up modal",type:{name:"string"},defaultValue:{func:!1,value:"'Help spread the word'"}},{name:"variant",description:"Button variant style",type:{name:"string"},defaultValue:{func:!1,value:"'caution'"}},{name:"utmCampaign",description:"String for utm_campaign parameter",type:{name:"string"},required:!0},{name:"utmContent",description:"String for utm_content parameter",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"shareUrl",description:"Relative url for the link being shared",type:{name:"string"},required:!0},{name:"shareMessage",description:"The share message to be used in the social media posts",type:{name:"string"},required:!0},{name:"openLightbox",description:"Force lightbox visibility on load",type:{name:"boolean"},required:!1},{name:"loanId",description:"LoanId of loan we're sharing",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"trackingCategory",description:"Optional tracking category, defaults to 'borrower-profile' but allows for uses in other context",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'borrower-profile'"}}],events:[{name:"lightbox-closed"}],slots:[{name:"default"},{name:"modal-content"}],sourceFiles:["/home/runner/work/ui/ui/src/components/Kv/KvSocialShareButton.vue"]};export{G as K};

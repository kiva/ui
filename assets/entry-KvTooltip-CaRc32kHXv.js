import{z as D,o as d,C as m,D as B,q as n,G as S,v as c,E as H,T as M,t as A,g as v,j as O,w as V,a as K,c as j,m as N,r as y}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{s as $,e as w,h as g,a as T,b as E,m as b,g as L,c as k,i as P}from"./entry-KvWwwHeader-C1bm1YMh4q.js";import{_ as G}from"./iframe-Cc_r_Bkf.js";import{x as I}from"./entry-KvThemeProvider-BF4_ArwXOx.js";function C(e){Array.from(document.body.children).forEach(t=>t.addEventListener("touchstart",e))}function R(e){Array.from(document.body.children).forEach(t=>t.removeEventListener("touchstart",e))}function q(e,t){const o=Array.isArray(t)?t:[t];for(let r=0;r<o.length;r+=1)if(o[r]===e.target||o[r].contains(e.target))return!0;return!1}const z={name:"KvPopper",props:{controller:{validator(e){return typeof e=="string"||typeof window=="object"&&"HTMLElement"in window&&e instanceof HTMLElement},required:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},transitionType:{type:String,default:""},popperPlacement:{type:String,default:"bottom-start"},popperModifiers:{type:Object,default:()=>{}}},data(){return{popper:null,popperPromise:null,styles:{},show:!1,timeout:null}},computed:{reference(){return typeof this.controller=="string"?document.getElementById(this.controller):this.controller}},watch:{show(e){this.reference&&this.reference.setAttribute("aria-expanded",e?"true":"false"),this.$emit(e?"show":"hide")}},mounted(){this.reference.tabIndex=0,this.attachEvents()},updated(){this.popper&&this.popper.scheduleUpdate()},beforeDestroy(){this.removeEvents(),this.popper&&this.popper.destroy()},methods:{open(){this.initPopper().then(()=>{this.setTimeout(()=>{this.show=!0,this.popper.scheduleUpdate(),this.attachBodyEvents()},this.openDelay)})},close(){this.setTimeout(()=>{this.show=!1,this.removeBodyEvents()},this.closeDelay)},toggle(){this.show?this.close():this.open()},update(){this.popper&&this.popper.scheduleUpdate()},initPopper(){return this.popper?Promise.resolve():this.popperPromise?this.popperPromise:(this.popperPromise=G(async()=>{const{default:e}=await import("./entry-popper-CdHLaJJs38.js");return{default:e}},[],import.meta.url).then(({default:e})=>{this.popper=new e(this.reference,this.$el,{placement:this.popperPlacement,modifiers:{applyStyle:t=>{this.styles=t.styles,this.setAttributes(t.attributes)},preventOverflow:{padding:0},...this.popperModifiers}})}),this.popperPromise)},bodyTouchHandler(e){q(e,[this.reference,this.$el])||(this.show=!1,this.removeBodyEvents())},referenceTapHandler(e){e.preventDefault(),this.toggle()},attachEvents(){this.reference.addEventListener("mouseover",this.open),this.reference.addEventListener("focus",this.open),this.reference.addEventListener("mouseout",this.close),this.reference.addEventListener("blur",this.close),this.$el.addEventListener("mouseover",this.open),this.$el.addEventListener("mouseout",this.close),this.reference.addEventListener("touchstart",this.referenceTapHandler)},attachBodyEvents(){C(this.bodyTouchHandler)},removeEvents(){this.removeBodyEvents(),this.reference.removeEventListener("touchstart",this.referenceTapHandler),this.reference.removeEventListener("mouseover",this.open),this.reference.removeEventListener("mouseout",this.close),this.$el.removeEventListener("mouseover",this.open),this.$el.removeEventListener("mouseout",this.close)},removeBodyEvents(){R(this.bodyTouchHandler)},setAttributes(e){Object.keys(e).forEach(t=>{const o=e[t];o===!1?this.$el.removeAttribute(t):this.$el.setAttribute(t,o)})},setTimeout(e,t){window.clearTimeout(this.timeout),this.timeout=window.setTimeout(e,t)}}},U=["aria-hidden"];function W(e,t,o,r,s,a){return d(),D(M,{name:o.transitionType},{default:m(()=>[B(n("div",{class:"tw-absolute",style:S(s.styles),"aria-hidden":s.show?"false":"true"},[c(e.$slots,"default")],12,U),[[H,s.show]])]),_:3},8,["name"])}const F=$(z,[["render",W]]),J={name:"KvTooltip",components:{KvPopper:F,KvThemeProvider:I},props:{controller:{type:[String,Object],validator(e){return typeof e=="string"||typeof window<"u"&&"HTMLElement"in window&&e instanceof HTMLElement},required:!0},maxWidth:{type:String,default:"250px"},modifiers:{type:Object,default:()=>({})},placement:{type:String,default:"top"},showTooltip:{type:Boolean,default:!1},theme:{type:String,default:"default",validator(e){return["default","ecoGreenLight","ecoGreenDark","ecoLightMarigold","ecoStoneLight","ecoStoneDark","mint","dark"].indexOf(e)!==-1}}},defineEmits:["tool-tip-visible"],setup(e,{emit:t}){const{modifiers:o,showTooltip:r,theme:s}=A(e),a=v(()=>({...o.value,preventOverflow:{...o.value.preventOverflow,padding:10}})),l=O(null),p=()=>typeof e.controller=="string"?document.getElementById(e.controller):e.controller,h=i=>{t("tool-tip-visible",i)},u=(i=!0)=>{const f=p();if(f){const _=i?"mouseover":"mouseout";f.dispatchEvent(new MouseEvent(_,{bubbles:!0}))}},x=v(()=>({default:P,ecoGreenLight:k,ecoGreenDark:L,ecoLightMarigold:b,ecoStoneLight:E,ecoStoneDark:T,mint:g,dark:w})[s.value]);return V(r,i=>{u(!!i)}),{defaultTheme:P,greenLightTheme:k,greenDarkTheme:L,marigoldLightTheme:b,stoneLightTheme:E,stoneDarkTheme:T,mintTheme:g,darkTheme:w,handleKvPopperVisibility:h,popperModifiers:a,popperRef:l,themeStyle:x,triggerHover:u}}},Q={key:0,class:"tw-text-primary tw-font-medium tw-mb-1.5"},X={class:"tw-text-primary"};function Y(e,t,o,r,s,a){const l=y("kv-popper"),p=y("kv-theme-provider");return d(),D(p,{theme:r.themeStyle,class:"kv-tailwind"},{default:m(()=>[K(l,{ref:"popperRef",controller:o.controller,"popper-modifiers":r.popperModifiers,"popper-placement":o.placement,"transition-type":"kvfastfade",class:"tooltip-pane tw-absolute tw-bg-primary tw-rounded tw-z-popover",onHide:t[0]||(t[0]=h=>r.handleKvPopperVisibility(!1)),onShow:t[1]||(t[1]=h=>r.handleKvPopperVisibility(!0))},{default:m(()=>[n("div",{class:"tw-p-2.5",style:S({maxWidth:o.maxWidth})},[e.$slots.title?(d(),j("div",Q,[c(e.$slots,"title",{},void 0,!0)])):N("",!0),n("div",X,[c(e.$slots,"default",{},void 0,!0)])],4),t[2]||(t[2]=n("div",{class:"tooltip-arrow tw-absolute tw-w-0 tw-h-0 tw-border-solid","x-arrow":""},null,-1))]),_:3},8,["controller","popper-modifiers","popper-placement"])]),_:3},8,["theme"])}const re=$(J,[["render",Y],["__scopeId","data-v-7ec95952"]]);export{re as N};

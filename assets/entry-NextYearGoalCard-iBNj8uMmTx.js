import{b as y,g as l,w as V,c as n,a as m,u as o,J as T,z as h,m as B,q as d,D as M,C as E,A as j,K as $,o as r,M as A,L as O}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{_ as f}from"./entry-KvLoadingPlaceholder-B_9_tltQhY.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{g as R}from"./entry-KvButton-BA7nBLyz1b.js";import"./entry-numeral-xVHG5DEP0A.js";import{C as g}from"./entry-useGoalData-CY18ya0ook.js";import{u as S}from"./entry-vue-router-Di6opnONE0.js";import{c as F}from"./entry-confetti.module-BCnSlh9tqh.js";import{H as I,G as K}from"./entry-GoalProgressRing-CwBp38KzOS.js";import{_ as q}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";const z={key:0,class:"tw-flex tw-flex-col tw-justify-between tw-h-full"},J={key:0,class:"tw-h-full tw-flex tw-flex-col tw-items-center tw-justify-between"},Q={key:0},U=["innerHTML"],W=["src"],k={__name:"NextYearGoalCard",props:{userGoal:{type:Object,default:()=>({})},goalProgress:{type:Number,default:0},prevYearLoans:{type:Number,default:0},loading:{type:Boolean,default:!0},hideGoalCard:{type:Boolean,default:!1}},emits:["open-goal-modal"],setup(s){const e=s,c=y("$kvTrackEvent"),w=S(),G=y("goalData"),{getCtaHref:C,getGoalDisplayName:b,goalProgressPercentage:u,setHideGoalCardPreference:x}=G,i=l(()=>!!e.userGoal&&Object.keys(e.userGoal).length>0),_=l(()=>{var a;return((a=e.userGoal)==null?void 0:a.target)||0}),L=new Date().getFullYear(),Y=l(()=>e.prevYearLoans===1?`You helped <span class="tw-text-action"> ${e.prevYearLoans} woman</span><br>shape her future!`:e.prevYearLoans>1?`You helped <span class="tw-text-action"> ${e.prevYearLoans} women</span><br>shape their futures!`:'Lenders like you help <span class="tw-text-action"> 3 women</span> a year'),N=l(()=>{var a,t;return b((a=e.userGoal)==null?void 0:a.target,(t=e.userGoal)==null?void 0:t.category)}),D=l(()=>{var a,t;return C((a=e.userGoal)==null?void 0:a.target,(t=e.userGoal)==null?void 0:t.category,w,e.goalProgress)}),H=()=>{F({origin:{y:.2},particleCount:150,spread:200,colors:["#6AC395","#223829","#95D4B3"],disableForReducedMotion:!0})},P=()=>{if(c("portfolio","click","continue-towards-goal"),u.value===g){c("portfolio","click","goal-completed-cta");const a=document.querySelector("#mykiva-achievements");a&&a.scrollIntoView({behavior:"smooth",block:"start"});return}w.push(D.value)};return V(()=>[e.loading,e.hideGoalCard],([a,t],[p])=>{!a&&p&&!t&&(u.value===g&&(H(),x()),i.value?i.value&&u.value!==g&&c("portfolio","show","goal-set",e.userGoal.category,e.userGoal.target):c("portfolio","view","set-annual-goal"))}),(a,t)=>{var v;const p=$("kv-track-event");return r(),n("div",{class:j(["card-container",{"tw-gap-3":!!i.value}])},[s.loading?(r(),n("div",z,[m(o(f),{class:"!tw-h-4 tw-w-full tw-max-w-16 tw-my-1"}),m(o(f),{class:"tw-mb-2"}),m(o(f),{class:"!tw-h-3 tw-w-full tw-mb-1 tw-max-w-sm"}),m(o(f),{class:"!tw-h-6 tw-mb-1"})])):(r(),n(T,{key:1},[i.value?(r(),h(o(K),{key:1,variant:"card","goal-loans":_.value,"goal-progress":s.goalProgress,"goal-progress-percentage":o(u),"category-name":N.value,"category-id":(v=s.userGoal)==null?void 0:v.category,onButtonClick:P},null,8,["goal-loans","goal-progress","goal-progress-percentage","category-name","category-id"])):(r(),n("div",J,[s.prevYearLoans>0?(r(),n("h4",Q," LAST YEAR ")):B("",!0),d("h3",{class:"tw-text-center",innerHTML:Y.value},null,8,U),t[1]||(t[1]=d("div",{class:"tw-text-center"},[d("p",null," How many loans will you make this year? ")],-1)),d("img",{src:o(I),class:"tw-my-2 md:tw-my-4 tw-w-14"},null,8,W),M((r(),h(o(R),{class:"tw-w-full",onClick:t[0]||(t[0]=X=>a.$emit("open-goal-modal"))},{default:E(()=>[A(" Set "+O(o(L))+" goal ",1)],void 0),_:1})),[[p,["portfolio","click","set-a-goal"]]])]))],64))],2)}}},ue=q(k,[["__scopeId","data-v-761a3652"]]);k.__docgenInfo={exportName:"default",displayName:"NextYearGoalCard",description:"",tags:{},props:[{name:"userGoal",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"goalProgress",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"prevYearLoans",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"hideGoalCard",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"open-goal-modal"}],sourceFiles:["/home/runner/work/ui/ui/src/components/MyKiva/NextYearGoalCard.vue"]};export{ue as M};

import{K as M}from"./entry-KvIcon-BUhAos7YaB.js";import{c as _}from"./entry-category-row-arrows-visible-mixin-BLgv3UNW2h.js";import{L as k}from"./entry-LoanCardImage-CDUN9w9jfR.js";import{F as D}from"./entry-FundraisingStatusMeter-B7v6BFbBP_.js";import{r as o,c as f,o as m,a as i,q as r,L as p,A as c,z as H,m as L}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{_ as h}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{p as V}from"./entry-KvFlag-CMxNRMzdLr.js";import"./entry-numeral-xVHG5DEP0A.js";import{F as A}from"./entry-FundraisingStatus-DtZ3Y0K9fJ.js";import{A as E}from"./entry-ActionButton-BIhqHg5aws.js";import{M as T}from"./entry-MatchingText-BJHHEalvvk.js";import{B as S}from"./entry-BorrowerInfoName-Bl2-KCsnYm.js";import{B as F}from"./entry-BorrowerInfoBody-C_7bSIiGxj.js";import"./iframe-Cc_r_Bkf.js";import"./entry-mdi-B1ONwcTkQ2.js";import"./entry-KvMaterialIcon-C3KLX5OV-L.js";import"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import"./entry-index-CWclSTHHJk.js";import"./entry-includes-CAVAVivXb3.js";import"./entry-_baseIndexOf-qfoVQuLp0t.js";import"./entry-_baseFindIndex-Ca62E79BN9.js";import"./entry-keys-B9dmm4b_qU.js";import"./entry-isSymbol-5pnFTpIKM9.js";import"./entry-get-D3xDH2SX94.js";import"./entry-toInteger-XI_MWEAzOD.js";import"./entry-toNumber-MeiYJWOH0A.js";import"./entry-get-BUjo_hX5jl.js";import"./entry-injectionCheck-7gO_RAaPL1.js";import"./entry-updateLoanReservation-BaDuxVurTB.js";import"./entry-basketUtils-CZJxgsw05A.js";import"./entry-logFormatter-DhjghUk5Me.js";import"./entry-basketCount-CZ-kE9ye_Z.js";import"./entry-basketItems-B-09YWrzPC.js";import"./entry-exports-CudK1O5XNw.js";import"./entry-KvButton-BA7nBLyz1b.js";import"./entry-KvLoadingSpinner-CpYE5b1xV2.js";import"./entry-loanUtils-DSoWkICHcw.js";import"./entry-KvSelect-BPt7lipyTp.js";import"./entry-attrs-C2OODjD6EW.js";const v={emits:["track-interaction"],props:{amountLeft:{type:Number,default:0},isFunded:{type:Boolean,default:!1},loan:{type:Object,default:()=>({userProperties:{},loanFundraisingInfo:{},geocode:{country:{}},image:{}})},percentRaised:{type:Number,default:0}},methods:{trackInteraction(e){this.$emit("track-interaction",e)}}},x={name:"HoverLoanCardSmall",components:{LoanCardImage:k,FundraisingStatusMeter:D},inject:["apollo"],mixins:[v],emits:["update-detailed-loan-index"],props:{expanded:{type:Boolean,default:!1}},methods:{handleClick(){this.$emit("update-detailed-loan-index")}}},N={class:"name tw-text-primary"},R={class:"minimal-fundraising-meter"},U={class:"tw-text-small tw-text-secondary loan-data"};function j(e,t,n,g,y,a){const l=o("loan-card-image"),s=o("fundraising-status-meter");return m(),f("div",{class:c(["hover-loan-card-small tw-bg-primary",{expanded:n.expanded}])},[i(l,{class:"hover-loan-card-image","loan-id":e.loan.id,name:e.loan.name,"retina-image-url":e.loan.image.retina,"standard-image-url":e.loan.image.default,"is-visitor":!0,"use-default-styles":!1,"disable-link":!0,onImageClick:a.handleClick},null,8,["loan-id","name","retina-image-url","standard-image-url","onImageClick"]),r("div",{class:"hover-loan-card-data-wrap",onClick:t[0]||(t[0]=(...u)=>a.handleClick&&a.handleClick(...u))},[r("p",N,p(e.loan.name),1),r("div",R,[i(s,{"amount-left":e.amountLeft,"percent-raised":e.percentRaised,"is-funded":e.loan.status==="funded","short-meter":!0},null,8,["amount-left","percent-raised","is-funded"])]),r("p",U,p(e.loan.geocode.country.name)+" / "+p(e.loan.activity.name),1)])],2)}const q=h(x,[["render",j],["__scopeId","data-v-da29cfdb"]]);x.__docgenInfo={displayName:"HoverLoanCardSmall",exportName:"default",description:"",tags:{},props:[{name:"expanded",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update-detailed-loan-index"}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/HoverLoanCardSmall.vue"]};const I={name:"HoverLoanCardLarge",components:{BorrowerInfoBody:F,KvFlag:V,LoanCardImage:k,FundraisingStatus:A,ActionButton:E,MatchingText:T,BorrowerInfoName:S},inject:["apollo"],mixins:[v],emits:["add-to-basket","track-interaction","update-detailed-loan-index","toggle-favorite"],props:{expiringSoonMessage:{type:String,default:""},isSelectedByAnother:{type:Boolean,default:!1},itemsInBasket:{type:Array,default:()=>[]},isVisitor:{type:Boolean,required:!0},expanded:{type:Boolean,default:!1},isExpired:{type:Boolean,default:!1},isMatchAtRisk:{type:Boolean,default:!1}},computed:{lessThan25(){return this.amountLeft<25&&this.amountLeft!==0}},methods:{toggleFavorite(){this.$emit("toggle-favorite")},updateDetailedLoanIndex(){this.$emit("update-detailed-loan-index")},trackInteraction(e){this.$emit("track-interaction",e)},trackInteractionBorrowerInfoName(e){this.trackInteraction({...e,interactionElement:`${e.interactionElement}HoverCard`})},handleAddToBasket(e){this.$emit("add-to-basket",e)}}},O={class:"hover-loan-card-data-wrap"},K={class:"name-row"},P={class:"tw-gap-1 tw-flex tw-w-full"};function z(e,t,n,g,y,a){const l=o("loan-card-image"),s=o("kv-flag"),u=o("borrower-info-name"),d=o("fundraising-status"),C=o("borrower-info-body"),w=o("action-button"),B=o("matching-text");return m(),f("div",{class:c(["hover-loan-card-large tw-bg-primary",{collapsed:!n.expanded}])},[i(l,{class:"hover-loan-card-image","loan-id":e.loan.id,name:e.loan.name,"retina-image-url":e.loan.image.retina,"standard-image-url":e.loan.image.default,"is-visitor":n.isVisitor,"use-default-styles":!1,"disable-link":!0,onFavoriteToggled:a.toggleFavorite,onImageClick:a.updateDetailedLoanIndex},null,8,["loan-id","name","retina-image-url","standard-image-url","is-visitor","onFavoriteToggled","onImageClick"]),r("div",O,[r("div",null,[r("div",K,[e.loan.geocode.country.isoCode?(m(),H(s,{key:0,country:e.loan.geocode.country.isoCode,name:e.loan.geocode.country.name,class:"flag"},null,8,["country","name"])):L("",!0),i(u,{name:e.loan.name,"loan-id":e.loan.id,class:"name tw-text-h3",onTrackLoanCardInteraction:a.trackInteractionBorrowerInfoName},null,8,["name","loan-id","onTrackLoanCardInteraction"])]),i(d,{"amount-left":e.amountLeft,"percent-raised":e.percentRaised,"expiring-soon-message":n.expiringSoonMessage,"is-funded":e.isFunded,"left-and-to-go-on-top":!0,"short-meter":!0},null,8,["amount-left","percent-raised","expiring-soon-message","is-funded"])]),i(C,{class:"hover-borrower-info-body tw-text-small tw-font-book",use:e.loan.fullLoanUse,"loan-id":e.loan.id,"max-use-length":100,"disable-link":!0,"read-more-link-text":"Expand to learn more",onReadMoreLink:a.updateDetailedLoanIndex,onTrackLoanCardInteraction:a.trackInteraction},null,8,["use","loan-id","onReadMoreLink","onTrackLoanCardInteraction"]),r("div",P,[i(w,{class:"tw-py-1 tw-px-0 tw-m-0 tw-w-2/4 tw-shrink-0","loan-id":e.loan.id,loan:e.loan,"items-in-basket":n.itemsInBasket,"is-lent-to":e.loan.userProperties.lentTo,"is-funded":e.isFunded,"is-expired":n.isExpired,"is-selected-by-another":n.isSelectedByAnother,"is-simple-lend-button":!0,"minimal-checkout-button":!0,"is-amount-lend-button":a.lessThan25,"amount-left":e.amountLeft,onClick:t[0]||(t[0]=J=>a.trackInteraction({interactionType:"addToBasket",interactionElement:"Lend25"})),onAddToBasket:a.handleAddToBasket},null,8,["loan-id","loan","items-in-basket","is-lent-to","is-funded","is-expired","is-selected-by-another","is-amount-lend-button","amount-left","onAddToBasket"]),n.isMatchAtRisk?L("",!0):(m(),f("div",{key:0,class:c(["tw-mt-1",{hide:e.isFunded||n.isExpired}])},[i(B,{"matching-text":e.loan.matchingText,"match-ratio":e.loan.matchRatio,"is-funded":e.isFunded,"is-selected-by-another":n.isSelectedByAnother,wrap:!0},null,8,["matching-text","match-ratio","is-funded","is-selected-by-another"])],2))])])],2)}const W=h(I,[["render",z],["__scopeId","data-v-b8c4d50f"]]);I.__docgenInfo={displayName:"HoverLoanCardLarge",exportName:"default",description:"",tags:{},props:[{name:"expiringSoonMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isSelectedByAnother",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isVisitor",type:{name:"boolean"},required:!0},{name:"expanded",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isExpired",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isMatchAtRisk",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"add-to-basket",type:{names:["undefined"]}},{name:"track-interaction",type:{names:["undefined"]}},{name:"update-detailed-loan-index"},{name:"toggle-favorite"}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/HoverLoanCardLarge.vue"]};const b={name:"HoverLoanCard",components:{HoverLoanCardSmall:q,HoverLoanCardLarge:W,KvIcon:M},emits:["add-to-basket","track-interaction","update-detailed-loan-index","update-hover-loan-index","set-prevent-updating-detailed-card"],props:{cardNumber:{type:Number,default:null},expiringSoonMessage:{type:String,default:""},isSelectedByAnother:{type:Boolean,default:!1},itemsInBasket:{type:Array,default:()=>[]},isMatchAtRisk:{type:Boolean,default:!1},isVisitor:{type:Boolean,required:!0},detailedLoanIndex:{type:Number,default:null},hoverLoanIndex:{type:Number,default:null},shiftIncrement:{type:Number,default:0},preventUpdatingDetailedCard:{type:Boolean,default:!1},isExpired:{type:Boolean,default:!1},showTags:{type:Boolean,default:!1}},computed:{expanded(){return!this.rowHasDetailedLoan&&this.hover},hover(){return this.loanIndex===this.hoverLoanIndex},isDetailed(){return this.loanIndex===this.detailedLoanIndex},loanIndex(){return this.cardNumber-1},rowHasDetailedLoan(){return this.detailedLoanIndex!==null},rowHasHoverLoan(){return this.hoverLoanIndex!==null},shiftLeft(){return!this.rowHasDetailedLoan&&this.shiftIncrement===-1},shiftLeftDouble(){return!this.rowHasDetailedLoan&&this.shiftIncrement===-2},shiftRight(){return!this.rowHasDetailedLoan&&this.shiftIncrement===1},shiftRightDouble(){return!this.rowHasDetailedLoan&&this.shiftIncrement===2}},mixins:[v,_],methods:{handleMouseEnter(){this.rowHasDetailedLoan&&!this.isDetailed?!this.preventUpdatingDetailedCard&&this.hoverEffectActive()&&this.updateDetailedLoanIndex():this.hoverEffectActive()&&this.updateHoverLoanIndex()},handleMouseEnterCardMargins(){this.rowHasHoverLoan&&this.handleMouseEnter()},handleMouseEnterCardOnly(){this.rowHasHoverLoan||this.handleMouseEnter()},hoverEffectActive(){const e=document.documentElement.clientWidth,t=this.categoryRowArrowsVisible();return t&&e>=800||!t&&e>=768},updateHoverLoanIndex(){this.$emit("update-hover-loan-index",this.loanIndex),this.trackInteraction({interactionType:"hover-expand",interactionElement:"hover-card"})},updateDetailedLoanIndex(){this.$emit("update-detailed-loan-index",this.loanIndex),this.trackInteraction({interactionType:"hover-details-click",interactionElement:"hover-card"})},trackInteraction(e){this.$emit("track-interaction",e)},hoverCardLargeUpdateDetailedLoanIndex(){this.rowHasDetailedLoan||this.$emit("set-prevent-updating-detailed-card",!0),this.updateDetailedLoanIndex()},hoverCardSmallUpdateDetailedLoanIndex(){this.$emit("set-prevent-updating-detailed-card",!1),this.updateDetailedLoanIndex()},handleAddToBasket(e){this.$emit("add-to-basket",e)}}};function G(e,t,n,g,y,a){const l=o("hover-loan-card-small"),s=o("hover-loan-card-large"),u=o("kv-icon");return m(),f("div",{class:c(["hover-loan-card",{expanded:a.expanded,"row-has-detailed-loan":a.rowHasDetailedLoan,"is-detailed":a.isDetailed,"shift-left":a.shiftLeft,"shift-left-double":a.shiftLeftDouble,"shift-right":a.shiftRight,"shift-right-double":a.shiftRightDouble}]),onMouseenter:t[2]||(t[2]=(...d)=>a.handleMouseEnterCardMargins&&a.handleMouseEnterCardMargins(...d))},[r("div",{class:"hover-loan-card-wrapper",onMouseenter:t[1]||(t[1]=(...d)=>a.handleMouseEnterCardOnly&&a.handleMouseEnterCardOnly(...d))},[i(l,{"amount-left":e.amountLeft,"is-funded":e.isFunded,loan:e.loan,"percent-raised":e.percentRaised,expanded:a.expanded,onUpdateDetailedLoanIndex:a.hoverCardSmallUpdateDetailedLoanIndex},null,8,["amount-left","is-funded","loan","percent-raised","expanded","onUpdateDetailedLoanIndex"]),i(s,{"amount-left":e.amountLeft,"is-funded":e.isFunded,loan:e.loan,"percent-raised":e.percentRaised,expanded:a.expanded,"expiring-soon-message":n.expiringSoonMessage,"is-match-at-risk":n.isMatchAtRisk,"is-visitor":n.isVisitor,"is-selected-by-another":n.isSelectedByAnother,"items-in-basket":n.itemsInBasket,"is-expired":n.isExpired,onAddToBasket:a.handleAddToBasket,onTrackInteraction:a.trackInteraction,onUpdateDetailedLoanIndex:a.hoverCardLargeUpdateDetailedLoanIndex},null,8,["amount-left","is-funded","loan","percent-raised","expanded","expiring-soon-message","is-match-at-risk","is-visitor","is-selected-by-another","items-in-basket","is-expired","onAddToBasket","onTrackInteraction","onUpdateDetailedLoanIndex"]),r("div",{class:c(["more-details-wrapper",{expanded:a.expanded}]),onClick:t[0]||(t[0]=(...d)=>a.updateDetailedLoanIndex&&a.updateDetailedLoanIndex(...d))},[i(u,{class:"more-details-arrow",name:"medium-chevron","from-sprite":!0})],2)],32)],34)}const Se=h(b,[["render",G],["__scopeId","data-v-b0f1e523"]]);b.__docgenInfo={exportName:"default",displayName:"HoverLoanCard",description:"",tags:{},props:[{name:"amountLeft",mixin:{name:"hoverLoanCardMixin",path:"hoverLoanCardMixin.js"},type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"isFunded",mixin:{name:"hoverLoanCardMixin",path:"hoverLoanCardMixin.js"},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loan",mixin:{name:"hoverLoanCardMixin",path:"hoverLoanCardMixin.js"},type:{name:"object"},defaultValue:{func:!1,value:`{
    userProperties: {},
    loanFundraisingInfo: {},
    geocode: {
        country: {}
    },
    image: {}
}`}},{name:"percentRaised",mixin:{name:"hoverLoanCardMixin",path:"hoverLoanCardMixin.js"},type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"cardNumber",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"expiringSoonMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isSelectedByAnother",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isMatchAtRisk",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isVisitor",type:{name:"boolean"},required:!0},{name:"detailedLoanIndex",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"hoverLoanIndex",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"shiftIncrement",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"preventUpdatingDetailedCard",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isExpired",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showTags",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"track-interaction",mixin:{name:"hoverLoanCardMixin",path:"hoverLoanCardMixin.js"},type:{names:["undefined"]}},{name:"add-to-basket",type:{names:["undefined"]}},{name:"update-detailed-loan-index",type:{names:["undefined"]}},{name:"update-hover-loan-index",type:{names:["undefined"]}},{name:"set-prevent-updating-detailed-card",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/HoverLoanCard.vue","/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/hoverLoanCardMixin.js"]};export{Se as default};

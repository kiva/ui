import{f as v,g as P}from"./entry-mdi-B1ONwcTkQ2.js";import{c as i,q as r,A as o,a as h,J as m,I as k,r as w,o as n,M as p,m as x,L as C}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{x as y}from"./entry-KvMaterialIcon-C3KLX5OV-L.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import"./entry-numeral-xVHG5DEP0A.js";import{_}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";const d={name:"KvPagination",components:{KvMaterialIcon:y},emits:["page-changed"],props:{limit:{type:Number,required:!0,validator:e=>e>0},total:{type:Number,required:!0,validator:e=>e>=0},offset:{type:Number,default:0,validator:e=>e>=0},extraPages:{type:Number,default:3,validator:e=>e>0},scrollToTop:{type:Boolean,default:!0}},data(){return{mdiChevronLeft:P,mdiChevronRight:v}},computed:{current(){const e=this.offset/this.limit;return e<this.totalPages?e:0},totalPages(){return Math.ceil(this.total/this.limit)},numbers(){if(this.totalPages<this.extraPages+2)return this.range(0,this.totalPages-1);const e=[];if([0,1,2].includes(this.current))e.push(...this.range(1,this.extraPages));else if([this.totalPages-3,this.totalPages-2,this.totalPages-1].includes(this.current))e.push(...this.range(this.totalPages-this.extraPages-1,this.totalPages-2));else{const l=Math.floor(this.extraPages/2);e.push(...this.range(this.current-l,this.current+l))}e[1]!==2&&e.splice(0,0,-1);const t=e.length;return e[t-1]!==this.totalPages-2&&e.splice(t,0,-1),e.unshift(0),e.push(this.totalPages-1),e}},methods:{range(e,t){return[...Array(t-e+1)].map((l,u)=>u+e)},isCurrent(e){return e===this.current},isEllipsis(e){return e===-1},linkClass(e){return{"tw-text-tertiary":this.isCurrent(e),"tw-pointer-events-none":this.isCurrent(e)}},pageChange(e){this.scrollToTop&&window.scrollTo&&window.scrollTo({top:0,left:0,behavior:"smooth"}),this.$emit("page-changed",{pageOffset:e*this.limit})},clickPage(e){var t;this.pageChange(e),(t=this.$kvTrackEvent)==null||t.call(this,"Lending","click-page-pager",e+1)},clickPrevious(){var t;const e=this.current-1;this.pageChange(e),(t=this.$kvTrackEvent)==null||t.call(this,"Lending","click-previous-pager",e+1)},clickNext(){var t;const e=this.current+1;this.pageChange(e),(t=this.$kvTrackEvent)==null||t.call(this,"Lending","click-next-pager",e+1)}}},b={"aria-label":"Pagination"},N={class:"tw-text-center tw-mx-auto tw-my-1.5 tw-flex tw-justify-between tw-items-center",style:{"max-width":"17rem"}},T={class:"pagination-previous"},E=["aria-hidden"],K=["aria-label","onClick"],L={key:0,class:"tw-sr-only"},V={class:"pagination-next"};function q(e,t,l,u,c,a){const g=w("kv-material-icon");return n(),i("nav",b,[r("ul",N,[r("li",T,[r("a",{class:o(["tw-cursor-pointer tw-flex",a.linkClass(0)]),"aria-label":"Previous page",onClick:t[0]||(t[0]=s=>!a.isCurrent(0)&&a.clickPrevious())},[h(g,{icon:c.mdiChevronLeft,class:"tw-h-4 tw-w-4"},null,8,["icon"]),t[2]||(t[2]=r("span",{class:"tw-sr-only"},"Previous page",-1))],2)]),(n(!0),i(m,null,k(a.numbers,(s,f)=>(n(),i("li",{key:f,"aria-hidden":a.isEllipsis(s)},[a.isEllipsis(s)?(n(),i(m,{key:0},[p(" ... ")],64)):(n(),i("a",{key:1,class:o(["tw-cursor-pointer",a.linkClass(s)]),"aria-label":`Page ${s+1}`,onClick:B=>!a.isCurrent(s)&&a.clickPage(s)},[a.isCurrent(s)?(n(),i("span",L,"You're on page")):x("",!0),p(" "+C(s+1),1)],10,K))],8,E))),128)),r("li",V,[r("a",{class:o(["tw-cursor-pointer tw-flex",a.linkClass(a.totalPages?a.totalPages-1:0)]),"aria-label":"Next page",onClick:t[1]||(t[1]=s=>a.totalPages&&!a.isCurrent(a.totalPages-1)&&a.clickNext())},[h(g,{icon:c.mdiChevronRight,class:"tw-h-4 tw-w-4"},null,8,["icon"]),t[3]||(t[3]=r("span",{class:"tw-sr-only"},"Next page",-1))],2)])])])}const z=_(d,[["render",q]]);d.__docgenInfo={displayName:"KvPagination",exportName:"default",description:"",tags:{},props:[{name:"limit",type:{name:"number"},required:!0},{name:"total",type:{name:"number"},required:!0},{name:"offset",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"extraPages",type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"scrollToTop",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"page-changed",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Kv/KvPagination.vue"]};export{z as K};

import{K as _}from"./entry-KvCheckboxList-ClYjGfWYsh.js";import{g as x,a as b}from"./entry-filterUtils-D0mz1tA9_E.js";import{c as A,q as F,a as K,B as I,r as C,o as w}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{_ as N}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import"./entry-index-CWclSTHHJk.js";import"./entry-numeral-xVHG5DEP0A.js";import"./entry-KvCheckbox-CuSfzG7vmP.js";import"./entry-index.browser-vcSNLBTfP4.js";import"./entry-mdi-B1ONwcTkQ2.js";import"./entry-KvMaterialIcon-C3KLX5OV-L.js";import"./entry-attrs-C2OODjD6EW.js";import"./entry-orderBy-CUrcrXTfYx.js";import"./entry-get-D3xDH2SX94.js";import"./entry-isSymbol-5pnFTpIKM9.js";import"./entry-keys-B9dmm4b_qU.js";const v={name:"LoanSearchCheckboxListFilter",components:{KvCheckboxList:_},emits:["updated"],props:{options:{type:Array,default:()=>[]},ids:{type:Array,default:()=>[]},filterKey:{type:String,required:!0},eventAction:{type:String,required:!0}},data(){return{displayed:this.options,selectedIds:this.ids}},computed:{items(){return this.displayed.map(e=>({value:e.id.toString(),title:b(e),disabled:e.numLoansFundraising===0}))},selectedValues(){return this.selectedIds.map(e=>e.toString())}},methods:{update({values:e,changed:o}){this.$emit("updated",{[this.filterKey]:e.map(i=>+i)});const t=this.displayed.find(i=>i.id===+o);t&&this.$kvTrackEvent("Lending",this.eventAction,t.name,e.includes(t.id.toString())?"selected":"deselected")}},watch:{options(e){this.displayed=x(this.displayed,e)},ids(e){[...e].sort().toString()!==[...this.selectedIds].sort().toString()&&(this.selectedIds=e)}}};function V(e,o,t,i,q,c){const S=C("kv-checkbox-list");return w(),A("form",{class:"tw-flex tw-flex-col tw-gap-1.5 tw-mb-2",onSubmit:o[0]||(o[0]=I(()=>{},["prevent"]))},[F("fieldset",null,[K(S,{items:c.items,"selected-values":c.selectedValues,onUpdated:c.update},null,8,["items","selected-values","onUpdated"])])],32)}const L=N(v,[["render",V]]);v.__docgenInfo={displayName:"LoanSearchCheckboxListFilter",exportName:"default",description:"",tags:{},props:[{name:"options",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"ids",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"filterKey",type:{name:"string"},required:!0},{name:"eventAction",type:{name:"string"},required:!0}],events:[{name:"updated",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Lend/LoanSearch/LoanSearchCheckboxListFilter.vue"]};const X={title:"Loan Search/Loan Search Checkbox List Filter",component:L},p=(e={})=>(t,{argTypes:i})=>({props:Object.keys(i),components:{LoanSearchCheckboxListFilter:L},setup(){return e},template:'<loan-search-checkbox-list-filter :options="options" :ids="ids" :filter-key="filterKey" :event-action="eventAction" />'}),a=(e=!1)=>[...Array(4)].map((o,t)=>({id:t,name:`Option ${t}`,numLoansFundraising:e?0:5})),s=p({options:a(),filterKey:"optionId",eventAction:"click-option"}),n=p({options:a(),ids:a().slice(0,2).map(e=>e.id),filterKey:"optionId",eventAction:"click-option"}),r=p({options:a(!0),filterKey:"optionId",eventAction:"click-option"});var d,l,m;s.parameters={...s.parameters,docs:{...(d=s.parameters)==null?void 0:d.docs,source:{originalSource:`story({
  options: options(),
  filterKey: 'optionId',
  eventAction: 'click-option'
})`,...(m=(l=s.parameters)==null?void 0:l.docs)==null?void 0:m.source}}};var u,f,h;n.parameters={...n.parameters,docs:{...(u=n.parameters)==null?void 0:u.docs,source:{originalSource:`story({
  options: options(),
  ids: options().slice(0, 2).map(t => t.id),
  filterKey: 'optionId',
  eventAction: 'click-option'
})`,...(h=(f=n.parameters)==null?void 0:f.docs)==null?void 0:h.source}}};var y,k,g;r.parameters={...r.parameters,docs:{...(y=r.parameters)==null?void 0:y.docs,source:{originalSource:`story({
  options: options(true),
  filterKey: 'optionId',
  eventAction: 'click-option'
})`,...(g=(k=r.parameters)==null?void 0:k.docs)==null?void 0:g.source}}};const Y=["Default","Selected","NoneFundraising"];export{s as Default,r as NoneFundraising,n as Selected,Y as __namedExportsOrder,X as default};

import{r as I,c,o as l,e as n,d as x,H as L,I as N,f as u,b as B,K as F,h as _,A,j as E,u as K}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import{s as q}from"./entry-KvWwwHeader-CVdIzOPj6Q.js";import{B as M}from"./entry-KvCardFrame-BVDksXRUBY.js";import V from"./entry-KvContentfulImg-ClwkYYkTk_.js";import"./entry-numeral-DJCTM12wUX.js";import"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import"./entry-KvThemeProvider-CJZWo36001.js";const W={components:{KvCardFrame:M,KvContentfulImg:V},props:{categoryList:{type:Array,default:()=>[]},hiddenCategories:{type:Array,default:()=>[]},imageWidth:{type:Number,default:64},preSelectedCategory:{type:String,default:null}},emits:["category-selected"],setup(r,{emit:s}){const a=_(null),o=t=>{a.value=t,s("category-selected",t)};A(()=>{r.preSelectedCategory&&o(r.preSelectedCategory)});const m=t=>{var i,e,d,y,p,f,w,v,C;if(t.contentfulEntry){const h=(y=(d=(e=(i=t==null?void 0:t.contentfulEntry)==null?void 0:i.entry)==null?void 0:e.fields)==null?void 0:d.content)==null?void 0:y.find(b=>{var k,S;return(S=(k=b==null?void 0:b.fields)==null?void 0:k.key)==null?void 0:S.includes("category-icon")});return((C=(v=(w=(f=(p=h==null?void 0:h.fields)==null?void 0:p.contentLight)==null?void 0:f[0])==null?void 0:w.fields)==null?void 0:v.file)==null?void 0:C.url)??null}return null},g=E(()=>!r.categoryList||r.categoryList.length===0?[]:r.categoryList.filter(t=>!r.hiddenCategories.includes(t.id)).map(t=>({id:t.id,name:t.name,description:t.description,customImage:t.customImage||null,contentfulImage:m(t)||null})));return{selectedCategory:a,formattedCategories:g,selectCategory:o}}},$={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3"},j={class:"tw-p-2 tw-flex tw-flex-row md:tw-flex-col tw-items-center tw-cursor-pointer"},G=["alt","src","width"],H={class:"md:tw-text-center"},z={class:"tw-mb-0.5 tw-font-medium"},D={class:"tw-text-small"},J={key:0,class:"tw-text-gray-500 tw-italic"};function O(r,s,a,o,m,g){const t=I("kv-contentful-img"),i=I("kv-card-frame");return l(),c("div",null,[n("div",$,[(l(!0),c(L,null,N(o.formattedCategories,e=>(l(),u(i,{key:e.id,"bg-color-class":o.selectedCategory===e.id?"tw-bg-secondary":"tw-bg-white","border-class":o.selectedCategory===e.id?"tw-border-2 tw-border-action":"tw-border-2 tw-border-transparent",class:"tw-transition-all tw-duration-200 hover:tw-shadow-lg",onClick:d=>o.selectCategory(e.id)},{default:B(()=>[n("div",j,[e!=null&&e.contentfulImage?(l(),u(t,{key:0,class:"tw-shrink-0 tw-mr-2 md:tw-mr-0 md:tw-mb-2",alt:`${e.name} image`,"contentful-src":e.contentfulImage,width:a.imageWidth},null,8,["alt","contentful-src","width"])):e!=null&&e.customImage?(l(),c("img",{key:1,class:"tw-shrink-0 tw-mr-2 md:tw-mr-0 md:tw-mb-2",alt:`${e.name} image`,src:e.customImage,width:a.imageWidth},null,8,G)):x("",!0),n("div",H,[n("p",z,F(e.name),1),n("p",D,F(e.description),1)])])]),_:2},1032,["bg-color-class","border-class","onClick"]))),128))]),o.formattedCategories.length===0?(l(),c("p",J," No categories available ")):x("",!0)])}const U=q(W,[["render",O]]),P={__name:"CategoryForm",props:{categories:{type:Array,required:!0},preSelectedCategory:{type:String,default:"1"}},emits:["category-selected"],setup(r){return(s,a)=>(l(),u(K(U),{"category-list":r.categories,"pre-selected-category":r.preSelectedCategory,onCategorySelected:a[0]||(a[0]=o=>s.$emit("category-selected",o))},null,8,["category-list","pre-selected-category"]))}};P.__docgenInfo={exportName:"default",displayName:"CategoryForm",description:"",tags:{},props:[{name:"categories",type:{name:"array"},required:!0},{name:"preSelectedCategory",type:{name:"string"},defaultValue:{func:!1,value:"'1'"}}],events:[{name:"category-selected"}],sourceFiles:["/home/runner/work/ui/ui/src/components/MyKiva/GoalSetting/CategoryForm.vue"]};export{P as default};

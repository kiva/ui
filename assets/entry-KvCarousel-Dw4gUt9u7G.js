import{f as D,g as G,y as q,A as F}from"./entry-mdi-B1ONwcTkQ2.js";import{t as J,j as h,g as k,k as X,n as $,l as Q,c as u,o as c,q as r,m as N,J as O,I as K,G as Y,A as g,v as Z,a as T,r as ee,L as P}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{E as te,k as le,G as oe,s as ae}from"./entry-KvWwwHeader-C1bm1YMh4q.js";import{u as ie}from"./entry-throttle-4FNEI5INvC.js";import{x as ne}from"./entry-KvMaterialIcon-C3KLX5OV-L.js";function se(f,{emit:a,slots:o},e){var y;const{autoplayOptions:b,fadeEnabled:w,emblaOptions:i,slidesToScroll:d}=J(f),I=h(null),t=h(null),p=h([]),x=h(!1),A=((y=i.value)==null?void 0:y.startIndex)??0,m=h(A),C=h(0),L=k(()=>Object.keys(o)),R=k(()=>{const l=m.value+1;return l<p.value.length?l:0}),j=k(()=>{const l=m.value-1;return l>=0?l:p.value.length-1}),U=l=>{var n,s;const v=(s=(n=t.value)==null?void 0:n.plugins())==null?void 0:s.autoplay;v&&v.stop(),t.value.scrollTo(l)},_=async(l,n)=>{l!==null&&typeof l<"u"&&(await $(),U(l)),a("interact-carousel",n)},M=()=>{var l,n;const s=(n=(l=t.value)==null?void 0:l.plugins())==null?void 0:n.autoplay;s&&(s.isPlaying()?s.stop:s.play)()},S=()=>{const l=t.value?t.value.scrollSnapList().length:0;return C.value=l,l},V=()=>{const l=t.value.slidesInView(!0).length;l&&t.value.reInit({slidesToScroll:l,inViewThreshold:.9})},z=()=>{t.value.reInit(),d.value==="visible"&&V(),p.value=t.value.slideNodes(),S()},H=l=>t.value?!t.value.slidesInView(!0).includes(l):!1,W=k(()=>{const l=[];return Object.keys(b.value).length!==0&&l.push(te(b.value)),w.value&&l.push(le()),l});return X(async()=>{var l,n,s;t.value=oe(I.value,{loop:!0,containScroll:"trimSnaps",inViewThreshold:.9,align:"start",...e,...i.value},W.value),d.value==="visible"&&(V(),t.value.on("resize",ie(()=>{t.value.reInit({slidesToScroll:t.value.slidesInView(!0).length||"auto",inViewThreshold:.9}),p.value=t.value.slideNodes(),S()},250))),p.value=t.value.slideNodes(),S(),(l=t==null?void 0:t.value)==null||l.on("select",()=>{var v,B;m.value=t.value.selectedScrollSnap();const E=(B=(v=t.value)==null?void 0:v.plugins())==null?void 0:B.autoplay;E&&(t.value.plugins().autoplay.options.playOnInit=E.isPlaying()),$(()=>{a("change",m)})}),(n=t==null?void 0:t.value)==null||n.on("autoplay:play",()=>{x.value=!0}),(s=t==null?void 0:t.value)==null||s.on("autoplay:stop",()=>{x.value=!1})}),Q(async()=>{var l,n,s,v;(l=t==null?void 0:t.value)==null||l.off("select"),(n=t==null?void 0:t.value)==null||n.off("autoplay:play"),(s=t==null?void 0:t.value)==null||s.off("autoplay:stop"),(v=t==null?void 0:t.value)==null||v.destroy()}),{rootEl:I,embla:t,slides:p,currentIndex:m,componentSlotKeys:L,nextIndex:R,previousIndex:j,slideIndicatorCount:C,handleUserInteraction:_,goToSlide:U,reInit:z,reInitVisible:V,isAriaHidden:H,isAutoplaying:x,slideIndicatorListLength:S,toggleAutoPlay:M}}const re={name:"KvCarousel",components:{KvMaterialIcon:ne},props:{multipleSlidesVisible:{type:Boolean,default:!1},emblaOptions:{type:Object,default(){return{}}},autoplayOptions:{type:Object,default(){return{}}},fadeEnabled:{type:Boolean,default:!1},slidesToScroll:{type:String,default:"auto",validator:f=>["visible","auto"].indexOf(f)!==-1},slideMaxWidth:{type:String,default:""},asideControls:{type:Boolean,default:!1},isDotted:{type:Boolean,default:!1},inCircle:{type:Boolean,default:!1},controlsTopRight:{type:Boolean,default:!1}},emits:["change","interact-carousel"],setup(f,{emit:a,slots:o}){const{componentSlotKeys:e,currentIndex:y,embla:b,goToSlide:w,handleUserInteraction:i,isAriaHidden:d,isAutoplaying:I,nextIndex:t,previousIndex:p,reInit:x,reInitVisible:A,rootEl:m,slideIndicatorCount:C,slideIndicatorListLength:L,slides:R,toggleAutoPlay:j}=se(f,{emit:a,slots:o},{});return{componentSlotKeys:e,currentIndex:y,embla:b,goToSlide:w,handleUserInteraction:i,isAriaHidden:d,isAutoplaying:I,mdiArrowLeft:F,mdiArrowRight:q,mdiChevronLeft:G,mdiChevronRight:D,nextIndex:t,previousIndex:p,reInit:x,reInitVisible:A,rootEl:m,slideIndicatorCount:C,slideIndicatorListLength:L,slides:R,toggleAutoPlay:j}}},de=["aria-label","aria-current","aria-hidden","tab-index"],ue=["disabled"],ce=["aria-label"],we=["disabled"],pe={key:1,class:"kv-carousel__controls tw-flex tw-justify-center tw-items-center tw-gap-1.5 tw-mt-4 tw-w-full"},ve=["onClick"],fe={class:"tw-hidden lg:tw-flex tw-absolute tw-h-full tw-top-0 tw-items-center",style:{background:"linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%)",width:"8%"}},me=["disabled"],ge={class:"tw-hidden lg:tw-flex tw-absolute tw-h-full tw-top-0 tw-right-0 tw-items-center tw-justify-end tw-w-16",style:{background:"linear-gradient(270deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%)",width:"8%"}},he=["disabled"];function ye(f,a,o,e,y,b){const w=ee("kv-material-icon");return c(),u("section",{ref:"rootEl",class:g(["kv-carousel tw-overflow-hidden tw-w-full",{"lg:tw-relative":o.asideControls,"tw-relative tw-pt-6":o.controlsTopRight}]),"aria-label":"carousel"},[r("div",{class:g(["tw-flex tw-gap-x-4",{"tw-mx-auto aside-controls-content":o.asideControls,"circle-carousel":o.inCircle}])},[(c(!0),u(O,null,K(e.componentSlotKeys,(i,d)=>(c(),u("div",{key:d,class:g(["tw-flex-none tw-relative",{"tw-w-full":!o.multipleSlidesVisible||o.slideMaxWidth,"circle-slide":o.inCircle}]),role:"group","aria-label":`slide ${d+1} of ${e.componentSlotKeys.length}`,"aria-current":e.currentIndex===d?"true":"false","aria-hidden":e.isAriaHidden(d)?"true":"false","tab-index":e.isAriaHidden(d)?"-1":!1,style:Y(o.slideMaxWidth?`max-width:${o.slideMaxWidth}`:"")},[Z(f.$slots,i,{},void 0,!0)],14,de))),128))],2),e.slideIndicatorCount>1&&!o.isDotted?(c(),u("div",{key:0,class:g(["kv-carousel__controls tw-flex tw-justify-between tw-items-center tw-w-full",{"lg:tw-hidden":o.asideControls,"tw-mt-4 md:tw-justify-center":!o.controlsTopRight,"md:tw-justify-end tw-absolute tw-top-0 tw-right-0 tw-w-auto tw-gap-1.5 tw-pr-1":o.controlsTopRight}])},[r("button",{class:g(["tw-text-primary tw-rounded-full tw-border-primary tw-flex tw-items-center tw-justify-center disabled:tw-opacity-low disabled:tw-cursor-default",{"tw-border-2 tw-h-4 tw-w-4":!o.controlsTopRight,"tw-bg-white tw-shadow-lg tw-h-3.5 tw-w-3.5":o.controlsTopRight}]),disabled:e.embla&&!e.embla.canScrollPrev(),onClick:a[0]||(a[0]=i=>e.handleUserInteraction(e.previousIndex,"click-left-arrow"))},[T(w,{class:"tw-w-4",icon:o.asideControls?e.mdiArrowLeft:e.mdiChevronLeft},null,8,["icon"]),a[4]||(a[4]=r("span",{class:"tw-sr-only"},"Show previous slide",-1))],10,ue),o.controlsTopRight?N("",!0):(c(),u("div",{key:0,"aria-label":`screen ${e.currentIndex+1} of ${e.slideIndicatorCount}`,class:"tw-mx-2 md:tw-mx-3 lg:tw-mx-4 tw-invisible md:tw-visible"},P(e.currentIndex+1)+"/"+P(e.slideIndicatorCount),9,ce)),r("button",{class:g(["tw-text-primary tw-rounded-full tw-border-primary tw-flex tw-items-center tw-justify-center disabled:tw-opacity-low disabled:tw-cursor-default",{"tw-border-2 tw-h-4 tw-w-4":!o.controlsTopRight,"tw-bg-white tw-shadow-lg tw-h-3.5 tw-w-3.5":o.controlsTopRight}]),disabled:e.embla&&!e.embla.canScrollNext(),onClick:a[1]||(a[1]=i=>e.handleUserInteraction(e.nextIndex,"click-right-arrow"))},[T(w,{class:"tw-w-4",icon:o.asideControls?e.mdiArrowRight:e.mdiChevronRight},null,8,["icon"]),a[5]||(a[5]=r("span",{class:"tw-sr-only"},"Show next slide",-1))],10,we)],2)):e.slideIndicatorCount>1?(c(),u("div",pe,[(c(!0),u(O,null,K(e.slideIndicatorCount,i=>(c(),u("button",{key:i,onClick:d=>e.goToSlide(i-1)},[r("div",{class:g(["tw-rounded-full tw-border tw-transition tw-duration-500 tw-ease-in-out",[{"tw-bg-black tw-border-black tw-h-1.5 tw-w-1.5":e.currentIndex===i-1},{"tw-bg-tertiary tw-border-tertiary tw-h-1 tw-w-1":e.currentIndex!==i-1}]])},null,2)],8,ve))),128))])):N("",!0),o.asideControls?(c(),u(O,{key:2},[r("div",fe,[r("button",{class:"tw-text-primary tw-bg-gray-100 tw-rounded-full tw-h-6 tw-w-6 tw-ml-3 tw-flex tw-items-center tw-justify-center disabled:tw-opacity-low disabled:tw-cursor-default",disabled:e.embla&&!e.embla.canScrollPrev(),onClick:a[2]||(a[2]=i=>e.handleUserInteraction(e.previousIndex,"click-left-arrow"))},[T(w,{class:"tw-w-4",icon:e.mdiArrowLeft},null,8,["icon"]),a[6]||(a[6]=r("span",{class:"tw-sr-only"},"Show previous slide",-1))],8,me)]),r("div",ge,[r("button",{class:"tw-text-primary tw-bg-gray-100 tw-rounded-full tw-h-6 tw-w-6 tw-mr-3 tw-flex tw-items-center tw-justify-center disabled:tw-opacity-low disabled:tw-cursor-default",disabled:e.embla&&!e.embla.canScrollNext(),onClick:a[3]||(a[3]=i=>e.handleUserInteraction(e.nextIndex,"click-right-arrow"))},[T(w,{class:"tw-w-4",icon:e.mdiArrowRight},null,8,["icon"]),a[7]||(a[7]=r("span",{class:"tw-sr-only"},"Show next slide",-1))],8,he)])],64)):N("",!0)],2)}const ke=ae(re,[["render",ye],["__scopeId","data-v-c7500299"]]);export{ke as z};

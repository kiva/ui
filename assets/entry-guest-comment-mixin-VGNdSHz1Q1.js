import{l as i}from"./entry-logFormatter-DhjghUk5Me.js";import{_ as a}from"./entry-loanAddComment-DvQEPf3nxH.js";const r="guestCommentComment",n="guestCommentLoanId",d={mounted(){var m,s;const o=this.cookieStore.get(r),t=this.cookieStore.get(n);(((s=(m=this.$route)==null?void 0:m.params)==null?void 0:s.id)??0).toString()===t&&o&&this.submitComment()},methods:{submitComment(){var o,t;this.apollo.mutate({mutation:a,variables:{id:Number(((t=(o=this.$route)==null?void 0:o.params)==null?void 0:t.id)??0),body:this.cookieStore.get(r)}}).then(({data:e})=>{if(e.loan.addComment)this.$showTipMsg("Thank you for leaving a comment!"),this.cookieStore.remove(r),this.cookieStore.remove(n);else throw new Error("Comment not added")}).catch(e=>{i(e,"error"),this.$showTipMsg("There was a problem commenting on this loan","error")})}}};export{r as G,n as a,d as g};

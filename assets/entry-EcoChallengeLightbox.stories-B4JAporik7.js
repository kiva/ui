import{c as l,N as ce,o as t,z as m,C as u,r as b,K as pe,q as c,m as ge,L as h,J as T,I as A,A as ne,a as me,D as S,M as L}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import{o as ue,x as be,y as he}from"./entry-mdi-B1ONwcTkQ2.js";import{j as xe}from"./entry-joinArray-BjvW27pIp5.js";import{m as de}from"./entry-achievementUtils-Cf0LlmQMSn.js";import{x as ve}from"./entry-KvMaterialIcon-C3KLX5OV-L.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{g as ye}from"./entry-KvButton-BA7nBLyz1b.js";import{M as ke}from"./entry-KvLightbox-y8nxBJS-RZ.js";import"./entry-numeral-xVHG5DEP0A.js";import{b as Ce}from"./entry-KvTextLink-DIVE-Pebb8.js";import{_ as fe}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import{c as n}from"./entry-cookie-store-story-mixin-Bv_t57ys9l.js";import{a as r}from"./entry-apollo-story-mixin-CB9BNmK9U5.js";import"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import"./entry-index-CWclSTHHJk.js";import"./entry-KvLoadingSpinner-CpYE5b1xV2.js";const we={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 25"};function _e(s,e){return t(),l("svg",we,e[0]||(e[0]=[ce('<path d="M4.342 11.99c0-.34-.006-.68.115-1-.16 0-.457.18-.562.3-.08.092-.216.163-.311.245a2.373 2.373 0 0 0-.23.228c-.124.14-.261.308-.404.425-.148.12-.237.276-.357.42-.151.18-.311.354-.457.539-.423.532-.796 1.23-.909 1.91-.054.326-.143.638-.183.967-.017.148-.07.342-.03.492.06.22.156.44.248.65.136.31.235.676.437.95.118.162.186.36.3.527.097.146.178.3.257.456.142.287.35.54.46.844.057.159.124.324.149.493.019.125.087.238.096.363.01.15.036.307.059.455.022.151.028.295.07.445.067.244.274.475.412.682.076.114.183.268.306.328.092.045.193.085.28.139.112.068.284-.063.364-.145.145-.148.216-.398.28-.59.06-.172.155-.344.275-.482a4 4 0 0 1 .61-.54c.114-.085.19-.259.276-.373.126-.17.233-.375.3-.575.09-.27-.027-.304-.197-.468-.181-.174-.346-.318-.494-.526-.136-.191-.301-.363-.425-.562-.101-.16-.188-.31-.322-.445-.186-.186-.423-.312-.64-.456-.357-.237-.65-.68-.899-1.034-.186-.263-.337-.574-.248-.902.057-.209.196-.35.316-.525.181-.266.38-.508.54-.787.297-.513.654-1.074.654-1.686.002-.275-.136-.5-.136-.763ZM8.542 10.318c-.129-.16-.4-.315-.6-.363-.341 0-.662-.07-1-.07-.205 0-.457.014-.655.07-.225.064-.465.06-.69.14-.172.063-.311.227-.38.394-.034.08-.072.242.011.298.112.073.197.186.277.294.129.174.11.416.212.602.065.117.101.23.22.31.076.05.18.14.271.14.496 0 .952-.16 1.43-.274.405-.1 1.205-.173 1.176-.76a2.44 2.44 0 0 0-.079-.474c-.036-.141-.106-.199-.193-.307Z" fill="#26985D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.242 20.444a.478.478 0 1 0 .002.956.478.478 0 0 0-.002-.956Zm-.938 1.126a.476.476 0 1 0 0 .953.476.476 0 0 0 0-.953Zm1.312.375a.478.478 0 1 0 .002.955.478.478 0 0 0-.002-.955Z" fill="#26985D"></path><path d="M8.133 24c3.76 0 6.985-3.288 6.985-7.12 0-3.833-3.225-6.941-6.985-6.941-3.759 0-6.808 3.107-6.808 6.94S4.372 24 8.133 24Z" stroke="#26985D" stroke-width="1.028" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.083 18.067c.127-.237.233-.475.385-.698.186-.273.342-.59.591-.815.103-.092.195-.228.286-.337.075-.09.14-.153.19-.253.015-.034.08-.1.11-.129.03-.03.053-.113.081-.128.085-.05.132-.167.16-.26a.86.86 0 0 0 .028-.21 7.021 7.021 0 0 0-2.63-3.91 1.366 1.366 0 0 1-.21-.078c-.035-.015-.1-.034-.115-.064-.206-.13-.502.117-.745.117-.105 0-.166.045-.25.11-.187.144-.358.307-.594.361a1.299 1.299 0 0 0-.493.282c-.217.21-.498.472-.606.768a.52.52 0 0 0-.027.193c0 .235.248.3.435.374.235.094.506.172.76.186.18.01.36-.015.538.002.303.03.553.199.856.258.248.048.486.137.737.18.147.027.167.16.217.283.045.111.082.256-.033.337-.129.093-.292.11-.438.164-.105.038-.208.078-.319.1-.759.156-1.424-.27-2.165-.27-.413 0-.693.074-.984.379-.17.18-.257.402-.396.602-.133.188-.21.433-.275.654-.134.446-.01.848.23 1.23.12.192.328.342.525.447.106.055.191.137.294.2.152.092.317.142.482.198.126.044.141.146.204.25.132.218.231.488.32.726.1.262.218.523.3.789.048.158.086.324.16.473.16.326.43.623.741.797.136.075.442.039.59.02.181-.025.392-.303.494-.443a2.35 2.35 0 0 0 .265-.54c.078-.208.14-.465.14-.69 0-.369-.062-.757-.017-1.124.02-.17.098-.383.178-.531Z" fill="#26985D"></path><path d="M13.297 6.769c-2.394-1.43-4.085-.301-4.753.572a.288.288 0 0 0 .074.418c1.113.733 3.32 1.305 4.767-.53a.312.312 0 0 0-.088-.46Z" stroke="#26985D" stroke-width="1.028" stroke-linecap="round"></path><path d="M5.96 3.338c2.631.923 2.848 2.944 2.605 4.016a.288.288 0 0 1-.368.211c-1.276-.384-3.129-1.713-2.647-4a.312.312 0 0 1 .41-.227ZM8.197 11.073c-.209-.57-.501-1.976 0-3.045" stroke="#26985D" stroke-width="1.028" stroke-linecap="round"></path><path d="m10.516 1.658.34-.695M8.743 1.547l-.25-.734M11.69 2.992l.732-.252" stroke="#26985D" stroke-width="1.028" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>',7)]))}const Me={render:_e},re={name:"EcoChallengeLightbox",components:{IconClimateChallenge:Me,KvButton:ye,KvLightbox:ke,KvMaterialIcon:ve,KvTextLink:Ce},inject:["apollo","cookieStore"],emits:["close-lightbox"],props:{visible:{type:Boolean,default:!1},progresses:{type:Array,default:()=>[]}},data(){return{mdiArrowRight:he,mdiCheckboxBlankCircleOutline:be,mdiCheckCircle:ue,milestoneSteps:[{name:"sustainable-agriculture",title:"Agriculture",url:"/lend-by-category/eco-friendly#carousel-sustainable-agriculture",buttonText:"Find an agriculture loan"},{name:"recycle-reuse",title:"Recycle",url:"/lend-by-category/eco-friendly#carousel-recycle-and-re-use",buttonText:"Find a recycling loan"},{name:"solar",title:"Solar",url:"/lend-by-category/eco-friendly#carousel-solar-energy",buttonText:"Find a solar loan"}]}},computed:{missingMilestones(){return de(this.progresses,"climate-challenge")},categoriesMissingString(){const s=this.missingMilestones.map(e=>e.milestoneName);return xe(s).replaceAll("-"," ")},firstMissingMilestoneStep(){return this.milestoneSteps.filter(s=>s.name===this.missingMilestones[0].milestoneName)??[]}},methods:{closeLightbox(){this.$emit("close-lightbox")},isStepMissing(s){return!!this.missingMilestones.find(e=>e.milestoneName===s)}}},Se={class:"tw-block md:tw-flex tw-justify-between tw-items-center"},Le={key:0,class:"tw-pb-3 tw-pr-5 tw-basis-9/12"},Ee={key:1,class:"tw-pb-3 tw-pr-5 tw-basis-9/12"},Oe={class:"tw-pb-3 tw-flex tw-justify-between tw-pr-4 tw-basis-1/3"},je={class:"tw-text-small tw-font-medium"},Ne={key:0,class:ne(["tw-bg-brand-200","tw-p-4 tw-rounded","tw-flex"])},Te={class:"tw-flex tw-rounded tw-h-12 tw-w-12 tw-bg-primary tw-p-1 tw-mr-2"},Ae={class:"tw-mr-2"},Be={class:"tw-text-h4"};function De(s,e,E,O,p,o){const j=b("kv-material-icon"),ie=b("icon-climate-challenge"),N=b("kv-button"),le=b("kv-text-link"),ae=b("kv-lightbox"),M=pe("kv-track-event");return t(),m(ae,{visible:E.visible,title:"Added to basket!",onLightboxClosed:o.closeLightbox},{controls:u(()=>[o.missingMilestones.length===0?S((t(),m(N,{key:0,to:"/basket"},{default:u(()=>e[0]||(e[0]=[L(" Continue to Checkout ")]),void 0,!0),_:1,__:[0]})),[[M,["borrower-profile","click","eco-challenge-lightbox-cta","checkout"]]]):S((t(),m(le,{key:1,icon:p.mdiArrowRight,href:"/basket"},{default:u(()=>e[1]||(e[1]=[L(" Or continue to checkout ")]),void 0,!0),_:1,__:[1]},8,["icon"])),[[M,["borrower-profile","click","eco-challenge-lightbox-cta","checkout"]]])]),default:u(()=>[c("div",Se,[o.missingMilestones.length===0?(t(),l("h2",Le," Way to go! Youâ€™re all set to complete the Climate Challenge. ")):(t(),l("h2",Ee," Alright! Now you just need to make a "+h(o.categoriesMissingString)+" loan to complete the challenge. ",1)),c("div",Oe,[(t(!0),l(T,null,A(p.milestoneSteps,(g,x)=>(t(),l("div",{class:"tw-flex tw-flex-col tw-items-center",key:x},[o.isStepMissing(g.name)?(t(),m(j,{key:1,class:"tw-w-6 tw-h-6 tw-text-secondary",icon:p.mdiCheckboxBlankCircleOutline},null,8,["icon"])):(t(),m(j,{key:0,class:"tw-w-6 tw-h-6 tw-text-brand",icon:p.mdiCheckCircle},null,8,["icon"])),c("span",je,h(g.title),1)]))),128))])]),o.missingMilestones.length!==0?(t(),l("div",Ne,[c("div",Te,[me(ie,{class:"tw-h-full tw-w-full"})]),(t(!0),l(T,null,A(o.firstMissingMilestoneStep,(g,x)=>(t(),l("div",{class:ne(["tw-grow tw-items-center tw-justify-between","tw-flex tw-flex-wrap md:tw-flex-nowrap"]),key:x},[c("div",Ae,[c("h4",Be,h(o.missingMilestones.length===1?"Last":"Next")+" Step ",1),c("h3",null," Find a loan for "+h(s.$filters.changeCase(g.name,"noCase"))+"! ",1)]),S((t(),m(N,{class:"tw-mt-2 tw-flex-none",to:g.url,key:x},{default:u(()=>[L(h(g.buttonText),1)],void 0,!0),_:2},1032,["to"])),[[M,["borrower-profile","click","eco-challenge-lightbox-cta","next-step"]]])]))),128))])):ge("",!0)],void 0),_:1},8,["visible","onLightboxClosed"])}const i=fe(re,[["render",De]]);re.__docgenInfo={displayName:"EcoChallengeLightbox",exportName:"default",description:"",tags:{},props:[{name:"visible",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"progresses",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],events:[{name:"close-lightbox"}],sourceFiles:["/home/runner/work/ui/ui/src/components/Lightboxes/EcoChallengeLightbox.vue"]};const Re={"sustainable-agriculture":[{achievement:"climate-challenge",milestoneName:"sustainable-agriculture",status:"NO_NEW_PROGRESS"},{achievement:"climate-challenge",milestoneName:"sustainable-agriculture",status:"COMPLETABLE"}],"recycle-reuse":[{achievement:"climate-challenge",milestoneName:"recycle-reuse",status:"NO_NEW_PROGRESS"},{achievement:"climate-challenge",milestoneName:"recycle-reuse",status:"COMPLETABLE"}],solar:[{achievement:"climate-challenge",milestoneName:"solar",status:"NO_NEW_PROGRESS"},{achievement:"climate-challenge",milestoneName:"solar",status:"COMPLETABLE"}]};function Ze(s){let e=[[]];for(const[E,O]of Object.entries(s))e=e.flatMap(p=>O.map(o=>[...p,o]));return e}const a=Ze(Re),es={title:"Components/Eco Challenge Lightbox",component:i,mixins:[n(),r()],args:{progresses:[],visible:!0}},d=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[0],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),v=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[1],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),y=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[2],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),k=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[3],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),C=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[4],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),f=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[5],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),w=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[6],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `}),_=(s,{argTypes:e})=>({props:Object.keys(e),components:{EcoChallengeLightbox:i},mixins:[n(),r()],setup(){return{progresses:a[7],visible:!0}},template:`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        `});var B,D,R;d.parameters={...d.parameters,docs:{...(B=d.parameters)==null?void 0:B.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[0],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(R=(D=d.parameters)==null?void 0:D.docs)==null?void 0:R.source}}};var Z,V,F;v.parameters={...v.parameters,docs:{...(Z=v.parameters)==null?void 0:Z.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[1],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(F=(V=v.parameters)==null?void 0:V.docs)==null?void 0:F.source}}};var P,K,I;y.parameters={...y.parameters,docs:{...(P=y.parameters)==null?void 0:P.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[2],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(I=(K=y.parameters)==null?void 0:K.docs)==null?void 0:I.source}}};var W,G,z;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[3],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(z=(G=k.parameters)==null?void 0:G.docs)==null?void 0:z.source}}};var q,J,Y;C.parameters={...C.parameters,docs:{...(q=C.parameters)==null?void 0:q.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[4],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(Y=(J=C.parameters)==null?void 0:J.docs)==null?void 0:Y.source}}};var H,Q,U;f.parameters={...f.parameters,docs:{...(H=f.parameters)==null?void 0:H.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[5],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(U=(Q=f.parameters)==null?void 0:Q.docs)==null?void 0:U.source}}};var X,$,ee;w.parameters={...w.parameters,docs:{...(X=w.parameters)==null?void 0:X.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[6],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(ee=($=w.parameters)==null?void 0:$.docs)==null?void 0:ee.source}}};var se,te,oe;_.parameters={..._.parameters,docs:{...(se=_.parameters)==null?void 0:se.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    EcoChallengeLightbox
  },
  mixins: [cookieStoreStoryMixin(), apolloStoryMixin()],
  setup() {
    return {
      progresses: allMilestoneCombinations[7],
      visible: true
    };
  },
  template: \`
        <eco-challenge-lightbox
            :visible="visible"
            :progresses="progresses"
         />
        \`
})`,...(oe=(te=_.parameters)==null?void 0:te.docs)==null?void 0:oe.source}}};const ss=["EcoChallengeLightboxCombo0","EcoChallengeLightboxCombo1","EcoChallengeLightboxCombo2","EcoChallengeLightboxCombo3","EcoChallengeLightboxCombo4","EcoChallengeLightboxCombo5","EcoChallengeLightboxCombo6","EcoChallengeLightboxCombo7"];export{d as EcoChallengeLightboxCombo0,v as EcoChallengeLightboxCombo1,y as EcoChallengeLightboxCombo2,k as EcoChallengeLightboxCombo3,C as EcoChallengeLightboxCombo4,f as EcoChallengeLightboxCombo5,w as EcoChallengeLightboxCombo6,_ as EcoChallengeLightboxCombo7,ss as __namedExportsOrder,es as default};

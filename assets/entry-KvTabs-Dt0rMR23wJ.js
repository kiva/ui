import{c as h,o as T,g as p,n as f,z as I,j as m,A as $,k as E,D as g,e as b,x as C,p as A,h as B,S as D,t as P}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import{s as y}from"./entry-KvWwwHeader-CVdIzOPj6Q.js";const K={props:{forPanel:{type:String,required:!0},selected:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1}},setup(s){const{forPanel:n}=I(s),e=E("$KvTabContext"),t=m(()=>{var l;let r=[],a=0;return e&&(r=e.navItems,a=e.selectedIndex),((l=r[a])==null?void 0:l.forPanel)===n.value}),o=m(()=>{let l=[];return e&&(l=e.navItems),l==null?void 0:l.findIndex(r=>r.forPanel===n.value)}),d=()=>{e.setTab(o.value)};return $(()=>{const l=g();e.navItems.push(l.proxy)}),{isActive:t,handleTabClicked:d}}},z=["id","aria-selected","aria-controls","tabindex"];function S(s,n,e,t,o,d){return T(),h("button",{id:`kv-tab-${e.forPanel}`,class:f(["tw-text-h3 tw-mb-1.5 tw-whitespace-nowrap tw-text-left",{"hover:tw-text-action":!t.isActive,"md:tw-border-l-2 tw-border-transparent md:tw-pl-2":e.vertical,"tw-text-action":t.isActive&&e.vertical}]),role:"tab","aria-selected":t.isActive,"aria-controls":`kv-tab-panel-${e.forPanel}`,tabindex:t.isActive?null:-1,onClick:n[0]||(n[0]=(...l)=>t.handleTabClicked&&t.handleTabClicked(...l))},[p(s.$slots,"default")],10,z)}const U=y(K,[["render",S]]),H={props:{vertical:{type:Boolean,default:!1}},setup(s,{emit:n}){const e=A({selectedIndex:0,setTab:null,navItems:[]}),t=B(null),o=m(()=>{var a;const{navItems:c,selectedIndex:v}=e;return((a=c[v])==null?void 0:a.$el)??null}),d=()=>{const a=g();a&&a.proxy.$forceUpdate()},l=a=>{e.selectedIndex=a,o.value.scrollIntoView({behavior:"smooth",block:"nearest"}),n("tab-changed",a)};e.setTab=l,P("$KvTabContext",e);const r=a=>{const{navItems:c,selectedIndex:v}=e,u=()=>{var i;const x=c.find(k=>k.isActive);x&&((i=x.$el)==null||i.focus())},w=c.length;if(a.key==="ArrowRight"){a.preventDefault();const i=(v+1)%w;l(i),u()}if(a.key==="ArrowLeft"){a.preventDefault();const i=(v-1+w)%w;l(i),u()}a.key==="Home"&&(a.preventDefault(),l(0),u()),a.key==="End"&&(a.preventDefault(),l(w-1),u())};return $(()=>{e.navItems.forEach((a,c)=>{a.selected&&l(c)}),t.value=new ResizeObserver(()=>{d()}),t.value.observe(o.value)}),D(()=>{t.value.disconnect()}),{handleKeyDown:r,selectedTabEl:o,tabContext:e}}},R={class:"tw-relative"};function j(s,n,e,t,o,d){return T(),h("div",{class:f(e.vertical?"md:tw-flex":"")},[b("div",{role:"tablist",class:f(["tw-flex tw-overflow-auto tw-relative tw-gap-x-2.5 md:tw-gap-x-5 lg:tw-gap-x-6 tw-mb-3 lg:tw-mb-4",{"md:tw-flex-col md:tw-mr-3":e.vertical}]),onKeydown:n[0]||(n[0]=l=>t.handleKeyDown(l))},[p(s.$slots,"tabNav"),b("div",{class:f(["tw-absolute tw-bottom-0 tw-h-0.5 tw-left-0 tw-bg-primary-inverse tw-rounded-full tw-origin-left tw-transition-all tw-duration-300",{"tw-hidden md:tw-block tw-top-0 md:tw-bg-action":e.vertical}]),style:C(`
					width: ${t.selectedTabEl&&!e.vertical?t.selectedTabEl.clientWidth:3}px;
					height: ${t.selectedTabEl&&e.vertical?`${t.selectedTabEl.clientHeight}px`:"0.25rem"};
					transform: ${t.selectedTabEl&&!e.vertical?`translateX(${t.selectedTabEl.offsetLeft}px)`:t.selectedTabEl?`translateY(${t.selectedTabEl.offsetTop}px)`:null};
				`)},null,6)],34),b("div",R,[p(s.$slots,"tabPanels")])],2)}const V=y(H,[["render",j]]);export{V as H,U as _};

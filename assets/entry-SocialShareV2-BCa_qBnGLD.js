import{_ as b}from"./entry-orderBy-CUrcrXTfYx.js";import{K as f}from"./entry-KvIcon-DpMQFaEAGT.js";import{s as y,C as v}from"./entry-social-sharing-mixin-mcFPgMmQne.js";import{c as i,e as a,K as p,F as c,P as S,a as u,n as C,r as g,o as r}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import{w as L}from"./entry-KvMaterialIcon-DcajXwg-0j.js";import"./entry-KvWwwHeader-CVdIzOPj6Q.js";import"./entry-numeral-DJCTM12wUX.js";import{_ as I}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";const k={name:"SocialShareV2",inject:["apollo"],components:{KvIcon:f,KvMaterialIcon:L},props:{lender:{type:Object,required:!0},loans:{type:Array,required:!0},isGuest:{type:Boolean,default:!1}},data(){return{copyStatus:{class:"",disabled:!1,text:"Copy Link"},isTeamInvitation:!1,maxMessageLength:280,message:"",selectedLoanIndex:0,utmCampaign:"social_share_checkout",KvBlueskyIcon:v}},mixins:[y],computed:{selectedLoan(){return b(this.loans,["unreservedAmount"],["desc"])[0]||{}},selectedLoanId(){var e;return((e=this.selectedLoan)==null?void 0:e.id)??void 0},placeholderMessage(){return this.selectedLoan.name?`Why did you lend to ${this.selectedLoan.name}?`:""},suggestedMessage(){var e,s,o,d,t;if(this.selectedLoan.name){const n=((s=(e=this.selectedLoan)==null?void 0:e.geocode)==null?void 0:s.city)||((t=(d=(o=this.selectedLoan)==null?void 0:o.geocode)==null?void 0:d.country)==null?void 0:t.name);return`Kiva is an easy way to make a real difference in someone's life. Will you join me in helping ${this.selectedLoan.name} ${n?`in ${n} `:""}to pursue their dream?`}return""},isSuggestedMessage(){return this.message.trim()===this.suggestedMessage},shareMessage(){return this.message.trim()||this.suggestedMessage},utmContent(){var e,s,o;return this.isGuest?"guest":(e=this.lender)!=null&&e.public&&((s=this.lender)!=null&&s.inviterName)?(o=this.lender)==null?void 0:o.inviterName:"anonymous"},shareLink(){const e=`https://${this.$appConfig.host}`;return this.selectedLoanId?`${e}/invitedby/${this.lender.inviterName}/for/${this.selectedLoanId}`:e},shareSubtitle(){return`You can make change happen faster for ${this.selectedLoan.name} by getting the word out. Share their loan with others and have an even bigger impact.`}},methods:{onLoanSelect(e){const s=this.isSuggestedMessage;this.selectedLoanIndex=e,s&&this.useSuggestedMessage()},useSuggestedMessage(){this.message=this.suggestedMessage}},mounted(){this.handleFacebookResponse("post-checkout")}},M={class:"share hide-for-print"},w={class:"share__headline","data-testid":"share-headline"},B={class:"share__small__message"},K={class:"share__social social"},N=["disabled"];function U(e,s,o,d,t,n){const m=g("kv-icon"),_=g("kv-material-icon"),l=S("kv-track-event");return r(),i("section",M,[a("div",null,[a("h2",w," Help "+p(n.selectedLoan.name)+" spread the word. ",1),a("p",B,p(n.shareSubtitle),1)]),a("div",K,[c((r(),i("button",{"data-testid":"share-facebook-button",class:"social__btn social__btn--facebook",onClick:s[0]||(s[0]=h=>e.showSharePopUp(e.facebookShareUrl({utmCampaign:t.utmCampaign,utmContent:n.utmContent}),"Thanks for sharing to Facebook!"))},[u(m,{name:"facebook-round",title:"Facebook",class:"social__icon"}),s[4]||(s[4]=a("span",null,"Share",-1))])),[[l,["post-checkout","share","facebook",t.utmCampaign,n.selectedLoanId]]]),c((r(),i("button",{"data-testid":"share-bluesky-button",class:"social__btn social__btn--bluesky",onClick:s[1]||(s[1]=h=>e.showSharePopUp(e.blueskyShareUrl({utmCampaign:t.utmCampaign,utmContent:n.utmContent}),"Thanks for sharing to Bluesky!"))},[u(_,{icon:t.KvBlueskyIcon,class:"social__icon"},null,8,["icon"]),s[5]||(s[5]=a("span",null,"Share",-1))])),[[l,["post-checkout","share","bluesky",t.utmCampaign,n.selectedLoanId]]]),c((r(),i("button",{"data-testid":"share-linkedin-button",class:"social__btn social__btn--linkedin",onClick:s[2]||(s[2]=h=>e.showSharePopUp(e.linkedInShareUrl({utmCampaign:t.utmCampaign,utmContent:n.utmContent}),"Thanks for sharing to LinkedIn!"))},[u(m,{name:"linkedin",title:"LinkedIn",class:"social__icon"}),s[6]||(s[6]=a("span",null,"Share",-1))])),[[l,["post-checkout","share","linkedin",t.utmCampaign,n.selectedLoanId]]]),c((r(),i("button",{"data-testid":"share-copy-link-button",class:C(["social__btn social__btn--link tw-text-link tw-border-tertiary tw-border",t.copyStatus.class]),disabled:t.copyStatus.disabled,onClick:s[3]||(s[3]=h=>e.copyLink({utmCampaign:t.utmCampaign,utmContent:n.utmContent},t.copyStatus.text))},[u(m,{name:"clipboard",class:"social__icon"}),a("span",null,p(t.copyStatus.text),1)],10,N)),[[l,["post-checkout","share","copy-link",t.utmCampaign,n.selectedLoanId]]])])])}const G=I(k,[["render",U],["__scopeId","data-v-3758b974"]]);k.__docgenInfo={displayName:"SocialShareV2",exportName:"default",description:"",tags:{},props:[{name:"lender",type:{name:"object"},required:!0},{name:"loans",type:{name:"array"},required:!0},{name:"isGuest",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Checkout/SocialShareV2.vue"]};export{G as S};

import{_}from"./iframe-CWeBLAo0.js";import{o as E,a as T,i as b}from"./entry-touchEvents-DzV-rvy7P4.js";import{f as m,b as i,T as g,o as n,F as P,e as s,x as k,g as a,G as L,r as l,a as $,c as B,d as x}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import{_ as h}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import{e as d,h as u}from"./entry-KvWwwHeader-CVdIzOPj6Q.js";import{v as K}from"./entry-KvThemeProvider-CJZWo36001.js";import"./entry-numeral-DJCTM12wUX.js";const f={name:"KvPopper",emits:["show","hide"],props:{controller:{validator(e){return typeof e=="string"||typeof window=="object"&&"HTMLElement"in window&&e instanceof HTMLElement},required:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},transitionType:{type:String,default:""},popperPlacement:{type:String,default:"bottom-start"},popperModifiers:{type:Object,default:()=>{}}},data(){return{popper:null,popperPromise:null,styles:{},show:!1,timeout:null}},computed:{reference(){return typeof this.controller=="string"?document.getElementById(this.controller):this.controller}},watch:{show(e){this.reference&&this.reference.setAttribute("aria-expanded",e?"true":"false"),this.$emit(e?"show":"hide")}},mounted(){this.reference.tabIndex=0,this.attachEvents()},updated(){this.popper&&this.popper.scheduleUpdate()},beforeUnmount(){this.removeEvents(),this.popper&&this.popper.destroy()},methods:{open(){this.initPopper().then(()=>{this.setTimeout(()=>{this.show=!0,this.popper.scheduleUpdate(),this.attachBodyEvents()},this.openDelay)})},close(){this.setTimeout(()=>{this.show=!1,this.removeBodyEvents()},this.closeDelay)},toggle(){this.show?this.close():this.open()},update(){this.popper&&this.popper.scheduleUpdate()},initPopper(){return this.popper?Promise.resolve():this.popperPromise?this.popperPromise:(this.popperPromise=_(async()=>{const{default:e}=await import("./entry-popper-DpEq4IeYnp.js");return{default:e}},[],import.meta.url).then(({default:e})=>{this.popper=new e(this.reference,this.$el,{placement:this.popperPlacement,modifiers:{applyStyle:t=>{this.styles=t.styles,this.setAttributes(t.attributes)},preventOverflow:{padding:0},...this.popperModifiers}})}),this.popperPromise)},bodyTouchHandler(e){b(e,[this.reference,this.$el])||(this.show=!1,this.removeBodyEvents())},referenceTapHandler(e){e.preventDefault(),this.toggle()},attachEvents(){this.reference.addEventListener("mouseover",this.open),this.reference.addEventListener("focus",this.open),this.reference.addEventListener("mouseout",this.close),this.reference.addEventListener("blur",this.close),this.$el.addEventListener("mouseover",this.open),this.$el.addEventListener("mouseout",this.close),this.reference.addEventListener("touchstart",this.referenceTapHandler)},attachBodyEvents(){T(this.bodyTouchHandler)},removeEvents(){this.removeBodyEvents(),this.reference.removeEventListener("touchstart",this.referenceTapHandler),this.reference.removeEventListener("mouseover",this.open),this.reference.removeEventListener("mouseout",this.close),this.$el.removeEventListener("mouseover",this.open),this.$el.removeEventListener("mouseout",this.close)},removeBodyEvents(){E(this.bodyTouchHandler)},setAttributes(e){Object.keys(e).forEach(t=>{const r=e[t];r===!1?this.$el.removeAttribute(t):this.$el.setAttribute(t,r)})},setTimeout(e,t){window.clearTimeout(this.timeout),this.timeout=window.setTimeout(e,t)}}},M=["aria-hidden"];function H(e,t,r,v,o,p){return n(),m(g,{name:r.transitionType},{default:i(()=>[P(s("div",{class:"tw-absolute",style:k(o.styles),"aria-hidden":o.show?"false":"true"},[a(e.$slots,"default")],12,M),[[L,o.show]])],void 0),_:3},8,["name"])}const V=h(f,[["render",H]]);f.__docgenInfo={displayName:"KvPopper",exportName:"default",description:"",tags:{},props:[{name:"controller",required:!0},{name:"openDelay",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"closeDelay",type:{name:"number"},defaultValue:{func:!1,value:"200"}},{name:"transitionType",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"popperPlacement",type:{name:"string"},defaultValue:{func:!1,value:"'bottom-start'"}},{name:"popperModifiers",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}}],events:[{name:"show"},{name:"hide"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/ui/ui/src/components/Kv/KvPopper.vue"]};const c={name:"KvTooltip",components:{KvPopper:V,KvThemeProvider:K},props:{controller:{validator(e){return typeof e=="string"||typeof window<"u"&&"HTMLElement"in window&&e instanceof HTMLElement},required:!0},theme:{type:String,default:"default",validator(e){return["default","mint","dark"].indexOf(e)!==-1}}},data(){return{darkTheme:d,mintTheme:u,popperModifiers:{preventOverflow:{padding:10}}}},computed:{themeStyle(){return{mint:u,dark:d}[this.theme]}}},D={class:"tw-p-2.5",style:{"max-width":"250px"}},N={key:0,class:"tw-text-primary tw-font-medium tw-mb-1.5"},S={class:"tw-text-primary"};function A(e,t,r,v,o,p){const y=l("kv-popper"),w=l("kv-theme-provider");return n(),m(w,{theme:p.themeStyle,class:"kv-tailwind"},{default:i(()=>[$(y,{controller:r.controller,"popper-modifiers":o.popperModifiers,"popper-placement":"top","transition-type":"kvfastfade",class:"tooltip-pane tw-absolute tw-bg-primary tw-rounded tw-z-popover"},{default:i(()=>[s("div",D,[e.$slots.title?(n(),B("div",N,[a(e.$slots,"title",{},void 0,!0)])):x("",!0),s("div",S,[a(e.$slots,"default",{},void 0,!0)])]),t[0]||(t[0]=s("div",{class:"tooltip-arrow tw-absolute tw-w-0 tw-h-0 tw-border-solid","x-arrow":""},null,-1))],void 0,!0),_:3,__:[0]},8,["controller","popper-modifiers"])],void 0),_:3},8,["theme"])}const z=h(c,[["render",A],["__scopeId","data-v-8d384db1"]]);c.__docgenInfo={displayName:"KvTooltip",exportName:"default",description:"",tags:{},props:[{name:"controller",required:!0},{name:"theme",type:{name:"string"},defaultValue:{func:!1,value:"'default'"},values:["default","mint","dark"]}],slots:[{name:"title"},{name:"default"}],sourceFiles:["/home/runner/work/ui/ui/src/components/Kv/KvTooltip.vue"]};export{z as K};

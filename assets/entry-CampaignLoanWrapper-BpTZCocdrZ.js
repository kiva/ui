import{c as h,m as _,o as p,q as c,a as y,M as F,L as T,C as v,r as g,D as O,E as R,J as D,I as B,A as st,z as q,B as $,T as Tt,H as qt,K as Pt}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{g as rt}from"./entry-KvButton-BA7nBLyz1b.js";import{w as Ot}from"./entry-KvGrid-Cgm16aFdnL.js";import{n as ot}from"./entry-numeral-xVHG5DEP0A.js";import{x as Bt}from"./entry-KvProgressBar-FMYdx0i-mf.js";import{_ as A}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import{_ as Nt,K as Rt}from"./entry-CorporateCampaign.stories-C5MS6QLo-B.js";import{_ as ee,r as Dt}from"./entry-sortBy-C54Lx-S4RT.js";import{g as Ut}from"./entry-index-CWclSTHHJk.js";import{N as Gt,O as Mt,m as jt}from"./entry-mdi-B1ONwcTkQ2.js";import{g as K}from"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import{r as Kt,a as Q,h as Ve,f as Et,j as $t,k as lt,l as z,_ as Qt}from"./entry-syncDate-B5_baTpRcj.js";import{r as zt,a as Wt,b as Ht}from"./entry-_baseUniq-DhZtlzFzUZ.js";import{c as Yt,d as Jt,f as Zt,h as Xt,g as ei,i as ti,j as ii,k as ni}from"./entry-orderBy-CUrcrXTfYx.js";import{c as ai,e as si,f as ri,g as oi,a as ut,b as li,d as ui}from"./entry-get-D3xDH2SX94.js";import{c as di,r as dt,d as ci,e as ct,f as mi,g as fi,h as pi,i as hi}from"./entry-keys-B9dmm4b_qU.js";import{K as gi}from"./entry-KvCheckbox-BpNgvnZBeo.js";import{E as mt}from"./entry-KvRadio-B36oLRk1wL.js";import{K as yi}from"./entry-KvChipClassic-Hh10F9uO2d.js";import{S as vi}from"./entry-KvAccordionItem-DnWt5hHrLc.js";import{x as bi}from"./entry-KvMaterialIcon-C3KLX5OV-L.js";import{M as _i}from"./entry-KvLightbox-y8nxBJS-RZ.js";import{_ as ki,K as ft}from"./entry-KivaClassicBasicLoanCard-BDJ441dsaJ.js";import{K as wi}from"./entry-KvLoadingSpinner-KUfNgrvm0_.js";import{z as Ci}from"./entry-KvCarousel-Dw4gUt9u7G.js";import{b as Si,a as W,c as Fi,d as Li}from"./entry-isSymbol-5pnFTpIKM9.js";import{K as Ai}from"./entry-KvPagination-C3M_sN5_FF.js";import"./entry-KvLoadingSpinner-CpYE5b1xV2.js";import"./entry-apollo-story-mixin-CB9BNmK9U5.js";import"./iframe-Cc_r_Bkf.js";import"./entry-PromoCreditBanner-CN7uFBF8a4.js";import"./entry-promoCredit-w2GeqDaA1T.js";import"./entry-confetti.module-BCnSlh9tqh.js";import"./entry-logFormatter-DhjghUk5Me.js";import"./entry-contentfulUtils-lP2pdZcy67.js";import"./entry-index-Dew-HucFLB.js";import"./entry-_baseFindIndex-Ca62E79BN9.js";import"./entry-toInteger-XI_MWEAzOD.js";import"./entry-toNumber-MeiYJWOH0A.js";import"./entry-get-BUjo_hX5jl.js";import"./entry-injectionCheck-7gO_RAaPL1.js";import"./entry-exports-CudK1O5XNw.js";import"./entry-event-emitter-BPMIn87Nxk.js";import"./entry-15YearsHowKivaWorksCarousel-L8vVAKwNKH.js";import"./entry-KvCarousel-D7-jFIyihe.js";import"./entry-throttle-DL1zg7kAk0.js";import"./entry-KvIcon-BUhAos7YaB.js";import"./entry-KvCarouselSlide-BXRQMHRami.js";import"./entry-KvButton-C9WvITgRyG.js";import"./entry-teamInfoFromId-CQW7QGUaG4.js";import"./entry-loanUtils-DSoWkICHcw.js";import"./entry-index-CNzTSTNafD.js";import"./entry-index-COmIkRYU2t.js";import"./entry-index-D4S0JsTkt8.js";import"./entry-index-CbPSoDvqj7.js";import"./entry-index-DwHITppAlA.js";import"./entry-getCacheKey-CFbvtT9xx4.js";import"./entry-KvLightbox-JLv-P5W0bg.js";import"./entry-vue-focus-lock-CNihYe2Wyn.js";import"./entry-lock-scroll-Bww220JhDP.js";import"./entry-urlUtils-D59-4GikCB.js";import"./entry-index-C6hFcg-rEP.js";import"./entry-myKivaUtils-DUwPoPrS-N.js";import"./entry-KvCheckbox-CuSfzG7vmP.js";import"./entry-index.browser-vcSNLBTfP4.js";import"./entry-attrs-C2OODjD6EW.js";import"./entry-KvTextInput-CnVgGp-sYq.js";import"./entry-useBadgeData-Bo50EdUMyn.js";import"./entry-logReadQueryError-Codcl0QZ_g.js";import"./entry-achievementUtils-Cf0LlmQMSn.js";import"./entry-updateLoanReservation-BaDuxVurTB.js";import"./entry-KvSelect-BPt7lipyTp.js";import"./entry-updateDonation-CfhElOgRHH.js";import"./entry-DonationNudgeLightbox-D7TnLzjat4.js";import"./entry-settingsUtils-CXPrtFAPl-.js";import"./entry-index-CGacd2nhU3.js";import"./entry-index-tAHLmhMYuW.js";import"./entry-DepositIncentiveUpsell-qFu0-4Xkiv.js";import"./entry-KvLoadingPlaceholder-B_9_tltQhY.js";import"./entry-useGoalData-CY18ya0ook.js";import"./entry-KvTooltip-CaRc32kHXv.js";import"./entry-KvThemeProvider-BF4_ArwXOx.js";import"./entry-WwwPageCorporate-wCypR_mwCV.js";import"./entry-TheBasketBar-Cgdj9ciXsz.js";import"./entry-basketCount-CZ-kE9ye_Z.js";import"./entry-KvAlert-DsFS0BXu6q.js";import"./entry-TheFooterCorporate-Cw5amb6VC7.js";import"./entry-CampaignLogoGroup-R50IhBJ4kn.js";import"./entry-kiva-logo-CXWq-YcmJ4.js";import"./entry-KvContentfulImg-B0t9ZCrx8O.js";import"./entry-basketUtils-CZJxgsw05A.js";import"./entry-basketItems-B-09YWrzPC.js";import"./entry-richTextRenderer-CPfVcw13m2.js";import"./entry-rich-text-html-renderer.es5-kBaKhcHuza.js";import"./entry-cookie-store-story-mixin-Bv_t57ys9l.js";import"./entry-imageUtils-XCIqTGZvrk.js";import"./entry-myKivaForAllUsers-DI6rZrUMxZ.js";import"./entry-KvPageContainer-Dh8GJwjiow.js";import"./entry-KvUserAvatar-DmX-R6-wYd.js";import"./entry-throttle-4FNEI5INvC.js";import"./entry-_baseIndexOf-qfoVQuLp0t.js";import"./entry-KvExpandable-C7Xh6Dr9N8.js";import"./entry-observerUtils-DveHpw6JZJ.js";import"./entry-time-left-mixin-BgOgttSZrl.js";import"./entry-BorrowerImage-CdYtz78wPt.js";import"./entry-SummaryTag-DDsTf9dbDt.js";import"./entry-KvLoadingParagraph-D9s_TqdhDA.js";import"./entry-ActionButton-BIhqHg5aws.js";import"./entry-includes-CAVAVivXb3.js";import"./entry-LoanTag-BDWf-KAefV.js";import"./entry-KvTextLink-DIVE-Pebb8.js";const pt={name:"CampaignProgressBar",components:{KvProgressBar:Bt,KvUiButton:rt,KvGrid:Ot},emits:["show-basket"],props:{promoAmount:{type:String,default:"0.00"},promoName:{type:String,default:""},remainingCredit:{type:Number,default:0},basketLoans:{type:Array,default:()=>[]},isMatchingCampaign:{type:Boolean,default:!1}},computed:{campaignPartnerName(){var e,t,i;return this.isMatchingCampaign?((e=this.pageSettingData)==null?void 0:e.matchingAccountName)??null:((i=(t=this.promoData)==null?void 0:t.promoFund)==null?void 0:i.displayName)??null},creditLeft(){return this.remainingCredit>0?this.remainingCredit:0},percentageLeft(){const e=100-this.remainingCredit/this.promoAmount*100;return e<=0?1:e}}},Vi={key:0,class:"tw-rounded tw-bg-brand-50 tw-w-full tw-py-3 tw-px-1 tw-mb-2 tw-flex-col tw-flex lg:tw-flex-row tw-justify-start lg:tw-justify-between lg:tw-align-center"},xi={class:"tw-flex-grow"},Ii={key:0,class:"tw-mb-1 tw-px-3"},Ti={key:1,class:"tw-mb-1 tw-px-3"},qi={key:2,class:"tw-mb-1 tw-px-3"},Pi={class:"tw-mb-2 tw-px-3"},Oi={key:0},Bi={class:"lg:tw-mr-3 lg:tw-ml-0 tw-ml-3 lg:tw-pt-3"},Ni={key:1,class:"tw-rounded tw-bg-brand-50 tw-w-full tw-py-2 tw-px-1 tw-mb-2 tw-flex-col tw-flex tw-justify-start lg:tw-justify-between lg:tw-align-center"},Ri={class:"lg:tw-mr-1 lg:tw-ml-0 tw-ml-1 lg:tw-pt-1 tw-flex tw-justify-center tw-align-center"};function Di(e,t,i,a,s,n){const r=g("kv-progress-bar"),o=g("kv-grid"),l=g("kv-ui-button");return i.promoAmount&&i.promoAmount>0&&!i.isMatchingCampaign?(p(),h("div",Vi,[c("div",xi,[n.creditLeft===i.promoAmount?(p(),h("h4",Ii," Let's Get Started ")):n.creditLeft>0?(p(),h("h4",Ti," Keep Going! ")):n.creditLeft===0?(p(),h("h4",qi," You Did It! ")):_("",!0),c("h3",Pi,[F(" You have $"+T(n.creditLeft)+" in credit left ",1),n.campaignPartnerName?(p(),h("span",Oi," from "+T(n.campaignPartnerName),1)):_("",!0)]),y(o,{class:"tw-grid-cols-2"},{default:v(()=>[y(r,{value:n.percentageLeft,class:"tw-mb-1.5 lg:tw-mb-1 tw-ml-3 tw-col-span-1",label:`You have $${n.creditLeft} in credit left`},null,8,["value","label"])],void 0),_:1})]),c("div",Bi,[O(y(l,{onClick:t[0]||(t[0]=d=>e.$emit("show-basket"))},{default:v(()=>t[2]||(t[2]=[F(" Checkout now ")]),void 0),_:1,__:[2]},512),[[R,i.basketLoans.length>0]])])])):i.basketLoans.length>0?(p(),h("div",Ni,[c("div",Ri,[y(l,{onClick:t[1]||(t[1]=d=>e.$emit("show-basket"))},{default:v(()=>t[3]||(t[3]=[F(" Checkout now ")]),void 0),_:1,__:[3]})])])):_("",!0)}const Ui=A(pt,[["render",Di]]);pt.__docgenInfo={displayName:"CampaignProgressBar",exportName:"default",description:"",tags:{},props:[{name:"promoAmount",type:{name:"string"},defaultValue:{func:!1,value:"'0.00'"}},{name:"promoName",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"remainingCredit",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"basketLoans",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isMatchingCampaign",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"show-basket"}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/CampaignProgressBar.vue"]};var te,Te;function Gi(){if(Te)return te;Te=1;var e=Kt(),t=Q(),i=zt(),a=Ve(),s=t(function(n){return i(e(n,1,a,!0))});return te=s,te}var Mi=Gi();const ji=K(Mi);var ie,qe;function Ki(){if(qe)return ie;qe=1;var e=Yt(),t=Wt(),i=Ht(),a=ai(),s=di(),n=Jt(),r=200;function o(l,d,u,m){var f=-1,b=t,L=!0,x=l.length,V=[],C=d.length;if(!x)return V;u&&(d=a(d,s(u))),m?(b=i,L=!1):d.length>=r&&(b=n,L=!1,d=new e(d));e:for(;++f<x;){var k=l[f],P=u==null?k:u(k);if(k=m||k!==0?k:0,L&&P===P){for(var E=C;E--;)if(d[E]===P)continue e;V.push(k)}else b(d,P,m)||V.push(k)}return V}return ie=o,ie}var ne,Pe;function Ei(){if(Pe)return ne;Pe=1;var e=Ki(),t=Q(),i=Ve(),a=t(function(s,n){return i(s)?e(s,n):[]});return ne=a,ne}var $i=Ei();const Qi=K($i),H={methods:{getValues(e,t,i){const a=Array.isArray(t)?t:[t];return e?ji(i,a):Qi(i,...a)}}},ht={name:"CheckList",emits:["update"],props:{items:{type:Array,default:()=>[]},useColumns:{type:Boolean,default:!1}},components:{KvCheckbox:gi},methods:{emitAll(e){const t=this.items.map(i=>i.id);this.$emit("update",e,t)}}};function zi(e,t,i,a,s,n){const r=g("kv-checkbox");return p(),h("div",null,[c("button",{class:"tw-text-link tw-mb-1",onClick:t[0]||(t[0]=o=>n.emitAll(!0))}," Select All "),t[2]||(t[2]=F(" Â  ")),c("button",{class:"tw-text-link tw-mb-1",onClick:t[1]||(t[1]=o=>n.emitAll(!1))}," Deselect All "),c("ul",{class:st(["check-list",{"use-columns":i.useColumns}])},[(p(!0),h(D,null,B(i.items,({id:o,name:l,selected:d})=>(p(),h("li",{key:o,class:"tw-mb-0.5"},[y(r,{id:e.$filters.changeCase(`${l}-${o}`,"kebabCase"),checked:d,onUpdate:u=>{e.$emit("update",u,o)}},{default:v(()=>[F(T(l),1)],void 0),_:2},1032,["id","checked","onUpdate"])]))),128))],2)])}const Y=A(ht,[["render",zi],["__scopeId","data-v-64d67c98"]]);ht.__docgenInfo={displayName:"CheckList",exportName:"default",description:"",tags:{},props:[{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"useColumns",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],sourceFiles:["/home/runner/work/ui/ui/src/pages/Autolending/CheckList.vue"]};const gt={name:"AttributeFilter",components:{CheckList:Y},mixins:[H],emits:["updated-filters"],props:{allAttributes:{type:Array,default:()=>[]},initialAttributes:{type:Array,default:()=>[]},selectedAttributes:{type:Array,default:()=>[]}},data(){return{currentAttributeIds:[]}},created(){this.setFilterState()},computed:{attributesWithSelected(){return this.eligibleAttributes.map(({id:e,name:t})=>({id:e,name:t,selected:this.currentAttributeIds.indexOf(e)>-1}))},eligibleAttributes(){return this.allAttributes.filter(t=>this.initialAttributes.length?this.initialAttributes.includes(t.name)||!1:!0)||[]}},watch:{initialAttributes(e,t){!this.selectedAttributes&&e!==t&&this.setFilterState()},selectedAttributes(e,t){e!==t&&this.setFilterState()}},methods:{onChange(e,t){this.changeAttributes(this.getValues(e,t,this.currentAttributeIds))},changeAttributes(e){const t=this.eligibleAttributes.filter(s=>e.includes(s.id)),i=t.map(s=>s.id);this.currentAttributeIds=i;const a=t.map(s=>s.name);this.$emit("updated-filters",{theme:a})},setFilterState(){if(this.selectedAttributes)return this.currentAttributeIds=this.getFilterIdsFromNames(this.selectedAttributes),!0;if(this.initialAttributes)return this.currentAttributeIds=this.getFilterIdsFromNames(this.initialAttributes),!0},getFilterIdsFromNames(e){return this.eligibleAttributes.filter(a=>e.includes(a.name)).map(a=>a.id)}}},Wi={class:"row collapse"},Hi={class:"small-12 columns"};function Yi(e,t,i,a,s,n){const r=g("check-list");return p(),h("div",null,[c("div",Wi,[c("div",Hi,[y(r,{key:"attributes",items:n.attributesWithSelected,"use-columns":!0,onUpdate:n.onChange},null,8,["items","onUpdate"])])])])}const Ji=A(gt,[["render",Yi]]);gt.__docgenInfo={displayName:"AttributeFilter",exportName:"default",description:"",tags:{},props:[{name:"allAttributes",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"initialAttributes",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"selectedAttributes",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],events:[{name:"updated-filters",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/AttributeFilter.vue"]};const yt={name:"GenderFilter",components:{KvRadio:mt},emits:["gender-updated"],props:{selectedGender:{type:String,default:null},initialGender:{type:String,default:null}},data(){return{activeGender:null,genderOptions:[{value:"both",label:"All genders"},{value:"female",label:"Women"},{value:"male",label:"Men"}]}},created(){this.setGenderFilter()},watch:{initialGender(e,t){!this.selectedGender&&e!==t&&this.setGenderFilter()},selectedGender(e,t){e!==t&&this.setGenderFilter()},activeGender(e,t){e!==t&&this.$emit("gender-updated",{gender:e})}},methods:{setGenderFilter(){if(this.selectedGender)return this.activeGender=this.selectedGender,!0;this.activeGender=this.initialGender}}},Zi={class:"gender-radios"};function Xi(e,t,i,a,s,n){const r=g("kv-radio");return p(),h("div",Zi,[c("ul",null,[(p(!0),h(D,null,B(s.genderOptions,o=>(p(),h("li",{key:o.value,class:"tw-mb-1 tw-px-1 tw-py-1"},[y(r,{id:`gender-${o.value}`,value:o.value,modelValue:s.activeGender,"onUpdate:modelValue":t[0]||(t[0]=l=>s.activeGender=l)},{default:v(()=>[F(T(o.label),1)],void 0),_:2},1032,["id","value","modelValue"])]))),128))])])}const en=A(yt,[["render",Xi]]);yt.__docgenInfo={displayName:"GenderFilter",exportName:"default",description:"",tags:{},props:[{name:"selectedGender",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"initialGender",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"gender-updated",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/GenderFilter.vue"]};const vt={name:"LocationFilter",components:{CheckList:Y},mixins:[H],emits:["updated-filters"],props:{allCountries:{type:Array,default:()=>[]},initialCountries:{type:Array,default:()=>[]},selectedCountries:{type:Array,default:()=>[]}},data(){return{currentIsoCodes:[]}},created(){this.setFilterState()},computed:{countriesWithSelected(){return this.eligibleCountries.filter(e=>e.numLoansFundraising>0).map(({isoCode:e,name:t,region:i})=>({id:e,name:`${t}`,region:i,selected:this.currentIsoCodes.indexOf(e)>-1}))},eligibleCountries(){return this.allCountries.filter(t=>this.initialCountries.length?this.initialCountries.includes(t.isoCode)||!1:!0)||[]},regions(){const e=Et(this.countriesWithSelected,"region");return Object.keys(e).forEach(t=>{e[t].sort((i,a)=>i.name>a.name?1:-1)}),e}},watch:{initialCountries(e,t){!this.selectedCountries&&e!==t&&this.setFilterState()},selectedCountries(e,t){e!==t&&this.setFilterState()}},methods:{onChange(e,t){this.changeCountries(this.getValues(e,t,this.currentIsoCodes))},changeCountries(e){this.currentIsoCodes=e,this.$emit("updated-filters",{country:e.length?e:null})},setFilterState(){if(this.selectedCountries)return this.currentIsoCodes=this.selectedCountries,!0;if(this.initialCountries)return this.currentIsoCodes=this.initialCountries,!0}}},tn={class:"country-filters"},nn={class:"row collapse"},an={class:"small-12 columns"},sn=["id"],rn={class:"tw-mb-1"};function on(e,t,i,a,s,n){const r=g("check-list");return p(),h("div",tn,[c("div",nn,[c("div",an,[(p(!0),h(D,null,B(Object.keys(n.regions).sort(),(o,l)=>(p(),h("div",{key:o,id:`${l}-region`,class:"country-filters__region-section"},[c("h4",rn,T(o),1),y(r,{key:"`${name}-country-list`",items:n.regions[o],"use-columns":!0,onUpdate:n.onChange},null,8,["items","onUpdate"])],8,sn))),128))])])])}const ln=A(vt,[["render",on],["__scopeId","data-v-153f08cc"]]);vt.__docgenInfo={displayName:"LocationFilter",exportName:"default",description:"",tags:{},props:[{name:"allCountries",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"initialCountries",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"selectedCountries",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],events:[{name:"updated-filters",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/LocationFilter.vue"]};const bt={name:"SectorFilter",components:{CheckList:Y},mixins:[H],emits:["updated-filters"],props:{allSectors:{type:Array,default:()=>[]},initialSectors:{type:Array,default:()=>[]},selectedSectors:{type:Array,default:()=>[]}},data(){return{currentSectorIds:[]}},created(){this.setFilterState()},computed:{sectorsWithSelected(){return this.eligibleSectors.map(({id:e,name:t})=>({id:e,name:t,selected:this.currentSectorIds.indexOf(e)>-1}))},eligibleSectors(){return this.allSectors.filter(t=>this.initialSectors.length?this.initialSectors.includes(t.id)||!1:!0)||[]}},watch:{initialSectors(e,t){!this.selectedSectors&&e!==t&&this.setFilterState()},selectedSectors(e,t){e!==t&&this.setFilterState()}},methods:{onChange(e,t){this.changeSectors(this.getValues(e,t,this.currentSectorIds))},changeSectors(e){this.currentSectorIds=e,this.$emit("updated-filters",{sector:e.length?e:null})},setFilterState(){if(this.selectedSectors)return this.currentSectorIds=this.selectedSectors,!0;if(this.initialSectors)return this.currentSectorIds=this.initialSectors,!0}}},un={class:"row collapse"},dn={class:"small-12 columns"};function cn(e,t,i,a,s,n){const r=g("check-list");return p(),h("div",null,[c("div",un,[c("div",dn,[y(r,{key:"sectors",items:n.sectorsWithSelected,"use-columns":!0,onUpdate:n.onChange},null,8,["items","onUpdate"])])])])}const mn=A(bt,[["render",cn]]);bt.__docgenInfo={displayName:"SectorFilter",exportName:"default",description:"",tags:{},props:[{name:"allSectors",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"initialSectors",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"selectedSectors",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],events:[{name:"updated-filters",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/SectorFilter.vue"]};const _t={name:"SortOrder",components:{KvRadio:mt},emits:["sort-order-updated"],props:{selectedSort:{type:String,default:null},initialSort:{type:String,default:"popularity"}},data(){return{activeSort:null,sortOptions:[{value:"loanAmount",label:"Amount low to high"},{value:"loanAmountDesc",label:"Amount high to low"},{value:"amountLeft",label:"Amount left"},{value:"expiringSoon",label:"Ending soon"},{value:"repaymentTerm",label:"Loan length"},{value:"newest",label:"Most recent"},{value:"popularity",label:"Trending now"}]}},created(){this.setSortOrder()},watch:{initialSort(e,t){!this.selectedSort&&e!==t&&this.setSortOrder()},selectedSort(e,t){e!==t&&this.setSortOrder()},activeSort(e,t){e!==t&&this.$emit("sort-order-updated",e)}},methods:{setSortOrder(){if(this.selectedSort)return this.activeSort=this.selectedSort,!0;this.activeSort=this.initialSort}}},fn={class:"sort-by-controls"},pn={class:"tw-grid tw-grid-rows-4 tw-grid-cols-2"};function hn(e,t,i,a,s,n){const r=g("kv-radio");return p(),h("div",fn,[c("ul",pn,[(p(!0),h(D,null,B(s.sortOptions,o=>(p(),h("li",{key:o.value,class:"tw-mb-1 tw-px-1 tw-py-1"},[y(r,{id:`sort-by-${o.value}`,value:o.value,modelValue:s.activeSort,"onUpdate:modelValue":t[0]||(t[0]=l=>s.activeSort=l)},{default:v(()=>[F(T(o.label),1)],void 0),_:2},1032,["id","value","modelValue"])]))),128))])])}const gn=A(_t,[["render",hn]]);_t.__docgenInfo={displayName:"SortOrder",exportName:"default",description:"",tags:{},props:[{name:"selectedSort",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"initialSort",type:{name:"string"},defaultValue:{func:!1,value:"'popularity'"}}],events:[{name:"sort-order-updated",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/SortOrder.vue"]};const kt={name:"TagFilter",components:{CheckList:Y},mixins:[H],emits:["updated-filters"],props:{allTags:{type:Array,default:()=>[]},initialTags:{type:Array,default:()=>[]},selectedTags:{type:Array,default:()=>[]}},data(){return{currentTagIds:[]}},created(){this.setFilterState()},computed:{tagsWithSelected(){return this.eligibleTags.map(({id:e,name:t})=>({id:e,name:t,selected:this.currentTagIds.indexOf(e)>-1}))},eligibleTags(){return this.allTags.filter(t=>t.name.indexOf("_")!==-1?!1:this.initialTags.length?this.initialTags.includes(t.id)||!1:t.vocabularyId!==3)||[]}},watch:{initialTags(e,t){!this.selectedTags&&e!==t&&this.setFilterState()},selectedTags(e,t){e!==t&&this.setFilterState()}},methods:{onChange(e,t){this.changeTags(this.getValues(e,t,this.currentTagIds))},changeTags(e){this.currentTagIds=e,this.$emit("updated-filters",{loanTags:e.length?e:null})},setFilterState(){if(this.selectedTags)return this.currentTagIds=this.selectedTags,!0;if(this.initialTags)return this.currentTagIds=this.initialTags,!0}}},yn={class:"row collapse"},vn={class:"small-12 columns"};function bn(e,t,i,a,s,n){const r=g("check-list");return p(),h("div",null,[c("div",yn,[c("div",vn,[y(r,{key:"tags",items:n.tagsWithSelected,"use-columns":!0,onUpdate:n.onChange},null,8,["items","onUpdate"])])])])}const _n=A(kt,[["render",bn]]);kt.__docgenInfo={displayName:"TagFilter",exportName:"default",description:"",tags:{},props:[{name:"allTags",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"initialTags",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"selectedTags",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],events:[{name:"updated-filters",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/TagFilter.vue"]};const kn=Ut`
	query filterOptionsQuery {
		lend {
			countryFacets {
				country {
					id
					isoCode
					name
					numLoansFundraising
					region
				}
			}
			loanThemeFilter {
				id
				name
			}
			sector {
				id
				name
			}
			tag {
				id
				name
				vocabularyId
			}
		}
	}
`,wt={name:"LoanSearchFilters",inject:["apollo"],components:{KvButton:rt,KvChipClassic:yi,KvLightbox:_i,AttributeFilter:Ji,GenderFilter:en,KvAccordionItem:vi,KvMaterialIcon:bi,LocationFilter:ln,SectorFilter:mn,SortOrder:gn,TagFilter:_n},emits:["updated-filters","updated-sort-by","reset-loan-filters","set-loan-display"],props:{activeLoanDisplay:{type:String,default:"rows"},appliedFilters:{type:Object,default:()=>{}},initialFilters:{type:Object,default:()=>{}},excludedTags:{type:Array,default:()=>[]},initialSortBy:{type:String,default:"popularity"},showLoanDisplayToggle:{type:Boolean,default:!0},totalCount:{type:Number,default:0}},data(){return{allAttributes:[],allCountries:[],allSectors:[],allTags:[],filtersVisible:!1,initialFiltersCopy:null,modifiedFilters:null,selectedSort:null,isChipsCollapsable:!0,isChipsCollapsed:!0,mdiChevronDown:jt,mdiGridLarge:Mt,mdiLandRowsHorizontal:Gt}},mounted(){this.apollo.query({query:kn}).then(({data:e})=>{var i,a,s,n;this.allAttributes=ee(((i=e.lend)==null?void 0:i.loanThemeFilter)??[],"country.name");const t=((a=e.lend)==null?void 0:a.countryFacets)??[];this.allCountries=t.map(r=>r.country),this.allSectors=ee(((s=e.lend)==null?void 0:s.sector)??[],"name"),this.allTags=ee(((n=e.lend)==null?void 0:n.tag)??[],"name").filter(r=>!this.excludedTags.includes(r.name))})},computed:{initialAttributes(){return this.initialFilters.theme||[]},selectedAttributes(){return(this.initialFiltersCopy.theme!==this.modifiedFilters.theme?this.modifiedFilters.theme:this.initialFiltersCopy.theme)||[]},initialGender(){return this.initialFilters.gender||"both"},selectedGender(){return(this.initialFiltersCopy.gender!==this.modifiedFilters.gender?this.modifiedFilters.gender:this.initialFiltersCopy.gender)||"both"},initialCountries(){return this.initialFilters.country||[]},selectedCountries(){return(this.initialFiltersCopy.country!==this.modifiedFilters.country?this.modifiedFilters.country:this.initialFiltersCopy.country)||[]},initialSectors(){return this.initialFilters.sector||[]},selectedSectors(){return(this.initialFiltersCopy.sector!==this.modifiedFilters.sector?this.modifiedFilters.sector:this.initialFiltersCopy.sector)||[]},initialTags(){return this.initialFilters.loanTags||[]},selectedTags(){return(this.initialFiltersCopy.loanTags!==this.modifiedFilters.loanTags?this.modifiedFilters.loanTags:this.initialFiltersCopy.loanTags)||[]},filterChips(){const t=[{name:"Women",key:"female",__typename:"GenderEnum"},{name:"Men",key:"male",__typename:"GenderEnum"}].filter(r=>this.appliedFilters&&this.appliedFilters.gender?this.appliedFilters.gender===r.key:!1),i=this.allCountries.filter(r=>{var l;const o=((l=this.appliedFilters)==null?void 0:l.country)??[];return o.length?o.includes(r.isoCode):!1}),a=this.allSectors.filter(r=>{var l;const o=((l=this.appliedFilters)==null?void 0:l.sector)??[];return o.length?o.includes(r.id):!1}),s=this.allAttributes.filter(r=>{var l;const o=((l=this.appliedFilters)==null?void 0:l.theme)??[];return o.length?o.includes(r.name):!1}),n=this.allTags.filter(r=>{var o,l;if(((o=r.name)==null?void 0:o.charAt(0))==="#"){const d=((l=this.appliedFilters)==null?void 0:l.loanTags)??[];if(d.length)return d.includes(r.id)}return!1});return[...t,...i,...a,...s,...n]},isInitialFilters(){return Nt(this.modifiedFilters,this.initialFilters)}},watch:{initialFilters:{handler(){this.initialFiltersCopy=this.copyFilters(this.initialFilters),this.modifiedFilters=this.copyFilters(this.initialFilters)},immediate:!0,deep:!0},modifiedFilters:{handler(){this.determineIsChipsCollapsable()},deep:!0}},methods:{setLoanDisplayMode(e){switch(e){case"rows":this.$emit("set-loan-display",!0);break;case"grid":this.$emit("set-loan-display",!1);break}},showFilters(){this.filtersVisible=!0},handleUpdatedFilters(e){Object.keys(e).forEach(i=>{this.modifiedFilters[i]=e[i]})},applyFilters(){const e=this.modifiedFilters;e.gender==="both"&&(e.gender=null),this.$emit("updated-filters",e),this.$emit("updated-sort-by",this.selectedSort),this.filtersVisible=!1},copyFilters(e){const t={};return Object.keys(e).forEach(a=>{typeof e[a]=="object"&&e[a]&&e[a]==="undefined"?t[a]={...e[a]}:typeof e[a]=="object"&&e[a]&&e[a].length?t[a]=e[a].slice():typeof e[a]=="string"?t[a]=e[a].toString():typeof e[a]=="boolean"?t[a]=!!e[a]:typeof e[a]>"u"?t[a]=void 0:t[a]=null}),t},cleanChipName(e){return e.replace(/#/g,"")},handleRemoveFilter(e){switch(e.__typename){case"GenderEnum":this.modifiedFilters.gender=null,this.applyFilters();break;case"Country":if(this.modifiedFilters.country&&this.modifiedFilters.country.length){const i=this.modifiedFilters.country.filter(a=>e.isoCode!==a);this.modifiedFilters.country=i,this.applyFilters()}break;case"Sector":if(this.modifiedFilters.sector&&this.modifiedFilters.sector.length){const i=this.modifiedFilters.sector.filter(a=>e.id!==a);this.modifiedFilters.sector=i,this.applyFilters()}break;case"LoanThemeFilter":if(this.modifiedFilters.theme&&this.modifiedFilters.theme.length){const i=this.modifiedFilters.theme.filter(a=>e.name!==a);this.modifiedFilters.theme=i,this.applyFilters()}break;case"Tag":if(this.modifiedFilters.loanTags&&this.modifiedFilters.loanTags.length){const i=this.modifiedFilters.loanTags.filter(a=>e.id!==a);this.modifiedFilters.loanTags=i,this.applyFilters()}break}},handleSortByUpdated(e){this.selectedSort!==e&&(this.selectedSort=e)},handleResetFilters(){this.modifiedFilters=this.copyFilters(this.initialFilters),this.$emit("reset-loan-filters")},async determineIsChipsCollapsable(){const{chipsContainer:e,chipsInnerContainer:t}=this.$refs;if(e&&t){const i=this.isChipsCollapsed.valueOf();this.isChipsCollapsed=!0,await this.$nextTick(),this.isChipsCollapsable=t.clientHeight>e.clientHeight,this.isChipsCollapsed=i}}}},wn={class:"loan-filters"},Cn={class:"loan-filters__top-row"},Sn={key:0,class:"loan-filters__loan-display"},Fn={class:"tw-flex tw-cursor-pointer tw-items-center",id:"view-toggle"},Ln={class:"tw-inline-block tw-border-r tw-border-tertiary tw-px-1.5"},An={class:"tw-flex tw-items-center tw-flex-wrap"},Vn={class:"tw-flex tw-items-center tw-flex-wrap"},xn={key:0,class:"loan-filters__chips chips"},In={class:"row"},Tn={ref:"chipsInnerContainer"},qn={class:"small-12 large-4 xxlarge-3 columns"},Pn={class:"chips__toggle-container"},On={key:1},Bn={class:"loan-filter-controls"},Nn={class:"tw-flex-col"},Rn={class:"tw-flex"},Dn={class:"loan-filters__lightbox tw-mb-0.5",id:"gender-filter-container"},Un={class:"tw-flex tw-flex-col tw-gap-4 tw-my-2 tw-p-1"},Gn={class:"loan-filters__lightbox tw-flex-grow",id:"sort-filter-container"},Mn={class:"tw-flex tw-flex-col tw-gap-2 tw-my-2 tw-p-1"};function jn(e,t,i,a,s,n){const r=g("kv-material-icon"),o=g("kv-chip-classic"),l=g("kv-button"),d=g("gender-filter"),u=g("sort-order"),m=g("location-filter"),f=g("kv-accordion-item"),b=g("sector-filter"),L=g("attribute-filter"),x=g("tag-filter"),V=g("kv-lightbox");return p(),h("div",wn,[c("div",Cn,[t[8]||(t[8]=c("span",{class:"tw-mb-2 md:tw-mb-0"},[c("div",{class:"tw-inline-flex tw-items-center"},[c("h2",null," Support causes you care about. ")])],-1)),i.showLoanDisplayToggle?(p(),h("div",Sn,[c("div",Fn,[c("span",Ln,T(i.totalCount)+" loans ",1),c("span",{class:"tw-inline-flex",onClick:t[0]||(t[0]=C=>n.showFilters())},t[5]||(t[5]=[c("h4",{class:"tw-text-h4 tw-font-medium tw-text-action tw-border-r tw-border-tertiary tw-px-1.5"}," Filter loans ",-1)])),c("span",An,[O(c("span",{class:"tw-inline-flex",onClick:t[1]||(t[1]=C=>n.setLoanDisplayMode("rows"))},[t[6]||(t[6]=c("h4",{class:"tw-text-h4 tw-font-medium tw-text-action tw-px-1"}," Row View ",-1)),y(r,{class:"tw-mr-1 tw-w-2 tw-text-action tw-inline-block",name:"list-green",icon:s.mdiLandRowsHorizontal},null,8,["icon"])],512),[[R,i.activeLoanDisplay==="grid"]])]),c("span",Vn,[O(c("span",{class:"tw-inline-flex",onClick:t[2]||(t[2]=C=>n.setLoanDisplayMode("grid"))},[t[7]||(t[7]=c("h4",{class:"tw-text-h4 tw-font-medium tw-text-action tw-px-1"}," Grid View ",-1)),y(r,{class:"tw-mr-1 tw-w-2 tw-text-action tw-inline-block",name:"grid-green",icon:s.mdiGridLarge},null,8,["icon"])],512),[[R,i.activeLoanDisplay==="rows"]])])])])):_("",!0)]),n.filterChips.length?(p(),h("div",xn,[c("div",In,[c("div",{class:st(["chips__container small-12 large-8 xxlarge-9 columns",{"chips--collapsed":s.isChipsCollapsed}]),ref:"chipsContainer"},[c("div",Tn,[(p(!0),h(D,null,B(n.filterChips,(C,k)=>(p(),q(o,{key:`chip-${k}`,title:n.cleanChipName(C.name),onClick:P=>n.handleRemoveFilter(C)},{default:v(()=>[F(T(C.name),1)],void 0),_:2},1032,["title","onClick"]))),128))],512)],2),c("div",qn,[c("div",Pn,[s.isChipsCollapsable?(p(),q(l,{key:0,variant:"secondary",class:"chips__toggle tw-mb-2",onClick:t[3]||(t[3]=C=>s.isChipsCollapsed=!s.isChipsCollapsed)},{default:v(()=>[F(T(s.isChipsCollapsed?`Show all ${n.filterChips.length} filters`:"Hide filters"),1)],void 0),_:1})):_("",!0),!n.isInitialFilters&&s.isChipsCollapsable?(p(),h("span",On,"|")):_("",!0),n.isInitialFilters?_("",!0):(p(),q(l,{key:2,class:"chips__toggle",onClick:n.handleResetFilters},{default:v(()=>t[9]||(t[9]=[F(" Reset all ")]),void 0),_:1,__:[9]},8,["onClick"]))])])])])):_("",!0),s.filtersVisible?(p(),q(V,{key:1,class:"loan-filters__lightbox",id:"filterControlsLightbox",title:"Filter Loans",visible:s.filtersVisible,onLightboxClosed:t[4]||(t[4]=C=>s.filtersVisible=!1)},{controls:v(()=>[y(l,{variant:"primary",onClick:$(n.applyFilters,["prevent"])},{default:v(()=>t[17]||(t[17]=[F(" Apply Filters ")]),void 0,!0),_:1,__:[17]},8,["onClick"])]),default:v(()=>[c("div",Bn,[c("span",Nn,[c("span",Rn,[c("div",Dn,[t[10]||(t[10]=c("h3",{class:"tw-py-1 tw-p-2 tw-inline-block"}," Gender ",-1)),c("fieldset",Un,[y(d,{class:"loan-filter-controls__filter-type","initial-gender":n.initialGender,"selected-gender":n.selectedGender,onGenderUpdated:n.handleUpdatedFilters},null,8,["initial-gender","selected-gender","onGenderUpdated"])])]),c("div",Gn,[t[11]||(t[11]=c("h3",{class:"tw-py-1 tw-p-2 tw-inline-block"}," Sort By ",-1)),c("fieldset",Mn,[y(u,{class:"loan-filter-controls__filter-type","initial-sort":i.initialSortBy,"selected-sort":s.selectedSort,onSortOrderUpdated:n.handleSortByUpdated},null,8,["initial-sort","selected-sort","onSortOrderUpdated"])])])]),t[12]||(t[12]=c("hr",{class:"tw-border-tertiary tw-my-1"},null,-1))]),y(f,{class:"loan-filters__lightbox-accordian",id:"region-accordian"},{header:v(()=>t[13]||(t[13]=[c("h3",{class:"tw-py-1"}," Countries ",-1)])),default:v(()=>[y(m,{class:"loan-filter-controls__filter-type","all-countries":s.allCountries,"initial-countries":n.initialCountries,"selected-countries":n.selectedCountries,onUpdatedFilters:n.handleUpdatedFilters},null,8,["all-countries","initial-countries","selected-countries","onUpdatedFilters"])],void 0,!0),_:1}),y(f,{class:"loan-filters__lightbox-accordian",id:"sectors-accordian"},{header:v(()=>t[14]||(t[14]=[c("h3",{class:"tw-py-1"}," Sectors ",-1)])),default:v(()=>[y(b,{class:"loan-filter-controls__filter-type","all-sectors":s.allSectors,"initial-sectors":n.initialSectors,"selected-sectors":n.selectedSectors,onUpdatedFilters:n.handleUpdatedFilters},null,8,["all-sectors","initial-sectors","selected-sectors","onUpdatedFilters"])],void 0,!0),_:1}),y(f,{class:"loan-filters__lightbox-accordian",id:"attributes-accordian"},{header:v(()=>t[15]||(t[15]=[c("h3",{class:"tw-py-1"}," Attributes ",-1)])),default:v(()=>[y(L,{class:"loan-filter-controls__filter-type","all-attributes":s.allAttributes,"initial-attributes":n.initialAttributes,"selected-attributes":n.selectedAttributes,onUpdatedFilters:n.handleUpdatedFilters},null,8,["all-attributes","initial-attributes","selected-attributes","onUpdatedFilters"])],void 0,!0),_:1}),y(f,{class:"loan-filters__lightbox-accordian",id:"tags-accordian"},{header:v(()=>t[16]||(t[16]=[c("h3",{class:"tw-py-1"}," Tags ",-1)])),default:v(()=>[y(x,{class:"loan-filter-controls__filter-type","all-tags":s.allTags,"initial-tags":n.initialTags,"selected-tags":n.selectedTags,onUpdatedFilters:n.handleUpdatedFilters},null,8,["all-tags","initial-tags","selected-tags","onUpdatedFilters"])],void 0,!0),_:1})])],void 0),_:1},8,["visible"])):_("",!0)])}const Kn=A(wt,[["render",jn],["__scopeId","data-v-7df5718f"]]);wt.__docgenInfo={displayName:"LoanSearchFilters",exportName:"default",description:"",tags:{},props:[{name:"activeLoanDisplay",type:{name:"string"},defaultValue:{func:!1,value:"'rows'"}},{name:"appliedFilters",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"initialFilters",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"excludedTags",description:`Tag names that we don't want to show in the filter lightbox
e.g., ['#Team Guys Holding Fish', '#Technology']`,type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"initialSortBy",type:{name:"string"},defaultValue:{func:!1,value:"'popularity'"}},{name:"showLoanDisplayToggle",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"totalCount",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"updated-filters",type:{names:["undefined"]}},{name:"updated-sort-by",type:{names:["undefined"]}},{name:"reset-loan-filters"},{name:"set-loan-display",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/LoanSearch/LoanSearchFilters.vue"]};const En=`#import '../fragments/loanCardFields.graphql'

query basicLoanData(
	$offset: Int,
	$limit: Int,
	$filters: LoanSearchFiltersInput,
	$imgDefaultSize: String = "w480h360",
	$imgRetinaSize: String = "w960h720",
	$sortBy: LoanSearchSortByEnum,
	$promoOnly: BasketInput,
) {
	lend {
		loans(
			offset: $offset,
			limit: $limit,
			filters: $filters,
			sortBy: $sortBy,
			promoOnly: $promoOnly
			) {
			totalCount
			values {
				id
				...loanCardFields
				image {
					id
					default: url(customSize: $imgDefaultSize)
					retina: url(customSize: $imgRetinaSize)
					hash
				}
			}
		}
	}
}
`,j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"basicLoanData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"LoanSearchFiltersInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imgDefaultSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"w480h360",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imgRetinaSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"w960h720",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"LoanSearchSortByEnum"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"promoOnly"}},type:{kind:"NamedType",name:{kind:"Name",value:"BasketInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"sortBy"},value:{kind:"Variable",name:{kind:"Name",value:"sortBy"}}},{kind:"Argument",name:{kind:"Name",value:"promoOnly"},value:{kind:"Variable",name:{kind:"Name",value:"promoOnly"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"loanCardFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"default"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customSize"},value:{kind:"Variable",name:{kind:"Name",value:"imgDefaultSize"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"retina"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customSize"},value:{kind:"Variable",name:{kind:"Name",value:"imgRetinaSize"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"hash"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:635,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:En}}},$n=e=>{const t={};return e.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return t[a]?!1:(t[a]=!0,!0)})};j.definitions=$n(j.definitions.concat(ki.definitions));const Qn=(e,t)=>{const i=(u,m)=>{if(u.kind==="FragmentSpread")m.add(u.name.value);else if(u.kind==="VariableDefinition"){const f=u.type;f.kind==="NamedType"&&m.add(f.name.value)}return u&&"selectionSet"in u&&u.selectionSet&&u.selectionSet.selections.forEach(f=>{i(f,m)}),u&&"variableDefinitions"in u&&u.variableDefinitions&&u.variableDefinitions.forEach(f=>{i(f,m)}),u&&"definitions"in u&&u.definitions&&u.definitions.forEach(f=>{i(f,m)}),m},a=u=>{const m={};return u.definitions.forEach(function(f){"name"in f&&f.name&&(m[f.name.value]=i(f,new Set))}),m},s=(u,m)=>{for(let f=0;f<u.definitions.length;f++){const b=u.definitions[f];if(b&&"name"in b&&b.name&&b.name.value==m)return b}},n=a(e),r=Object.assign({},e,{definitions:[s(e,t)]}),o=n[t]||new Set,l=new Set;let d=new Set;for(o.forEach(u=>{d.add(u)});d.size>0;){const u=d;d=new Set,u.forEach(m=>{l.has(m)||(l.add(m),(n[m]||new Set).forEach(b=>{d.add(b)}))})}return l.forEach(u=>{const m=s(e,u);m&&r.definitions.push(m)}),r};Qn(j,"basicLoanData");const Ct={name:"CampaignLoanRow",inject:["apollo"],components:{KvCarousel:Ci,KvLoadingSpinner:wi,KivaClassicBasicLoanCard:ft},emits:["add-to-basket","remove-loan-from-basket","reset-loan-filters","show-basket","show-loan-details","update-available-loans","update-total-count"],props:{filters:{type:Object,default:()=>{}},itemsInBasket:{type:Array,default:()=>[]},basketLoans:{type:Array,default:()=>[]},isLoggedIn:{type:Boolean,default:!1},isVisible:{type:Boolean,default:!1},promoOnly:{type:Object,default:null},rowNumber:{type:Number,default:null},showLoans:{type:Boolean,default:!1},sortBy:{type:String,default:"popularity"},handleAddToBasket:{type:Function,default:()=>{}},checkoutRoute:{type:String,default:""}},data(){return{preventUpdatingDetailedCard:!1,limit:15,loadingLoans:!0,loanAdded:!1,loans:[],loanQueryVarsStack:[this.filters],loanQueryFilters:()=>{},offset:0,totalCount:0,zeroLoans:!1,currentSlide:0}},computed:{loanIds(){var e;return(e=this.loans)==null?void 0:e.map(t=>t.id)},singleSlideWidth(){const e=typeof window<"u"?window.innerWidth:1024;return e<414?`${e-80}px`:e>=414&&e<768?"278px":(e>=768&&e<1024,"336px")},loanQueryVars(){return{limit:this.limit,loans:()=>[],offset:this.offset,filters:this.loanQueryFilters,promoOnly:this.promoOnly,sortBy:this.sortBy}},hasMoreLoansAvailable(){return this.totalCount-this.offset>this.limit}},watch:{loans(){this.loans.length&&this.isVisible&&this.$nextTick(()=>{this.$refs.campaignLoanCarousel&&(this.$refs.campaignLoanCarousel.reInit(),this.$refs.campaignLoanCarousel.goToSlide(this.currentSlide))})},filters(e){this.offset=0,this.loans=[],this.loanAdded=!1,this.loanQueryFilters=e,this.$refs.campaignLoanCarousel&&this.$refs.campaignLoanCarousel.goToSlide(0)},isVisible(e){e&&this.showLoans&&(this.loadingLoans=!1,this.fetchLoans())},showLoans(e){e&&this.isVisible&&this.fetchLoans()},loanQueryVars:{handler(e,t){this.loanQueryVarsStack.push(t),this.showLoans&&this.isVisible&&this.fetchLoans()},deep:!0}},methods:{getCheckoutBtnText(e){const t=this.getAmountLended(e);return t>0?`Supported for ${ot(t).format("$0")}`:"Supported"},showLoanDetails(e){this.$emit("show-loan-details",e)},onInteractCarousel(e){this.$kvTrackEvent("carousel","click-carousel-horizontal-scroll",e)},addToBasket(e){this.loanAdded=!0,this.$emit("add-to-basket",e)},removeLoanFromBasket(e){this.$emit("remove-loan-from-basket",e)},showBasket(){this.$emit("show-basket")},fetchLoans(){this.isVisible&&(this.loadingLoans=!0),this.zeroLoans=!1,this.apollo.query({query:j,variables:this.loanQueryVars,fetchPolicy:"network-only"}).then(({data:e})=>{var n,r,o,l,d;const t=((r=(n=e.lend)==null?void 0:n.loans)==null?void 0:r.values)??[],i=t.length?t.map(u=>u.id):[],a=this.loans.length?this.loans.map(u=>u.id):[],s=t.filter(u=>!a.includes(u.id));i.toString()!==a.toString()&&(this.loans=[...this.loans,...s]),this.isVisible&&(this.totalCount=((l=(o=e.lend)==null?void 0:o.loans)==null?void 0:l.totalCount)??0,this.$emit("update-total-count",this.totalCount),this.$emit("update-available-loans",(d=e.lend)==null?void 0:d.loans),this.loadingLoans=!1),this.totalCount===0&&(this.zeroLoans=!0)})},setLoanQueryFilters(e){e||(this.loanQueryFilters=this.filters)},loadMoreLoans(){this.currentSlide=this.$refs.campaignLoanCarousel.currentIndex,this.offset+=this.limit},resetSearchFilters(){this.$emit("reset-loan-filters")},getAmountLended(e){var t,i;if(this.basketLoans.length>0)return(i=(t=this.basketLoans)==null?void 0:t.find(a=>String(a.id)===String(e)))==null?void 0:i.price}}},zn={class:"component-wrapper tw-mb-2 md:tw-mb-0"},Wn={class:"spinner"},Hn={key:0,class:"zero-loans-state"};function Yn(e,t,i,a,s,n){const r=g("kv-loading-spinner"),o=g("kiva-classic-basic-loan-card"),l=g("kv-carousel"),d=Pt("kv-track-event");return p(),h("div",zn,[y(Tt,{name:"kvfade"},{default:v(()=>[O(c("div",Wn,[y(r)],512),[[R,s.loadingLoans]])],void 0),_:1}),s.zeroLoans?(p(),h("div",Hn,[t[4]||(t[4]=c("h3",{class:"tw-mb-2"}," All borrowers matching this search have been funded. ",-1)),c("p",null,[t[3]||(t[3]=F(" Please adjust your criteria or ")),c("a",{onClick:t[0]||(t[0]=$((...u)=>n.resetSearchFilters&&n.resetSearchFilters(...u),["prevent"]))},"start a new search.")])])):_("",!0),!s.zeroLoans&&!s.loadingLoans?(p(),q(l,{key:1,ref:"campaignLoanCarousel","slides-to-scroll":"visible","slide-max-width":n.singleSlideWidth,onInteractCarousel:n.onInteractCarousel,"embla-options":{loop:!1,align:"start"}},qt({_:2},[B(n.loanIds,(u,m)=>({name:`slide${m}`,fn:v(()=>[c("div",null,[(p(),q(o,{"item-index":m,key:`loan-${u}`,"loan-id":u,"show-action-button":!0,"checkout-route":i.checkoutRoute,"custom-loan-details":!0,"use-emitted-add-to-basket":!0,onShowLoanDetails:f=>n.showLoanDetails(s.loans[m]),onAddToBasket:n.addToBasket,onCustomCheckoutButtonAction:t[1]||(t[1]=f=>e.$emit("show-basket"))},null,8,["item-index","loan-id","checkout-route","onShowLoanDetails","onAddToBasket"]))])])})),n.hasMoreLoansAvailable?{name:`slide${n.loanIds.length}`,fn:v(()=>[O((p(),h("button",{class:"see-all-card",onClick:t[2]||(t[2]=$((...u)=>n.loadMoreLoans&&n.loadMoreLoans(...u),["prevent"]))},t[5]||(t[5]=[c("div",{class:"see-all-card__link"},[c("h3",null,"Load More")],-1)]))),[[d,["campaign-landing","click-carousel-load-more-loans","Load More loans"]]])]),key:"0"}:void 0]),1032,["slide-max-width","onInteractCarousel"])):_("",!0)])}const Jn=A(Ct,[["render",Yn],["__scopeId","data-v-94570a7a"]]);Ct.__docgenInfo={displayName:"CampaignLoanRow",exportName:"default",description:"",tags:{},props:[{name:"filters",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"basketLoans",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isLoggedIn",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isVisible",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"promoOnly",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"rowNumber",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"showLoans",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"sortBy",type:{name:"string"},defaultValue:{func:!1,value:"'popularity'"}},{name:"handleAddToBasket",type:{name:"func"},defaultValue:{func:!0,value:"() => {}"}},{name:"checkoutRoute",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"show-basket"},{name:"add-to-basket",type:{names:["undefined"]}},{name:"remove-loan-from-basket",type:{names:["undefined"]}},{name:"reset-loan-filters"},{name:"show-loan-details",type:{names:["undefined"]}},{name:"update-available-loans",type:{names:["undefined"]}},{name:"update-total-count",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/CampaignLoanRow.vue"]};var ae,Oe;function Zn(){if(Oe)return ae;Oe=1;function e(t){var i=t==null?0:t.length;return i?t[i-1]:void 0}return ae=e,ae}var se,Be;function Xn(){if(Be)return se;Be=1;var e=si(),t=$t();function i(a,s){return s.length<2?a:e(a,t(s,0,-1))}return se=i,se}var re,Ne;function ea(){if(Ne)return re;Ne=1;var e=lt(),t=ri(),i=Zn(),a=Xn(),s=oi();function n(r,o,l){o=t(o,r),r=a(r,o);var d=r==null?r:r[s(i(o))];return d==null?void 0:e(d,r,l)}return re=n,re}var oe,Re;function ta(){if(Re)return oe;Re=1;var e=lt(),t=Zt(),i=ea(),a=Q(),s=dt(),n=a(function(r,o,l){var d=-1,u=typeof o=="function",m=s(r)?Array(r.length):[];return t(r,function(f){m[++d]=u?e(o,f,l):i(f,o,l)}),m});return oe=n,oe}var ia=ta();const na=K(ia);var le,De;function aa(){if(De)return le;De=1;var e=z(),t=Xt(),i=ei();function a(s,n){var r={};return n=i(n,3),t(s,function(o,l,d){e(r,l,n(o,l,d))}),r}return le=a,le}var sa=aa();const ra=K(sa);var ue,Ue;function St(){if(Ue)return ue;Ue=1;var e=z(),t=ut();function i(a,s,n){(n!==void 0&&!t(a[s],n)||n===void 0&&!(s in a))&&e(a,s,n)}return ue=i,ue}var M={exports:{}};M.exports;var Ge;function oa(){return Ge||(Ge=1,function(e,t){var i=Si(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,n=s&&s.exports===a,r=n?i.Buffer:void 0,o=r?r.allocUnsafe:void 0;function l(d,u){if(u)return d.slice();var m=d.length,f=o?o(m):new d.constructor(m);return d.copy(f),f}e.exports=l}(M,M.exports)),M.exports}var de,Me;function la(){if(Me)return de;Me=1;var e=ti();function t(i){var a=new i.constructor(i.byteLength);return new e(a).set(new e(i)),a}return de=t,de}var ce,je;function ua(){if(je)return ce;je=1;var e=la();function t(i,a){var s=a?e(i.buffer):i.buffer;return new i.constructor(s,i.byteOffset,i.length)}return ce=t,ce}var me,Ke;function da(){if(Ke)return me;Ke=1;function e(t,i){var a=-1,s=t.length;for(i||(i=Array(s));++a<s;)i[a]=t[a];return i}return me=e,me}var fe,Ee;function ca(){if(Ee)return fe;Ee=1;var e=W(),t=Object.create,i=function(){function a(){}return function(s){if(!e(s))return{};if(t)return t(s);a.prototype=s;var n=new a;return a.prototype=void 0,n}}();return fe=i,fe}var pe,$e;function Ft(){if($e)return pe;$e=1;var e=ci(),t=e(Object.getPrototypeOf,Object);return pe=t,pe}var he,Qe;function ma(){if(Qe)return he;Qe=1;var e=ca(),t=Ft(),i=ct();function a(s){return typeof s.constructor=="function"&&!i(s)?e(t(s)):{}}return he=a,he}var ge,ze;function fa(){if(ze)return ge;ze=1;var e=Fi(),t=Ft(),i=Li(),a="[object Object]",s=Function.prototype,n=Object.prototype,r=s.toString,o=n.hasOwnProperty,l=r.call(Object);function d(u){if(!i(u)||e(u)!=a)return!1;var m=t(u);if(m===null)return!0;var f=o.call(m,"constructor")&&m.constructor;return typeof f=="function"&&f instanceof f&&r.call(f)==l}return ge=d,ge}var ye,We;function Lt(){if(We)return ye;We=1;function e(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}return ye=e,ye}var ve,He;function pa(){if(He)return ve;He=1;var e=z(),t=ut(),i=Object.prototype,a=i.hasOwnProperty;function s(n,r,o){var l=n[r];(!(a.call(n,r)&&t(l,o))||o===void 0&&!(r in n))&&e(n,r,o)}return ve=s,ve}var be,Ye;function ha(){if(Ye)return be;Ye=1;var e=pa(),t=z();function i(a,s,n,r){var o=!n;n||(n={});for(var l=-1,d=s.length;++l<d;){var u=s[l],m=r?r(n[u],a[u],u,n,a):void 0;m===void 0&&(m=a[u]),o?t(n,u,m):e(n,u,m)}return n}return be=i,be}var _e,Je;function ga(){if(Je)return _e;Je=1;function e(t){var i=[];if(t!=null)for(var a in Object(t))i.push(a);return i}return _e=e,_e}var ke,Ze;function ya(){if(Ze)return ke;Ze=1;var e=W(),t=ct(),i=ga(),a=Object.prototype,s=a.hasOwnProperty;function n(r){if(!e(r))return i(r);var o=t(r),l=[];for(var d in r)d=="constructor"&&(o||!s.call(r,d))||l.push(d);return l}return ke=n,ke}var we,Xe;function At(){if(Xe)return we;Xe=1;var e=mi(),t=ya(),i=dt();function a(s){return i(s)?e(s,!0):t(s)}return we=a,we}var Ce,et;function va(){if(et)return Ce;et=1;var e=ha(),t=At();function i(a){return e(a,t(a))}return Ce=i,Ce}var Se,tt;function ba(){if(tt)return Se;tt=1;var e=St(),t=oa(),i=ua(),a=da(),s=ma(),n=fi(),r=li(),o=Ve(),l=pi(),d=ui(),u=W(),m=fa(),f=hi(),b=Lt(),L=va();function x(V,C,k,P,E,J,U){var I=b(V,k),w=b(C,k),xe=U.get(w);if(xe){e(V,k,xe);return}var S=J?J(I,w,k+"",V,C,U):void 0,G=S===void 0;if(G){var Z=r(w),X=!Z&&l(w),Ie=!Z&&!X&&f(w);S=w,Z||X||Ie?r(I)?S=I:o(I)?S=a(I):X?(G=!1,S=t(w,!0)):Ie?(G=!1,S=i(w,!0)):S=[]:m(w)||n(w)?(S=I,n(I)?S=L(I):(!u(I)||d(I))&&(S=s(w))):G=!1}G&&(U.set(w,S),E(S,w,P,J,U),U.delete(w)),e(V,k,S)}return Se=x,Se}var Fe,it;function _a(){if(it)return Fe;it=1;var e=ii(),t=St(),i=ni(),a=ba(),s=W(),n=At(),r=Lt();function o(l,d,u,m,f){l!==d&&i(d,function(b,L){if(f||(f=new e),s(b))a(l,d,L,u,o,m,f);else{var x=m?m(r(l,L),b,L+"",l,d,f):void 0;x===void 0&&(x=b),t(l,L,x)}},n)}return Fe=o,Fe}var Le,nt;function ka(){if(nt)return Le;nt=1;var e=Q(),t=Dt();function i(a){return e(function(s,n){var r=-1,o=n.length,l=o>1?n[o-1]:void 0,d=o>2?n[2]:void 0;for(l=a.length>3&&typeof l=="function"?(o--,l):void 0,d&&t(n[0],n[1],d)&&(l=o<3?void 0:l,o=1),s=Object(s);++r<o;){var u=n[r];u&&a(s,u,r,l)}return s})}return Le=i,Le}var Ae,at;function wa(){if(at)return Ae;at=1;var e=_a(),t=ka(),i=t(function(a,s,n){e(a,s,n)});return Ae=i,Ae}var Ca=wa();const Sa=K(Ca),N=9,Vt={page:{to({offset:e}){const t=Math.floor(e/N)+1;return t>1?String(t):void 0},from({page:e}){const t=Number(e)-1;return{offset:t>0?N*t:0}}}};function Fa(e){return ra(Vt,({to:i})=>i(e))}function La(e){return Sa({},...na(Vt,"from",e))}const xt={name:"CampaignLoanGridDisplay",inject:["apollo"],components:{KvLoadingOverlay:Rt,KvPagination:Ai,KivaClassicBasicLoanCard:ft},emits:["add-to-basket","remove-loan-from-basket","reset-loan-filters","show-basket","show-loan-details","update-total-count"],props:{checkoutVisible:{type:Boolean,default:!1},showLoans:{type:Boolean,default:!1},filters:{type:Object,default:()=>{}},isVisible:{type:Boolean,default:!1},isVisitor:{type:Boolean,default:!0},itemsInBasket:{type:Array,default:()=>[]},basketLoans:{type:Array,default:()=>[]},promoOnly:{type:Object,default:null},sortBy:{type:String,default:"popularity"},checkoutRoute:{type:String,default:""}},data(){return{limit:N,loadingLoans:!0,loans:[],loansPerPage:N,offset:0,pageQuery:{page:"1"},totalCount:0,loanQueryVarsStack:[this.filters],loanQueryFilters:()=>{},zeroLoans:!1}},computed:{loanIds(){return Qt(this.loans,"id")},urlParams(){return Fa({offset:this.offset})},lastLoanPage(){return Math.ceil(this.totalCount/this.limit)},loanQueryVars(){return{limit:this.limit,loans:()=>[],offset:this.offset,filters:this.loanQueryFilters,promoOnly:this.promoOnly,sortBy:this.sortBy}}},watch:{filters(e,t){e!==t&&(this.loanQueryFilters=e)},isVisible(e){e&&this.showLoans&&this.fetchLoans()},showLoans(e){e&&this.isVisible&&this.fetchLoans()},loanQueryVars:{handler(e,t){this.loanQueryVarsStack.push(t),this.showLoans&&this.isVisible&&this.fetchLoans()},deep:!0}},created(){this.pageQuery=this.$route.query,this.loanQueryFilters=this.filters},methods:{getCheckoutBtnText(e){const t=this.getAmountLended(e);return t>0?`Supported for ${ot(t).format("$0")}`:"Supported"},addToBasket(e){this.$emit("add-to-basket",e)},removeLoanFromBasket(e){this.$emit("remove-loan-from-basket",e)},showBasket(){this.$emit("show-basket")},showLoanDetails(e){this.$emit("show-loan-details",e)},fetchLoans(){this.isVisible&&(this.loadingLoans=!0),this.zeroLoans=!1,this.apollo.query({query:j,variables:this.loanQueryVars,fetchPolicy:"network-only"}).then(({data:e})=>{var t,i,a,s;this.loans=((i=(t=e.lend)==null?void 0:t.loans)==null?void 0:i.values)??[],this.totalCount=((s=(a=e.lend)==null?void 0:a.loans)==null?void 0:s.totalCount)??0,this.isVisible&&(this.$emit("update-total-count",this.totalCount),this.checkIfPageIsOutOfRange(this.loans.length,this.pageQuery.page),this.loadingLoans=!1),this.totalCount||(this.zeroLoans=!0)})},setLoanQueryFilters(e){e||(this.loanQueryFilters=this.filters)},checkIfPageIsOutOfRange(e,t){e===0&&t&&this.pageChange({pageOffset:N*(this.lastLoanPage-1)})},pageChange({pageOffset:e}){this.offset=e,this.pageQuery={page:this.offset/N},this.pushChangesToUrl()},updateFromParams(e){const{offset:t}=La(e);this.offset=t},pushChangesToUrl(){var t;const{page:e}=((t=this.$route)==null?void 0:t.query)??{page:"0"};e!==this.urlParams.page&&this.$router.push({query:{...this.$route.query,...this.urlParams},hash:"campaignLoanDisplay"})},resetSearchFilters(){this.$emit("reset-loan-filters")},getAmountLended(e){var t,i;if(this.basketLoans.length>0)return(i=(t=this.basketLoans)==null?void 0:t.find(a=>String(a.id)===String(e)))==null?void 0:i.price}}},Aa={id:"campaign-loans",class:"campaign-loans row align-center"},Va={key:0,class:"columns align-self-middle"},xa={class:"loan-card-group row tw-gap-x-4"},Ia={key:1,class:"loan-count"},Ta={key:1,class:"zero-loans-state"},qa={key:2,class:"campaign-loans__loading-loans"};function Pa(e,t,i,a,s,n){const r=g("kiva-classic-basic-loan-card"),o=g("kv-pagination"),l=g("kv-loading-overlay");return p(),h("section",Aa,[i.isVisible&&s.loans.length>0?(p(),h("div",Va,[c("div",xa,[(p(!0),h(D,null,B(n.loanIds,(d,u)=>(p(),q(r,{class:"tw-mb-4","item-index":u,key:`loan-${d}`,"loan-id":d,"show-action-button":!0,"custom-loan-details":!0,"checkout-route":i.checkoutRoute,"use-emitted-add-to-basket":!0,onShowLoanDetails:m=>n.showLoanDetails(s.loans[u]),onAddToBasket:n.addToBasket,onCustomCheckoutButtonAction:t[0]||(t[0]=m=>e.$emit("show-basket"))},null,8,["item-index","loan-id","checkout-route","onShowLoanDetails","onAddToBasket"]))),128))]),s.totalCount>0?(p(),q(o,{key:0,total:s.totalCount,limit:s.limit,offset:s.offset,onPageChanged:n.pageChange},null,8,["total","limit","offset","onPageChanged"])):_("",!0),s.totalCount>0?(p(),h("div",Ia,T(s.totalCount)+" loans ",1)):_("",!0)])):_("",!0),s.zeroLoans?(p(),h("div",Ta,[t[3]||(t[3]=c("h3",{class:"tw-mb-2"}," All borrowers matching this search have been funded. ",-1)),c("p",null,[t[2]||(t[2]=F(" Please adjust your criteria or ")),c("a",{onClick:t[1]||(t[1]=$((...d)=>n.resetSearchFilters&&n.resetSearchFilters(...d),["prevent"]))},"start a new search.")])])):_("",!0),s.loadingLoans?(p(),h("div",qa,[y(l,{id:"loadingLoansOverlay",class:"campaign-loans__loading-loans-overlay"}),t[4]||(t[4]=c("p",{class:"campaign-loans__loading-loans-copy"}," Loading loans... ",-1))])):_("",!0)])}const Oa=A(xt,[["render",Pa],["__scopeId","data-v-ef5e7712"]]);xt.__docgenInfo={displayName:"CampaignLoanGridDisplay",exportName:"default",description:"",tags:{},props:[{name:"checkoutVisible",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showLoans",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"filters",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"isVisible",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isVisitor",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"basketLoans",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"promoOnly",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"sortBy",type:{name:"string"},defaultValue:{func:!1,value:"'popularity'"}},{name:"checkoutRoute",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"show-basket"},{name:"add-to-basket",type:{names:["undefined"]}},{name:"remove-loan-from-basket",type:{names:["undefined"]}},{name:"reset-loan-filters"},{name:"show-loan-details",type:{names:["undefined"]}},{name:"update-total-count",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/CorporateCampaign/CampaignLoanGridDisplay.vue"]};const It={name:"CampaignLoanWrapper",components:{CampaignLoanFilters:Kn,CampaignLoanRow:Jn,CampaignLoanGridDisplay:Oa,CampaignProgressBar:Ui},props:{content:{type:Object,default:()=>{}},componentProps:{type:Object,default:()=>{}}}},Ba={class:"loan-categories section",id:"campaignLoanSection",ref:"campaignLoanSection"},Na={class:"row"},Ra={class:"columns"};function Da(e,t,i,a,s,n){const r=g("campaign-loan-filters"),o=g("campaign-progress-bar"),l=g("campaign-loan-row"),d=g("campaign-loan-grid-display");return p(),h("section",Ba,[c("div",Na,[c("div",Ra,[y(r,{"applied-filters":i.componentProps.filters,"initial-filters":i.componentProps.initialFilters,"excluded-tags":i.componentProps.excludedTags,"initial-sort-by":i.componentProps.initialSortBy,"active-loan-display":i.componentProps.activeLoanDisplay,"show-loan-display-toggle":i.componentProps.showLoanDisplayToggle,"total-count":i.componentProps.totalCount,onUpdatedFilters:i.componentProps.handleUpdatedFilters,onUpdatedSortBy:i.componentProps.handleUpdatedSortBy,onSetLoanDisplay:i.componentProps.handleLoanDisplayType,onResetLoanFilters:i.componentProps.handleResetLoanFilters},null,8,["applied-filters","initial-filters","excluded-tags","initial-sort-by","active-loan-display","show-loan-display-toggle","total-count","onUpdatedFilters","onUpdatedSortBy","onSetLoanDisplay","onResetLoanFilters"]),y(o,{"is-matching-campaign":i.componentProps.isMatchingCampaign,"promo-amount":i.componentProps.promoAmount,"remaining-credit":i.componentProps.remainingCredit,"basket-loans":i.componentProps.basketLoans,"promo-name":i.componentProps.promoName,onShowBasket:i.componentProps.showBasket},null,8,["is-matching-campaign","promo-amount","remaining-credit","basket-loans","promo-name","onShowBasket"]),O((p(),q(l,{name:"Loan Row",id:"campaignLoanRowDisplay",filters:i.componentProps.filters,"is-visitor":i.componentProps.isVisitor,"items-in-basket":i.componentProps.itemsInBasket,"basket-loans":i.componentProps.basketLoans,"is-logged-in":!i.componentProps.isVisitor,"is-visible":i.componentProps.showLoanRows,key:"one-category","promo-only":i.componentProps.promoOnlyQuery,"row-number":1,"show-loans":i.componentProps.showLoans,"sort-by":i.componentProps.sortBy,onAddToBasket:i.componentProps.handleAddToBasket,onUpdateAvailableLoans:i.componentProps.handleUpdateAvailableLoans,onUpdateTotalCount:i.componentProps.setTotalCount,onShowLoanDetails:i.componentProps.showLoanDetails,onResetLoanFilters:i.componentProps.handleResetLoanFilters,onRemoveLoanFromBasket:i.componentProps.removeLoanFromBasket,onShowBasket:i.componentProps.showBasket},null,8,["filters","is-visitor","items-in-basket","basket-loans","is-logged-in","is-visible","promo-only","show-loans","sort-by","onAddToBasket","onUpdateAvailableLoans","onUpdateTotalCount","onShowLoanDetails","onResetLoanFilters","onRemoveLoanFromBasket","onShowBasket"])),[[R,i.componentProps.showLoanRows]]),O(y(d,{id:"campaignLoanDisplay","checkout-visible":i.componentProps.checkoutVisible||i.componentProps.showThanks,filters:i.componentProps.filters,"is-visible":!i.componentProps.showLoanRows,"is-visitor":i.componentProps.isVisitor,"items-in-basket":i.componentProps.itemsInBasket,"basket-loans":i.componentProps.basketLoans,"promo-only":i.componentProps.promoOnlyQuery,"show-loans":i.componentProps.showLoans,"sort-by":i.componentProps.sortBy,onAddToBasket:i.componentProps.handleAddToBasket,onUpdateTotalCount:i.componentProps.setTotalCount,onShowLoanDetails:i.componentProps.showLoanDetails,onResetLoanFilters:i.componentProps.handleResetLoanFilters,onRemoveLoanFromBasket:i.componentProps.removeLoanFromBasket,onShowBasket:i.componentProps.showBasket},null,8,["checkout-visible","filters","is-visible","is-visitor","items-in-basket","basket-loans","promo-only","show-loans","sort-by","onAddToBasket","onUpdateTotalCount","onShowLoanDetails","onResetLoanFilters","onRemoveLoanFromBasket","onShowBasket"]),[[R,!i.componentProps.showLoanRows]])])])],512)}const Kr=A(It,[["render",Da]]);It.__docgenInfo={displayName:"CampaignLoanWrapper",exportName:"default",description:"",tags:{},props:[{name:"content",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"componentProps",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Contentful/CampaignLoanWrapper.vue"]};export{Kr as default};

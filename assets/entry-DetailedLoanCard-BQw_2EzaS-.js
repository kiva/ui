import{_ as d}from"./entry-get-BUjo_hX5jl.js";import{r as m,c as s,o as r,q as n,L as l,a as c,z as y,m as u,v as C,B as ae,C as f,D as O,E as ie,M as b,J as S,K as re,P as R,T as oe,I as P,A as I}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{p as se}from"./entry-KvFlag-CMxNRMzdLr.js";import{n as _}from"./entry-numeral-xVHG5DEP0A.js";import{B as le}from"./entry-BorrowerInfoBody-C_7bSIiGxj.js";import{K as E}from"./entry-KvExpandable-Bd-oWmSPhz.js";import{K as q}from"./entry-KvIcon-BUhAos7YaB.js";import{L as de}from"./entry-LoanCardImage-CDUN9w9jfR.js";import{B as ue}from"./entry-BorrowerInfoName-Bl2-KCsnYm.js";import{A as me}from"./entry-ActionButton-BIhqHg5aws.js";import{M as ce}from"./entry-MatchingText-BJHHEalvvk.js";import{F as fe}from"./entry-FundraisingStatusMeter-B7v6BFbBP_.js";import{_ as w}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import{K as x}from"./entry-KvLoadingSpinner-KUfNgrvm0_.js";import{f as ke}from"./entry-index-CGacd2nhU3.js";import{p as T}from"./entry-index-CNzTSTNafD.js";import{r as ve,t as D}from"./entry-index-COmIkRYU2t.js";import"./entry-_commonjsHelpers-Cpj98o6Yn6.js";import"./entry-get-D3xDH2SX94.js";import"./entry-isSymbol-5pnFTpIKM9.js";import"./entry-index-CWclSTHHJk.js";import"./iframe-Cc_r_Bkf.js";import"./entry-mdi-B1ONwcTkQ2.js";import"./entry-KvMaterialIcon-C3KLX5OV-L.js";import"./entry-includes-CAVAVivXb3.js";import"./entry-_baseIndexOf-qfoVQuLp0t.js";import"./entry-_baseFindIndex-Ca62E79BN9.js";import"./entry-keys-B9dmm4b_qU.js";import"./entry-toInteger-XI_MWEAzOD.js";import"./entry-toNumber-MeiYJWOH0A.js";import"./entry-injectionCheck-7gO_RAaPL1.js";import"./entry-updateLoanReservation-BaDuxVurTB.js";import"./entry-basketUtils-CZJxgsw05A.js";import"./entry-logFormatter-DhjghUk5Me.js";import"./entry-basketCount-CZ-kE9ye_Z.js";import"./entry-basketItems-B-09YWrzPC.js";import"./entry-exports-CudK1O5XNw.js";import"./entry-KvButton-BA7nBLyz1b.js";import"./entry-KvLoadingSpinner-CpYE5b1xV2.js";import"./entry-loanUtils-DSoWkICHcw.js";import"./entry-KvSelect-BPt7lipyTp.js";import"./entry-attrs-C2OODjD6EW.js";import"./entry-index-CbPSoDvqj7.js";import"./entry-index-tAHLmhMYuW.js";import"./entry-index-D4S0JsTkt8.js";function K(e,t){ve(2,arguments);var i=D(e),p=D(t),a=i.getFullYear()-p.getFullYear(),o=i.getMonth()-p.getMonth();return a*12+o}const z={name:"FundraisingStatusLarge",components:{FundraisingStatusMeter:fe},props:{expiringSoonMessage:{type:String,default:""},timeLeftMessage:{type:String,default:""},isFunded:{type:Boolean,default:!1},percentRaised:{type:Number,default:0},amountLeft:{type:Number,default:0},lenderCount:{type:Number,default:0}}},ye={class:"fundraising-status"},pe={class:"funded-status-line tw-text-brand tw-text-small"},ge={class:"fundraising-status-meter-wrapper"},_e={class:"left-and-to-go-line tw-text-small tw-text-secondary"},he={key:0,class:"tw-text-primary"},be={key:1};function we(e,t,i,p,a,o){const k=m("fundraising-status-meter");return r(),s("div",ye,[n("div",pe,l(e.$filters.numeral(i.percentRaised,"0%"))+" funded"+l(i.lenderCount?` by ${i.lenderCount} lenders`:""),1),n("div",ge,[c(k,{"is-funded":i.isFunded,"percent-raised":i.percentRaised,"short-meter":!0},null,8,["is-funded","percent-raised"])]),n("div",_e,[i.isFunded?(r(),s("span",he," Funded ")):(r(),s("span",be,l(i.timeLeftMessage)+" / $"+l(e.$filters.numeral(i.amountLeft,"0,0"))+" to go ",1))])])}const Le=w(z,[["render",we],["__scopeId","data-v-e5598c61"]]);z.__docgenInfo={displayName:"FundraisingStatusLarge",exportName:"default",description:"",tags:{},props:[{name:"expiringSoonMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"timeLeftMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isFunded",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"percentRaised",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"amountLeft",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"lenderCount",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/FundraisingStatus/FundraisingStatusLarge.vue"]};const Fe=`query loanDescription(
	$id: Int!,
){
	lend {
		loan(id: $id){
			id
			description
		}
  	}
}
`,xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"loanDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:133,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Fe}}},H={name:"InfoPanel",components:{KvExpandable:E,KvIcon:q},emits:["track-interaction"],props:{id:{type:String,required:!0,validator:e=>e.length>0&&!/\s/g.test(e)},expandable:{type:Boolean,default:!0},panelId:{type:String,default:""}},data(){return{open:!1}},created(){this.open=!this.expandable},methods:{toggle(){this.open=!this.open||!this.expandable,this.$emit("track-interaction",{interactionType:`${this.open?"open":"close"}-${this.panelId}-panel`,interactionElement:`mobile-${this.panelId}-panel`})},expand(){this.open=!0},collapse(){this.open=!1}}},Ne={class:"info-panel tw-bg-primary",style:{"--tw-bg-opacity":"0.95"}},Ie=["aria-controls","aria-expanded"],Se={class:"panel-title"},Te=["id","aria-hidden"];function Ce(e,t,i,p,a,o){const k=m("kv-icon"),v=m("kv-expandable");return r(),s("div",Ne,[n("button",{onClick:t[0]||(t[0]=ae((...L)=>o.toggle&&o.toggle(...L),["prevent"])),"aria-controls":i.id,"aria-expanded":a.open?"true":"false",class:"title-button"},[n("h3",Se,[C(e.$slots,"title",{},void 0,!0)]),i.expandable?(r(),y(k,{key:0,class:"panel-icon",name:"small-chevron-mobile","from-sprite":!0})):u("",!0)],8,Ie),c(v,null,{default:f(()=>[O(n("div",{id:i.id,class:"kv-expandable-pane","aria-hidden":a.open?"false":"true"},[C(e.$slots,"default",{},void 0,!0)],8,Te),[[ie,a.open]])],void 0),_:3})])}const F=w(H,[["render",Ce],["__scopeId","data-v-0912a441"]]);H.__docgenInfo={displayName:"InfoPanel",exportName:"default",description:"",tags:{},props:[{name:"id",type:{name:"string"},required:!0},{name:"expandable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"panelId",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"track-interaction",type:{names:["undefined"]}}],slots:[{name:"title"},{name:"default"}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/InfoPanels/InfoPanel.vue"]};const j={name:"BorrowerStoryPanel",components:{InfoPanel:F,KvLoadingSpinner:x},inject:["apollo","cookieStore"],emits:["track-interaction"],props:{expandable:{type:Boolean,default:!0},loanId:{type:Number,default:0},readMoreLinkText:{type:String,default:"Read full story"}},data(){return{loanStory:""}},apollo:{query:xe,variables(){return{id:parseInt(this.loanId,10)}},result({data:e}){this.loanStory=d(e,"lend.loan.description")}},computed:{elementId(){return`${this.loanId}-borrower-story-panel-ex-${this.expandable?"1":"0"}`}},methods:{trackInteraction(e){this.$emit("track-interaction",e)}}},Re=["innerHTML"],Pe={key:1,id:"loading-overlay"},De={class:"spinner-wrapper"};function Be(e,t,i,p,a,o){const k=m("kv-loading-spinner"),v=m("router-link"),L=m("info-panel");return r(),y(L,{id:o.elementId,expandable:i.expandable,"panel-id":"borrower-story",onTrackInteraction:o.trackInteraction},{title:f(()=>t[1]||(t[1]=[b(" Borrower story ")])),default:f(()=>[a.loanStory?(r(),s("p",{key:0,innerHTML:a.loanStory,class:"loan-story"},null,8,Re)):(r(),s("div",Pe,[n("div",De,[c(k)])])),i.readMoreLinkText&&a.loanStory?(r(),y(v,{key:2,to:`/lend/${i.loanId}`,onClick:t[0]||(t[0]=N=>e.$emit("track-interaction",{interactionType:"viewBorrowerPage",interactionElement:"readMoreStoryPanel"}))},{default:f(()=>[b(l(i.readMoreLinkText),1)],void 0,!0),_:1},8,["to"])):u("",!0)],void 0),_:1},8,["id","expandable","onTrackInteraction"])}const B=w(j,[["render",Be]]);j.__docgenInfo={displayName:"BorrowerStoryPanel",exportName:"default",description:"",tags:{},props:[{name:"expandable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loanId",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"readMoreLinkText",type:{name:"string"},defaultValue:{func:!1,value:"'Read full story'"}}],events:[{name:"track-interaction",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/InfoPanels/BorrowerStoryPanel.vue"]};const Ve=`query loanDetails(
	$id: Int!,
){
	lend {
		loan(id: $id) {
			id
			whySpecial
			plannedExpirationDate
			fundraisingDate
			lenderRepaymentTerm
			repaymentInterval
			geocode {
				country {
					id
					name
				}
			}
			terms {
		        lossLiabilityCurrencyExchange
				flexibleFundraisingEnabled
			}
			... on LoanPartner {
				disbursalDate
				partnerName
				partner {
					id
					chargesFeesInterest
					riskRating
					currencyExchangeLossRate
					countries {
						id
						ppp
						fundsLentInCountry
						numLoansFundraising
					}
				}
			}
			... on LoanDirect {
				disbursalDate
				trusteeName
				trustee {
					id
					stats {
						id
						numFundraisingLoans
					}
				}
			}
		}
	}
}
`,Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"loanDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"whySpecial"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"plannedExpirationDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fundraisingDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lenderRepaymentTerm"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repaymentInterval"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geocode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"terms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lossLiabilityCurrencyExchange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flexibleFundraisingEnabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LoanPartner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disbursalDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"partnerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"partner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chargesFeesInterest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"riskRating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currencyExchangeLossRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ppp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fundsLentInCountry"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numLoansFundraising"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LoanDirect"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disbursalDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trusteeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trustee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numFundraisingLoans"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:759,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Ve}}},U={name:"LoanDetailsPanel",components:{InfoPanel:F,KvLoadingSpinner:x},inject:["apollo","cookieStore"],emits:["track-interaction"],props:{expandable:{type:Boolean,default:!0},loanId:{type:Number,default:0}},data(){return{country:"",disbursalDate:"",loanLength:"",repaymentSchedule:"",borrowerPayingInterest:"",facilitatedByFieldPartner:"",whySpecial:"",riskRating:"",avgAnnualIncome:"",fundsLentInCountry:"",partnerLoansCurrentlyFundraising:"",directLoansCurrentlyFundraising:"",fundingModel:"",currencyLossLiability:"",currencyExchangeLoss:""}},apollo:{query:Ae,variables(){return{id:parseInt(this.loanId,10)}},result({data:e}){this.country=d(e,"lend.loan.geocode.country.name"),this.disbursalDate=d(e,"lend.loan.disbursalDate"),this.loanLength=d(e,"lend.loan.lenderRepaymentTerm"),this.repaymentSchedule=d(e,"lend.loan.repaymentInterval"),this.borrowerPayingInterest=d(e,"lend.loan.partner.chargesFeesInterest"),this.facilitatedByFieldPartner=d(e,"lend.loan.partnerName"),this.trustee=d(e,"lend.loan.trustee.name"),this.whySpecial=d(e,"lend.loan.whySpecial"),this.avgAnnualIncome=d(e,"lend.loan.partner.countries[0].ppp"),this.fundsLentInCountry=d(e,"lend.loan.partner.countries[0].fundsLentInCountry"),this.partnerLoansCurrentlyFundraising=d(e,"lend.loan.partner.countries[0].numLoansFundraising"),this.directLoansCurrentlyFundraising=d(e,"lend.loan.trusteeStats.numLoansFundraising"),this.fundingModel=d(e,"lend.loan.terms.flexibleFundraisingEnabled"),this.currencyLossLiability=d(e,"lend.loan.terms.lossLiabilityCurrencyExchange"),this.currencyExchangeLoss=d(e,"lend.loan.hasCurrencyExchangeLossLenders"),this.riskRating=d(e,"lend.loan.partner.riskRating")}},computed:{elementId(){return`${this.loanId}-loan-details-panel-ex-${this.expandable?"1":"0"}`},disbursalDateFormatted(){return ke(T(this.disbursalDate),"MMMM dd, yyyy")},fundsLentInCountryFormatted(){return _(this.fundsLentInCountry).format("$0,0")},borrowerPayingInterestFormatted(){let e=this.borrowerPayingInterest;return e===!1&&(e="No"),e===!0&&(e="Yes"),e},facilitatedByFieldPartnerFormatted(){let e="";return this.facilitatedByFieldPartner!==""?e=this.facilitatedByFieldPartner:this.trustee!==""?e=this.trustee:this.facilitatedByFieldPartner===""&&this.trustee===""&&(e="Not facilitated by a Field Partner or Trustee"),e},fundingModelFormatted(){return this.fundingModel===!0?"flexible":"fixed"},currencyLossLiabilityFormatted(){let e="";return this.currencyLossLiability===""||this.currencyLossLiability==="none"?e="N/A":this.currencyLossLiability==="shared"?e="Partially":this.currencyLossLiability==="partner"?e="Yes":this.currencyLossLiability==="lender"&&(e="No"),e}},methods:{trackInteraction(e){this.$emit("track-interaction",e)}}},Me={key:0,id:"loading-overlay"},Oe={class:"spinner-wrapper"},Ee={key:1,class:"loan-details-container tw-prose"},qe={key:0},Ke={class:"tw-text-brand tw-my-0.5"},ze={key:1},He={class:"tw-text-brand tw-my-0.5 tw-capitalize"},je={key:2},Ue={class:"tw-text-brand tw-my-0.5"},Ye={key:3},Ge={class:"tw-text-brand tw-my-0.5 tw-capitalize"},Qe={key:0},We={key:1},Je={class:"tw-text-brand tw-my-0.5"},Xe={key:4},Ze={class:"tw-text-brand tw-my-0.5"},$e={key:5},en={class:"tw-text-brand tw-my-0.5"},nn={key:6},tn={class:"tw-text-brand tw-my-0.5"},an={class:"tw-mb-1 tw-mt-4"},rn={key:0},on={class:"tw-text-brand tw-my-0.5"},sn={key:1},ln={class:"tw-text-brand tw-my-0.5"},dn={key:2},un={class:"tw-text-brand tw-my-0.5"},mn={key:1},cn={class:"tw-text-brand"};function fn(e,t,i,p,a,o){const k=m("kv-loading-spinner"),v=m("info-panel");return r(),y(v,{id:o.elementId,expandable:i.expandable,"panel-id":"loan-details",onTrackInteraction:o.trackInteraction},{title:f(()=>t[0]||(t[0]=[b(" Loan Details ")])),default:f(()=>[a.loanLength?(r(),s("div",Ee,[n("dl",null,[a.loanLength?(r(),s("div",qe,[t[1]||(t[1]=n("dt",null,"Loan length:",-1)),n("dd",Ke,l(a.loanLength)+" months ",1)])):u("",!0),a.repaymentSchedule?(r(),s("div",ze,[t[2]||(t[2]=n("dt",null,"Repayment schedule:",-1)),n("dd",He,l(a.repaymentSchedule),1)])):u("",!0),a.disbursalDate?(r(),s("div",je,[t[3]||(t[3]=n("dt",null,"Disbursal date:",-1)),n("dd",Ue,l(o.disbursalDateFormatted),1)])):u("",!0),a.fundingModel!==""?(r(),s("div",Ye,[t[4]||(t[4]=n("dt",null,"Funding model:",-1)),n("dd",Ge,l(o.fundingModelFormatted),1)])):u("",!0),n("div",null,[a.currencyLossLiability?(r(),s("dt",Qe," Partner covers currency loss: ")):(r(),s("dt",We," Currency exchange loss: ")),n("dd",Je,l(o.currencyLossLiabilityFormatted),1)]),a.facilitatedByFieldPartner?(r(),s("div",Xe,[t[5]||(t[5]=n("dt",null,"Facilitated by Field Partner/trustee:",-1)),n("dd",Ze,l(o.facilitatedByFieldPartnerFormatted),1)])):u("",!0),a.borrowerPayingInterest?(r(),s("div",$e,[t[6]||(t[6]=n("dt",null,"Is borrower paying interest?",-1)),n("dd",en,l(o.borrowerPayingInterestFormatted),1)])):u("",!0),a.riskRating?(r(),s("div",nn,[t[7]||(t[7]=n("dt",null,"Field Partner risk rating:",-1)),n("dd",tn,l(a.riskRating)+" stars ",1)])):u("",!0)]),a.fundsLentInCountry||a.partnerLoansCurrentlyFundraising||a.directLoansCurrentlyFundraising?(r(),s(S,{key:0},[n("h3",an,l(a.country)+" country facts ",1),n("dl",null,[a.fundsLentInCountry?(r(),s("div",rn,[n("dt",null,"Funds lent in "+l(a.country)+":",1),n("dd",on,l(o.fundsLentInCountryFormatted),1)])):u("",!0),a.partnerLoansCurrentlyFundraising?(r(),s("div",sn,[t[8]||(t[8]=n("dt",null,"Loans currently fundraising:",-1)),n("dd",ln,l(a.partnerLoansCurrentlyFundraising),1)])):u("",!0),a.directLoansCurrentlyFundraising?(r(),s("div",dn,[t[9]||(t[9]=n("dt",null,"Loans currently fundraising:",-1)),n("dd",un,l(a.directLoansCurrentlyFundraising),1)])):u("",!0)])],64)):u("",!0),a.whySpecial?(r(),s("div",mn,[t[10]||(t[10]=n("h3",{class:"tw-mb-1 tw-mt-4"}," This loan is special because ",-1)),n("p",cn,l(a.whySpecial),1)])):u("",!0)])):(r(),s("div",Me,[n("div",Oe,[c(k)])]))],void 0),_:1},8,["id","expandable","onTrackInteraction"])}const V=w(U,[["render",fn]]);U.__docgenInfo={displayName:"LoanDetailsPanel",exportName:"default",description:"",tags:{},props:[{name:"expandable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loanId",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"track-interaction",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/InfoPanels/LoanDetailsPanel.vue"]};const kn=`query loanPartnerTrustee(
	$id: Int!,
){
	lend {
		loan(id: $id) {
			id
			name
			... on LoanPartner {
				partner {
					id
					avgBorrowerCost
					avgBorrowerCostType
					loansPosted
          			totalAmountRaised
					avgLoanSizePercentPerCapitaIncome
					startDate
					defaultRate
					loansAtRiskRate
					delinquencyRateNote
					loanAlertText
					currencyExchangeLossRate
        		}
			}
			... on LoanDirect {
				endorsement
				trustee {
					id
					organizationName
					contactRecord {
						state
					}
					memberSince
					stats {
						id
						numLoansEndorsedPublic
						totalLoansValue
						numFundraisingLoans
						numPayingOnTimeLoans
						numPayingBackDelinquentLoans
						numRepaidInFullLoans
						numDefaultedLoans
						repaymentRate
					}
				}
			}
		}
	}
}
`,Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"loanPartnerTrustee"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LoanPartner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"partner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avgBorrowerCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avgBorrowerCostType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loansPosted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalAmountRaised"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avgLoanSizePercentPerCapitaIncome"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loansAtRiskRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delinquencyRateNote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loanAlertText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currencyExchangeLossRate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LoanDirect"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endorsement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trustee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactRecord"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberSince"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numLoansEndorsedPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLoansValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numFundraisingLoans"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numPayingOnTimeLoans"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numPayingBackDelinquentLoans"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numRepaidInFullLoans"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numDefaultedLoans"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repaymentRate"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:841,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:kn}}},G={name:"PartnerInfoPanel",components:{InfoPanel:F,KvLoadingSpinner:x},inject:["apollo","cookieStore"],emits:["track-interaction"],props:{expandable:{type:Boolean,default:!0},loanId:{type:Number,default:0}},data(){return{timeOnKiva:0,numOfBorrowers:0,totalAmountRaised:0,avgLoanSize:"",avgCostToBorrower:"",avgCostToBorrowerType:"",deliquencyRate:"",riskRate:"",defaultRate:"",currencyExchangeLossRate:"",loanAlertText:""}},apollo:{query:Y,variables(){return{id:parseInt(this.loanId,10)}},result({data:e}){this.timeOnKiva=d(e,"lend.loan.partner.startDate"),this.numOfBorrowers=d(e,"lend.loan.partner.loansPosted"),this.totalAmountRaised=d(e,"lend.loan.partner.totalAmountRaised"),this.avgLoanSize=d(e,"lend.loan.partner.avgLoanSizePercentPerCapitaIncome"),this.deliquencyRate=d(e,"lend.loan.partner.delinquencyRateNote"),this.riskRate=d(e,"lend.loan.partner.loansAtRiskRate"),this.defaultRate=d(e,"lend.loan.partner.defaultRate"),this.currencyExchangeLossRate=d(e,"lend.loan.partner.currencyExchangeLossRate"),this.loanAlertText=d(e,"lend.loan.partner.loanAlertText"),this.avgCostToBorrower=d(e,"lend.loan.partner.avgBorrowerCost"),this.avgCostToBorrowerType=d(e,"lend.loan.partner.avgBorrowerCostType")}},computed:{elementId(){return`${this.loanId}-partner-info-panel-ex-${this.expandable?"1":"0"}`},timeOnKivaFormatted(){return K(Date.now(),T(this.timeOnKiva))},totalAmountRaisedFormatted(){return _(this.totalAmountRaised).format("$0,0")},riskRateFormatted(){return _(this.riskRate).format("0.00")},numOfBorrowersFormatted(){return _(this.numOfBorrowers).format("0,0")},defaultRateFormatted(){return _(this.defaultRate).format("0.00")},currencyExchangeLossRateFormatted(){return _(this.currencyExchangeLossRate).format("0.00")}},methods:{trackInteraction(e){this.$emit("track-interaction",e)}}},vn={key:0,id:"loading-overlay"},yn={class:"spinner-wrapper"},pn={key:1},gn={key:0},_n={class:"tw-text-brand tw-my-0.5"},hn={key:1},bn={class:"tw-text-brand tw-my-0.5"},wn={key:2},Ln={class:"tw-text-brand tw-my-0.5"},Fn={key:3},xn={class:"tw-text-brand tw-my-0.5"},Nn={key:4},In={class:"tw-text-brand tw-my-0.5"},Sn={key:5},Tn={class:"tw-text-brand tw-my-0.5"},Cn={key:6},Rn={class:"tw-text-brand tw-my-0.5"},Pn={key:7},Dn={class:"tw-text-brand tw-my-0.5"},Bn={key:8},Vn={class:"tw-text-brand tw-my-0.5"},An={key:0},Mn=["innerHTML"];function On(e,t,i,p,a,o){const k=m("kv-loading-spinner"),v=m("info-panel");return r(),y(v,{id:o.elementId,expandable:i.expandable,"panel-id":"partner-info",onTrackInteraction:o.trackInteraction},{title:f(()=>t[0]||(t[0]=[b(" Field Partner info ")])),default:f(()=>[a.timeOnKiva?(r(),s("div",pn,[n("dl",null,[a.timeOnKiva?(r(),s("div",gn,[t[1]||(t[1]=n("dt",null,"Time on Kiva:",-1)),n("dd",_n,l(o.timeOnKivaFormatted)+" months ",1)])):u("",!0),a.numOfBorrowers?(r(),s("div",hn,[t[2]||(t[2]=n("dt",null,"Kiva borrowers:",-1)),n("dd",bn,l(o.numOfBorrowersFormatted),1)])):u("",!0),a.totalAmountRaised?(r(),s("div",wn,[t[3]||(t[3]=n("dt",null,"Total loans:",-1)),n("dd",Ln,l(o.totalAmountRaisedFormatted),1)])):u("",!0),a.avgCostToBorrower?(r(),s("div",Fn,[t[4]||(t[4]=n("dt",null,"Average cost to borrower:",-1)),n("dd",xn,l(a.avgCostToBorrower)+"% "+l(a.avgCostToBorrowerType),1)])):u("",!0),a.avgLoanSize?(r(),s("div",Nn,[t[5]||(t[5]=n("dt",null,"Average loan size (% per capita income):",-1)),n("dd",In,l(a.avgLoanSize)+"% ",1)])):u("",!0),a.deliquencyRate?(r(),s("div",Sn,[t[6]||(t[6]=n("dt",null,"Deliquency rate:",-1)),n("dd",Tn,l(a.deliquencyRate)+"% ",1)])):u("",!0),a.riskRate?(r(),s("div",Cn,[t[7]||(t[7]=n("dt",null,"Loans at risk rate:",-1)),n("dd",Rn,l(o.riskRateFormatted)+"% ",1)])):u("",!0),a.defaultRate?(r(),s("div",Pn,[t[8]||(t[8]=n("dt",null,"Default rate:",-1)),n("dd",Dn,l(o.defaultRateFormatted)+"% ",1)])):u("",!0),a.currencyExchangeLossRate?(r(),s("div",Bn,[t[9]||(t[9]=n("dt",null,"Currency exchange loss rate:",-1)),n("dd",Vn,l(o.currencyExchangeLossRateFormatted)+"% ",1)])):u("",!0)]),a.loanAlertText&&a.loanAlertText!=""?(r(),s("div",An,[t[10]||(t[10]=n("h3",{class:"tw-mb-1 tw-mt-4"}," Why Kiva works with this partner: ",-1)),n("p",{class:"tw-prose",innerHTML:a.loanAlertText},null,8,Mn)])):u("",!0)])):(r(),s("div",vn,[n("div",yn,[c(k)])]))],void 0),_:1},8,["id","expandable","onTrackInteraction"])}const A=w(G,[["render",On]]);G.__docgenInfo={displayName:"PartnerInfoPanel",exportName:"default",description:"",tags:{},props:[{name:"expandable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loanId",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"track-interaction",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/InfoPanels/PartnerInfoPanel.vue"]};const Q={name:"TrusteeInfoPanel",components:{InfoPanel:F,KvLoadingSpinner:x},inject:["apollo","cookieStore"],emits:["track-interaction"],props:{expandable:{type:Boolean,default:!0},loanId:{type:Number,default:0}},data(){return{trusteeName:"",trusteeLocation:"",timeOnKiva:"",numBorrowers:"",totalLoanDollarValue:"",loansFundraisingRaised:"",loansPayingBackOnTime:"",loansPayingBackLate:"",loansRepaidInFull:"",loansDefaulted:"",repaymentRate:"",endorsement:""}},apollo:{query:Y,variables(){return{id:parseInt(this.loanId,10)}},result({data:e}){this.trusteeName=d(e,"lend.loan.trustee.organizationName"),this.trusteeLocation=d(e,"lend.loan.trustee.trusteeLocation"),this.timeOnKiva=d(e,"lend.loan.trustee.memberSince"),this.numBorrowers=d(e,"lend.loan.trustee.trusteeStats.numLoansEndorsedPublic"),this.totalLoanDollarValue=d(e,"lend.loan.trustee.trusteeStats.totalLoansValue"),this.loansFundraisingRaised=d(e,"lend.loan.trustee.trusteeStats.numFundraisingLoans"),this.loansPayingBackOnTime=d(e,"lend.loan.trustee.trusteeStats.numPayingBackOnTimeLoans"),this.loansPayingBackLate=d(e,"lend.loan.trustee.trusteeStats.numPayingBackDelinquentLoans"),this.loansRepaidInFull=d(e,"lend.loan.trustee.trusteeStats.numRepaidInFullLoans"),this.loansDefaulted=d(e,"lend.loan.trustee.trusteeStats.numDefaultedLoans"),this.repaymentRate=d(e,"lend.loan.trustee.trusteeStats.repaymentRate"),this.endorsement=d(e,"lend.loan.endorsement")}},computed:{elementId(){return`${this.loanId}-trustee-info-panel-ex-${this.expandable?"1":"0"}`},timeOnKivaFormatted(){return K(Date.now(),T(this.timeOnKiva))},repaymentRateFormatted(){return _(this.repaymentRate).format("0.00")},totalDollarValueFormatted(){return _(this.totalDollarValue).format("0.00")}},methods:{trackInteraction(e){this.$emit("track-interaction",e)}}},En={key:0,id:"loading-overlay"},qn={class:"spinner-wrapper"},Kn={key:1},zn={key:0},Hn={class:"data"},jn={key:1},Un={class:"tw-text-brand tw-my-0.5"},Yn={key:2},Gn={class:"tw-text-brand tw-my-0.5"},Qn={key:3},Wn={class:"tw-text-brand tw-my-0.5"},Jn={key:4},Xn={class:"tw-text-brand tw-my-0.5"},Zn={key:5},$n={class:"tw-text-brand tw-my-0.5"},et={key:6},nt={class:"tw-text-brand tw-my-0.5"},tt={key:7},at={class:"tw-text-brand tw-my-0.5"},it={key:8},rt={class:"tw-text-brand tw-my-0.5"},ot={key:9},st={class:"tw-text-brand tw-my-0.5"},lt={key:10},dt={class:"tw-text-brand tw-my-0.5"},ut={key:0},mt={class:"tw-prose"};function ct(e,t,i,p,a,o){const k=m("kv-loading-spinner"),v=m("info-panel");return r(),y(v,{id:o.elementId,expandable:i.expandable,"panel-id":"trustee-info",onTrackInteraction:o.trackInteraction},{title:f(()=>t[0]||(t[0]=[b(" Trustee info ")])),default:f(()=>[a.trusteeName?(r(),s("div",Kn,[n("dl",null,[a.trusteeName?(r(),s("div",zn,[t[1]||(t[1]=n("dt",null,"Trustee Name:",-1)),n("span",Hn,l(a.trusteeName),1)])):u("",!0),a.trusteeLocation?(r(),s("div",jn,[t[2]||(t[2]=n("dt",null,"Location:",-1)),n("dd",Un,l(a.trusteeLocation),1)])):u("",!0),a.timeOnKiva?(r(),s("div",Yn,[t[3]||(t[3]=n("dt",null,"Time on Kiva:",-1)),n("dd",Gn,l(o.timeOnKivaFormatted)+" months ",1)])):u("",!0),a.numBorrowers?(r(),s("div",Qn,[t[4]||(t[4]=n("dt",null,"Kiva borrowers:",-1)),n("dd",Wn,l(a.numBorrowers),1)])):u("",!0),a.totalLoanDollarValue?(r(),s("div",Jn,[t[5]||(t[5]=n("dt",null,"Total loans:",-1)),n("dd",Xn,l(o.totalDollarValueFormatted),1)])):u("",!0),a.loansFundraisingRaised?(r(),s("div",Zn,[t[6]||(t[6]=n("dt",null,"Fundraising/raised:",-1)),n("dd",$n,l(a.loansFundraisingRaised),1)])):u("",!0),a.loansPayingBackOnTime?(r(),s("div",et,[t[7]||(t[7]=n("dt",null,"Paying back on time:",-1)),n("dd",nt,l(a.loansPayingBackOnTime),1)])):u("",!0),a.loansPayingBackLate?(r(),s("div",tt,[t[8]||(t[8]=n("dt",null,"Paying back late:",-1)),n("dd",at,l(a.loansPayingBackLate),1)])):u("",!0),a.loansRepaidInFull?(r(),s("div",it,[t[9]||(t[9]=n("dt",null,"Repaid in full:",-1)),n("dd",rt,l(a.loansRepaidInFull),1)])):u("",!0),a.loansDefaulted?(r(),s("div",ot,[t[10]||(t[10]=n("dt",null,"Defaulted:",-1)),n("dd",st,l(a.loansDefaulted),1)])):u("",!0),a.repaymentRate?(r(),s("div",lt,[t[11]||(t[11]=n("dt",null,"Repayment rate:",-1)),n("dd",dt,l(o.repaymentRateFormatted),1)])):u("",!0)]),a.endorsement&&a.endorsement!=""?(r(),s("div",ut,[t[12]||(t[12]=n("h3",{class:"tw-mb-1 tw-mt-4"}," Why are you endorsing this borrower? ",-1)),n("p",mt,l(a.endorsement),1)])):u("",!0)])):(r(),s("div",En,[n("div",qn,[c(k)])]))],void 0),_:1},8,["id","expandable","onTrackInteraction"])}const M=w(Q,[["render",ct]]);Q.__docgenInfo={displayName:"TrusteeInfoPanel",exportName:"default",description:"",tags:{},props:[{name:"expandable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loanId",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"track-interaction",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/InfoPanels/TrusteeInfoPanel.vue"]};const W={name:"DetailedLoanCard",emits:["add-to-basket","close-detailed-loan-card","track-interaction"],props:{loan:{type:Object,default:()=>({userProperties:{},loanFundraisingInfo:{},geocode:{country:{}},image:{},lenders:{}})},percentRaised:{type:Number,default:0},amountLeft:{type:Number,default:0},expiringSoonMessage:{type:String,default:""},timeLeftMessage:{type:String,default:""},itemsInBasket:{type:Array,default:()=>[]},isFunded:{type:Boolean,default:!1},isSelectedByAnother:{type:Boolean,default:!1},disableRedirects:{type:Boolean,default:!1},hideLendCta:{type:Boolean,default:!1},enableFiveDollarsNotes:{type:Boolean,default:!1}},components:{BorrowerInfoBody:le,BorrowerStoryPanel:B,InfoPanel:F,KvExpandable:E,KvIcon:q,LoanDetailsPanel:V,PartnerInfoPanel:A,TrusteeInfoPanel:M,LoanCardImage:de,BorrowerInfoName:ue,KvFlag:se,ActionButton:me,MatchingText:ce,FundraisingStatusLarge:Le},data(){return{selectedTab:"Overview"}},computed:{hasPartner(){return typeof d(this.loan,"partnerName")<"u"||!1},hasTrustee(){return typeof d(this.loan,"trusteeName")<"u"||!1},retinaImageUrl(){return d(this.loan,"image.retina","").replace("/w960h600/","/w1096h822/")},standardImageUrl(){return d(this.loan,"image.default","").replace("/w480h300/","/w548h411/")},tabs(){const e=[{component:null,title:"Overview",id:"Overview"},{component:B,title:"Story",id:"Story"},{component:V,title:"Details",id:"Details"}];return this.hasPartner&&e.push({component:A,title:"Partner",id:"Partner"}),this.hasTrustee&&e.push({component:M,title:"Trustee",id:"Trustee"}),e},tabIdMap(){const e={};return this.tabs.forEach(({id:t,component:i})=>{e[t]=i}),e},tabComponent(){return this.tabIdMap[this.selectedTab]},mobileSections(){return this.tabs.filter(({component:e})=>e)},lessThan25(){return this.amountLeft<25&&this.amountLeft!==0}},methods:{trackInteraction(e){this.$emit("track-interaction",e)},trackInteractionBorrowerInfoName(e){this.trackInteraction({...e,interactionElement:`${e.interactionElement}DetailedCard`})},handleClickClose(){this.trackInteraction({interactionType:"click-close",interactionElement:"detailed-loan-card"}),this.$emit("close-detailed-loan-card")},setTabComponent(e){this.trackInteraction({interactionType:"set-tab-component-desktop",interactionElement:e}),this.selectedTab=e},isTabComponentActive(e){return this.selectedTab===e}}},ft={class:"detailed-loan-card row collapse tw-bg-primary tw-border tw-border-secondary"},kt={class:"multi-pane columns small-12 xlarge-6 xxlarge-7 small-order-1 xlarge-order-2"},vt={class:"main-panel columns small-12 xlarge-6 xxlarge-5 small-order-2 xlarge-order-1"},yt={class:"info-tab-selector show-for-xlarge"},pt=["onClick"],gt={class:"basic-info-flex-column"},_t={class:"name-location-sector"},ht={class:"location-sector-row"},bt={class:"fundraising-status-container"},wt={key:0,class:"row"},Lt={class:"columns small-12 large-expand"},Ft={class:"columns medium-12 large-4 matching-text-wrap"},xt={class:"mobile-sections columns small-12 small-order-3 hide-for-xlarge"},Nt={class:"close-button-wrapper"};function It(e,t,i,p,a,o){const k=m("loan-card-image"),v=m("borrower-info-name"),L=m("kv-flag"),N=m("borrower-info-body"),J=m("fundraising-status-large"),X=m("action-button"),Z=m("matching-text"),$=m("info-panel"),ee=m("router-link"),ne=m("kv-icon"),te=re("kv-track-event");return r(),s("div",ft,[n("div",kt,[c(k,{"loan-id":i.loan.id,name:i.loan.name,"retina-image-url":o.retinaImageUrl,"standard-image-url":o.standardImageUrl,"disable-link":i.disableRedirects,"is-visitor":!0,"use-default-styles":!1,"full-width-image":!0,onTrackLoanCardInteraction:o.trackInteraction},null,8,["loan-id","name","retina-image-url","standard-image-url","disable-link","onTrackLoanCardInteraction"]),c(oe,{name:"kvfastfade"},{default:f(()=>[(r(),y(R(o.tabComponent),{expandable:!1,"loan-id":i.loan.id,class:"content-tab show-for-xlarge"},null,8,["loan-id"]))],void 0),_:1})]),n("div",vt,[n("div",yt,[(r(!0),s(S,null,P(o.tabs,({title:g,id:h})=>(r(),s("button",{key:h,class:I(["tab-title",{active:o.isTabComponentActive(h)}]),onClick:St=>o.setTabComponent(h)},[n("span",{class:I([{"tw-text-primary":o.isTabComponentActive(h),"tw-text-tertiary":!o.isTabComponentActive(h)},"tw-uppercase tw-font-book"])},l(g),3)],10,pt))),128))]),n("div",gt,[n("div",_t,[c(v,{name:i.loan.name,"loan-id":i.loan.id,"disable-link":i.disableRedirects,class:"tw-text-h2 tw-whitespace-nowrap",onTrackLoanCardInteraction:o.trackInteractionBorrowerInfoName},null,8,["name","loan-id","disable-link","onTrackLoanCardInteraction"]),n("div",ht,[i.loan.geocode.country.isoCode?(r(),y(L,{key:0,class:"flag",country:i.loan.geocode.country.isoCode,name:i.loan.geocode.country.name},null,8,["country","name"])):u("",!0),n("div",null,l(`${i.loan.geocode.city?`${i.loan.geocode.city}, `:""}`)+l(i.loan.geocode.country.name)+" / "+l(i.loan.sector.name),1)])]),n("div",{class:I([{collapsed:o.tabComponent!==null},"overview-column show-for-xlarge"])},[c(N,{"max-use-length":200,use:i.loan.fullLoanUse,"loan-id":i.loan.id,"disable-link":i.disableRedirects,"read-more-link-text":"Read full details",onTrackLoanCardInteraction:o.trackInteraction},null,8,["use","loan-id","disable-link","onTrackLoanCardInteraction"])],2),n("div",bt,[c(J,{"is-funded":i.loan.status==="funded","percent-raised":i.percentRaised,"amount-left":i.amountLeft,"is-expiring-soon":i.loan.loanFundraisingInfo.isExpiringSoon,"lender-count":i.loan.lenders.totalCount,"expiring-soon-message":i.expiringSoonMessage,"time-left-message":i.timeLeftMessage},null,8,["is-funded","percent-raised","amount-left","is-expiring-soon","lender-count","expiring-soon-message","time-left-message"])]),i.hideLendCta?u("",!0):(r(),s("div",wt,[n("div",Lt,[c(X,{class:"tw-mt-2","loan-id":i.loan.id,loan:i.loan,"items-in-basket":i.itemsInBasket,"is-lent-to":i.loan.userProperties.lentTo,"is-funded":i.isFunded,"is-selected-by-another":i.isSelectedByAnother,"is-simple-lend-button":!1,"disable-redirects":i.disableRedirects,"is-amount-lend-button":o.lessThan25&&!i.enableFiveDollarsNotes,"amount-left":i.amountLeft,"show-now":!i.enableFiveDollarsNotes,"enable-five-dollars-notes":i.enableFiveDollarsNotes,onClick:t[0]||(t[0]=g=>o.trackInteraction({interactionType:"addToBasket",interactionElement:"Lend25"})),onAddToBasket:t[1]||(t[1]=g=>e.$emit("add-to-basket",g))},null,8,["loan-id","loan","items-in-basket","is-lent-to","is-funded","is-selected-by-another","disable-redirects","is-amount-lend-button","amount-left","show-now","enable-five-dollars-notes"])]),n("div",Ft,[c(Z,{"matching-text":i.loan.matchingText,"match-ratio":i.loan.matchRatio,"is-funded":i.isFunded,"is-selected-by-another":i.isSelectedByAnother,wrap:!0},null,8,["matching-text","match-ratio","is-funded","is-selected-by-another"])])]))])]),n("div",xt,[c($,{id:`${i.loan.id}-overview-panel`,class:"overview-panel",expandable:!0,"panel-id":"overview",onTrackInteraction:o.trackInteraction},{title:f(()=>t[3]||(t[3]=[b(" Overview ")])),default:f(()=>[c(N,{use:i.loan.fullLoanUse,"loan-id":i.loan.id,"disable-link":!0,"read-more-link-text":"",onTrackLoanCardInteraction:o.trackInteraction},null,8,["use","loan-id","onTrackLoanCardInteraction"])],void 0),_:1},8,["id","onTrackInteraction"]),(r(!0),s(S,null,P(o.mobileSections,({component:g,id:h})=>(r(),y(R(g),{key:h,"loan-id":i.loan.id,"read-more-link-text":"",onTrackInteraction:o.trackInteraction},null,40,["loan-id","onTrackInteraction"]))),128)),n("div",null,[O((r(),y(ee,{to:`/lend/${i.loan.id}`,class:"tw-text-h3"},{default:f(()=>t[4]||(t[4]=[b(" Read full borrower details ")]),void 0),_:1,__:[4]},8,["to"])),[[te,["Lending","click-Read full borrower details","Profile Link",i.loan.id,i.loan.id]]])])]),n("div",Nt,[n("button",{onClick:t[2]||(t[2]=(...g)=>o.handleClickClose&&o.handleClickClose(...g)),class:"close-button"},[c(ne,{class:"icon-small-x",name:"small-x","from-sprite":!0,title:"Close"})])])])}const ba=w(W,[["render",It]]);W.__docgenInfo={displayName:"DetailedLoanCard",exportName:"default",description:"",tags:{},props:[{name:"loan",type:{name:"object"},defaultValue:{func:!1,value:`{
    userProperties: {},
    loanFundraisingInfo: {},
    geocode: {
        country: {}
    },
    image: {},
    lenders: {},
}`}},{name:"percentRaised",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"amountLeft",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"expiringSoonMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"timeLeftMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isFunded",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isSelectedByAnother",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disableRedirects",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hideLendCta",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"enableFiveDollarsNotes",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"add-to-basket"},{name:"close-detailed-loan-card"},{name:"track-interaction",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCards/HoverLoanCard/DetailedLoanCard.vue"]};export{ba as default};

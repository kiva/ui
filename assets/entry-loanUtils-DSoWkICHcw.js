import{n as o}from"./entry-numeral-xVHG5DEP0A.js";import{_ as f}from"./entry-get-BUjo_hX5jl.js";const A="kverlfivedollarnotes",p="TOPUP-VB-BALANCE-MPV1",d="BASE-VB_BALANCE_MPV1",F=["expired","funded","fundraising","inactive","pfp","raised"];function v(r){if(f(r,"status")!=="fundraising")return!1;const n=o(f(r,"loanAmount")),s=o(f(r,"loanFundraisingInfo.fundedAmount")),e=o(f(r,"loanFundraisingInfo.reservedAmount"));return!(n.value()===s.value()||n.value()<=s.value()+e.value())}function w(r=""){return r?`This loan is special because ${(r.toString().charAt(0).toLowerCase()+r.toString().slice(1)).trim()}`:""}function m(r,n){const s=r/n,e=[];for(let i=1;i<=s;i+=1)e.push(o(n*i).format("0,0"));return e}function g(r){const n=r<50?r:50,s=n/5,e=Math.ceil((r-n)/25)+1,i=[];for(let t=1;t<=s;t+=1)i.push(o(5*t).format("0,0"));if(r>n)for(let t=3;t<=e;t+=1)i.push(o(25*t).format("0,0"));return i}function h(r){const n=[];let s=100,e=r>1e3?1e3:r,i=e/s;for(let t=1;t<=i;t+=1){const a=s*t+500;if(a>e)break;n.push(o(a).format("0,0"))}s=1e3,e=r>1e4?1e4:r,i=e/s;for(let t=1;t<=i;t+=1){const a=s*t+1e3;if(a>e)break;n.push(o(a).format("0,0"))}return n.includes(o(e).format("0,0"))||n.push(o(e).format("0,0")),n}function L(r,n,s,e=!1,i=!1){const t=parseFloat(r);let a=[];const c=s&&!e?g(t).slice(0,28):m(t,n).slice(0,20),u=i&&t>500;if(u){const l=h(t);a=c.concat(l)}return u?a:c}function N(r,n,s,e){const i=parseFloat(r);if(s)return g(i).slice(0,47);let t=[];const c=m(r,n).filter(l=>l%25===0),u=e&&i>500;if(u){const l=h(i);t=c.slice(0,20).concat(l)}return u?t:c}function O(r){return String(r).replace(/\r|\n|<br\s*\/?>/g,`
`).split(/\n+/)}function _(r){if(!r||!r.matchingText)return!1;const{fundedAmount:n,reservedAmount:s}=r.loanFundraisingInfo,e=o(r.loanAmount||0).value(),i=o(s||0).add(o(n||0).value()),t=e-i.value(),a=o(o(r.matchRatio||1).multiply(25)).add(25);return o(t).value()<o(a).value()}function x({apollo:r,cookieStore:n,loanId:s,loanQuery:e,callback:i}){const t=r.watchQuery({query:e,variables:{basketId:n.get("kvbskt"),loanId:s}}),a=t.subscribe({next:c=>i(c),error:c=>i({error:c})});return{queryObserver:t,subscription:a}}function E({apollo:r,loanId:n,loanCardQuery:s,callback:e,publicId:i}){const t=r.watchQuery({query:s,variables:{loanId:n,publicId:i}});return t.subscribe({next:a=>e(a),error:a=>e({error:a})}),t}function S({apollo:r,loanId:n,fragment:s,publicId:e}){let i,t;try{i=r.readFragment({id:`LoanPartner:${n}`,publicId:e,fragment:s})||null}catch{}try{t=r.readFragment({id:`LoanDirect:${n}`,fragment:s})||null}catch{}return i||t}function y(r){return r<25&&r>0}function b(r){return r<=50&&r>25}function D(r){return r<500&&r>=25}function M(r,n,s,e,i){if(n&&typeof i<"u"){let t=r.get(A);if(s&&typeof s=="string"&&!t){const a=new Date;a.setHours(a.getHours()+24);const c=s.toUpperCase();t=c.includes(p)?p:c.includes(d)?d:"",t&&r.set(A,t,{expires:a})}if(t){if(t===d){let a=Math.floor(i/5)*5;return a=a===0?5:a>25?25:a,Number(a<=e?a:e).toFixed()}return Number(e>5?5:e).toFixed()}}return b(e)||y(e)?Number(e).toFixed():"25"}export{F as A,x as a,_ as b,y as c,D as d,M as e,w as f,L as g,N as h,v as i,S as r,O as t,E as w};

import{n as p}from"./entry-numeral-xVHG5DEP0A.js";import{c,q as t,u as _,o as s,J as A,I,a as l,a0 as $,B as K,C as f,r as d,A as L,L as w,M as b,z as x}from"./entry-vue.esm-bundler-C0PPCo9W96.js";import"./entry-KvWwwHeader-C1bm1YMh4q.js";import{g as R}from"./entry-KvButton-BA7nBLyz1b.js";import{A as S}from"./entry-KvTextInput-CnVgGp-sYq.js";import{_ as h}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";import{s as T}from"./entry-mdi-B1ONwcTkQ2.js";import{g as V}from"./entry-index-CWclSTHHJk.js";import{r as E}from"./entry-settingsUtils-CXPrtFAPl-.js";import{x as F}from"./entry-KvMaterialIcon-C3KLX5OV-L.js";import{M}from"./entry-KvLightbox-y8nxBJS-RZ.js";const q=""+new URL("support-BYFjbwWf.svg",import.meta.url).href,U="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9892%2049.6654C39.611%2049.6654%2050.6536%2038.8939%2050.6536%2025.6067C50.6536%2012.3194%2039.611%201.54794%2025.9892%201.54794C12.3674%201.54794%201.32471%2012.3194%201.32471%2025.6067C1.32471%2038.8939%2012.3674%2049.6654%2025.9892%2049.6654Z'%20fill='white'/%3e%3cpath%20d='M28.6882%2044.0875C38.807%2044.0875%2047.0098%2035.8146%2047.0098%2025.6094C47.0098%2015.4042%2038.807%207.13132%2028.6882%207.13132C18.5694%207.13132%2010.3666%2015.4042%2010.3666%2025.6094C10.3666%2035.8146%2018.5694%2044.0875%2028.6882%2044.0875Z'%20fill='%23F4B539'/%3e%3cpath%20d='M40.321%2023.5036L42.3134%2018.9377C41.8055%2017.7076%2041.6015%2017.2961%2041.1935%2016.5782L39.1925%2016.565L35.5073%2011.7233H29.157L25.181%2010.0598L18.4445%2016.854L18.2969%2021.595L22.173%2025.7012L29.6866%2023.6962V28.6824L32.6903%2033.5766V35.8792L35.3554%2036.5928C35.6723%2036.4089%2035.9848%2036.2163%2036.2886%2036.0106L39.8175%2031.1776L40.3167%2023.5036H40.321Z'%20fill='%2327382B'/%3e%3cpath%20d='M15.9572%2034.5572L14.3382%2032.6179L10.8657%2031.3003L9.16855%2029.466L6.98523%2027.4873C7.51044%2032.7318%2010.2103%2037.3283%2014.1646%2040.3445L15.5101%2037.4246L15.9572%2034.5572Z'%20fill='%2327382B'/%3e%3cpath%20d='M15.597%2011.3908H18.8568L20.0244%208.87369V7.88434C18.4748%208.34399%2017.012%209.00502%2015.6664%209.83677L15.4451%2011.0319L15.597%2011.3908Z'%20fill='%2327382B'/%3e%3cpath%20d='M28.1673%208.87802L26.7045%208.21262L26.3138%208.26953L27.9459%209.72291L28.2584%209.39896L29.8167%209.18008L29.7863%208.66351L30.4765%209.04875L30.7456%208.96995L29.3696%207.61288C28.7142%207.45966%2028.0414%207.34146%2027.3599%207.26266L28.4885%208.45776L28.176%208.8824L28.1673%208.87802Z'%20fill='%2327382B'/%3e%3cpath%20d='M16.5867%2032.8982L16.6214%2036.1814L19.1303%2037.3327L20.1112%2037.324C19.6381%2035.7699%2018.9697%2034.299%2018.1319%2032.9507L16.9469%2032.7406L16.591%2032.8982H16.5867Z'%20fill='%2327382B'/%3e%3cpath%20d='M19.217%2037.8406L16.2089%2039.1057L16.0874%2041.8812L16.465%2042.7961C17.7195%2041.7717%2018.8176%2040.5941%2019.7422%2039.3027L19.4904%2038.112L19.2126%2037.8406H19.217Z'%20fill='%2327382B'/%3e%3cpath%20d='M38.8105%2034.6231L40.4817%2032.7932L40.9418%2032.7013L40.1735%2034.7019L38.8105%2034.6231Z'%20fill='%2327382B'/%3e%3cpath%20d='M25.2158%2044.0875C35.3345%2044.0875%2043.5374%2035.8146%2043.5374%2025.6094C43.5374%2015.4042%2035.3345%207.13132%2025.2158%207.13132C15.097%207.13132%206.89417%2015.4042%206.89417%2025.6094C6.89417%2035.8146%2015.097%2044.0875%2025.2158%2044.0875Z'%20stroke='%2327372A'%20stroke-width='2.03791'/%3e%3c/svg%3e",H=""+new URL("puzzle-DhOXpdFW.svg",import.meta.url).href,Z={ref:"content",class:"tw-prose tw-text-base"},z={class:"tw-flex tw-flex-col tw-gap-2"},P={class:"item-container tw-not-prose"},O=["src"],j={class:"item-container tw-not-prose"},Y=["src"],W={class:"item-container tw-not-prose"},J=["src"],D={__name:"HowKivaUsesDonation",setup(n){return(e,o)=>(s(),c("div",Z,[o[3]||(o[3]=t("p",null," At Kiva, 100% of every loan supports borrowers — we never take a fee. As a nonprofit, our work is dependent on donations from supporters like you. Every single dollar donated helps Kiva: ",-1)),t("div",z,[t("div",P,[t("img",{src:_(q),alt:"donation support"},null,8,O),o[0]||(o[0]=t("p",null,"Ensure fair and responsible lending practices that deliver real impact for underserved individuals",-1))]),t("div",j,[t("img",{src:_(U),alt:"global real impact icon"},null,8,Y),o[1]||(o[1]=t("p",null,"Sustain the infrastructure needed to distribute $1M in loans each week to borrowers around the world",-1))]),t("div",W,[t("img",{src:_(H),alt:"donation partners"},null,8,J),o[2]||(o[2]=t("p",null,"Partner with impact-first organizations operating directly in the communities Kiva serves",-1))])])],512))}},X=h(D,[["__scopeId","data-v-c6c4bafd"]]);D.__docgenInfo={exportName:"default",displayName:"HowKivaUsesDonation",description:"",tags:{},sourceFiles:["/home/runner/work/ui/ui/src/components/Checkout/HowKivaUsesDonation.vue"]};const k={name:"DonationNudgeBoxes",components:{KvButton:R,KvTextInput:S},props:{loanReservationTotal:{type:Number,default:0},percentageRows:{type:Array,required:!0},setDonationAndClose:{type:Function,required:!0},currentDonationAmount:{type:String,default:""}},data(){return{customDonationAmount:null,selectedDonationRadio:15}},computed:{customDonationSelected(){return!this.percentageRows.map(({percentage:e})=>p(this.getDonationByPercent(e)).format("$0.00")).includes(this.currentDonationAmount)}},methods:{formatAndSubmitOnEnter(){const n=document.getElementById("customDonationInput"),e=document.getElementById("customDonationSubmitBtn");n.blur(),e.click()},afterLightboxOpens(){this.currentDonationAmount&&this.customDonationSelected&&this.setInputs(this.currentDonationAmount),this.$nextTick(()=>{try{document.getElementById("first-button").focus()}catch{}})},getDonationByPercent(n){return p(this.loanReservationTotal*(n/100)).format("0.00")},setCustomDonationAndClose(){this.setDonationAndClose(p(this.customDonationAmount).value(),"Custom amount")},setInputs(n){this.customDonationAmount=n},validateInput(){this.setInputs(p(this.customDonationAmount).format("$0,0.00"))},formatSource(n){return`${p(n+1).format("0o")} preset`}}},G={class:"donation-nudge-boxes-container"},Q={class:"md:visible tw-text-left tw-mt-2 md:tw-mt-3 md:tw-flex md:tw-flex-1 md:tw-flex-space-3 md:tw-gap-3"},tt=["onClick"],et={class:"tw-flex tw-flex-row tw-align-center tw-items-stretch md:tw-flex-col md:tw-justify-between tw-h-full"},ot={class:"tw-self-center tw-flex-grow tw-mr-1 md:tw-mr-0 tw-text-left md:tw-text-center"},nt={class:"tw-hidden md:tw-block tw-text-h3 md:tw-flex-grow md:tw-my-2 tw-text-center","data-testid":"`donation-amount-${index}`"},at={class:"tw-self-center md:tw-w-full"},it={class:"tw-p-2 md:tw-px-3 md:tw-py-4 tw-border tw-border-tertiary tw-rounded-b tw-border-t-0 md:tw-border-t md:tw-rounded"},st={class:"tw-items-center md:tw-flex md:tw-flex-col md:tw-justify-between tw-h-full"},rt={class:"tw-flex tw-align-center tw-items-center tw-mt-1 md:tw-mt-0 md:tw-flex-col md:tw-justify-between md:tw-h-full"},dt={class:"tw-self-center tw-flex-grow tw-mr-2 md:tw-mr-0 md:tw-my-2"},lt={class:"tw-self-center md:tw-w-full"};function ut(n,e,o,y,u,a){const m=d("kv-button"),g=d("kv-text-input");return s(),c("div",G,[t("div",Q,[(s(!0),c(A,null,I(o.percentageRows,({percentage:i,appeal:v},r)=>(s(),c("div",{key:i,class:L(["tw-p-2 md:tw-px-3 md:tw-py-4 tw-border tw-border-tertiary",{"tw-rounded-t tw-border-b-0 md:tw-border-b md:tw-rounded":r===0,"md:tw-rounded":r===1}]),onClick:B=>o.setDonationAndClose(a.getDonationByPercent(i),a.formatSource(r))},[t("div",et,[t("div",ot,w(v),1),t("p",nt," $"+w(a.getDonationByPercent(i)),1),t("div",at,[l(m,{class:"md:tw-hidden tw-w-14","data-testid":`donation-btn-amount-${r}`},{default:f(()=>[b(" $"+w(a.getDonationByPercent(i)),1)],void 0),_:2},1032,["data-testid"]),l(m,{class:"tw-hidden md:tw-block tw-w-14 md:tw-w-full","data-testid":`donation-btn-select-${r}`},{default:f(()=>e[1]||(e[1]=[b(" Select ")]),void 0),_:2,__:[1]},1032,["data-testid"])])])],10,tt))),128)),t("div",it,[t("div",st,[e[3]||(e[3]=t("div",{class:"tw-align-center md:tw-text-center"}," You decide — enter custom amount ",-1)),t("div",rt,[t("div",dt,[l(g,{class:"md:tw-text-center",id:"customDonationInput","data-testid":"custom-donation-input",type:"text",ref:"customDonationInput",name:"customDonationInputText",maxlength:"10",modelValue:u.customDonationAmount,"onUpdate:modelValue":e[0]||(e[0]=i=>u.customDonationAmount=i),onBlur:a.validateInput,onKeyup:$(K(a.formatAndSubmitOnEnter,["prevent"]),["enter"])},null,8,["modelValue","onBlur","onKeyup"])]),t("div",lt,[l(m,{class:"tw-w-14 md:tw-w-full",onClick:a.setCustomDonationAndClose,id:"customDonationSubmitBtn","data-testid":"custom-donation-submit-btn"},{default:f(()=>e[2]||(e[2]=[b(" Select ")]),void 0),_:1,__:[2]},8,["onClick"])])])])])])])}const ct=h(k,[["render",ut]]);k.__docgenInfo={displayName:"DonationNudgeBoxes",exportName:"default",description:"",tags:{},props:[{name:"loanReservationTotal",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"percentageRows",type:{name:"array"},required:!0},{name:"setDonationAndClose",type:{name:"func"},required:!0},{name:"currentDonationAmount",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Checkout/DonationNudge/DonationNudgeBoxes.vue"]};const C={name:"KvCharityNavigator",props:{title:{type:String,default:"Awarded for effectiveness and efficiency"},wideIcon:{type:Boolean,default:!1},subtitle:{type:String,default:"Charity Navigator's highest rating"}}},mt={id:"container"};function pt(n,e,o,y,u,a){return s(),c("div",mt)}const ft=h(C,[["render",pt],["__scopeId","data-v-285b8a9c"]]);C.__docgenInfo={displayName:"KvCharityNavigator",exportName:"default",description:"",tags:{},props:[{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"'Awarded for effectiveness and efficiency'"}},{name:"wideIcon",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"subtitle",type:{name:"string"},defaultValue:{func:!1,value:"'Charity Navigator\\'s highest rating'"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Kv/KvCharityNavigator.vue"]};const N={name:"DonationNudgeLightbox",data(){return{mdiInformation:T,title:"Loans change lives. Your donations make them possible.",seasonalTipRateEnabled:!1}},inject:["apollo","cookieStore"],apollo:{query:V`query seasonalTipRateIncrease {
				general {
					seasonalTipRateEnabled: featureSetting(key: "seasonal_tip_rate.enabled") {
						key
						value
					}
				}
			}
		`,preFetch:!0,result({data:n}){this.seasonalTipRateEnabled=E(n,"general.seasonalTipRateEnabled.value")}},components:{KvLightbox:M,KvMaterialIcon:F,KvCharityNavigator:ft,DonationNudgeBoxes:ct,HowKivaUsesDonation:X},props:{experimentalFooter:{type:Boolean,default:!1},visible:{type:Boolean,required:!0},closeNudgeLightbox:{type:Function,required:!0},updateDonationTo:{type:Function,required:!0},loanCount:{type:Number,default:0},loanReservationTotal:{type:Number,default:0},currentDonationAmount:{type:String,default:""}},computed:{percentageRows(){return[{percentage:this.seasonalTipRateEnabled?18:15,appeal:`Cover the cost to facilitate ${this.loanCount>1?"these loans":"this loan"}`,appealIsHorizontallyPadded:!1},{percentage:this.seasonalTipRateEnabled?24:20,appeal:"Reach more people around the world!",appealIsHorizontallyPadded:!1}]}},methods:{setDonationAndClose(n,e){if(n>0){const o=e?` - ${e}`:"";this.$kvTrackEvent("basket","Update Nudge Donation",`Update Success${o}`,n*100)}else this.$kvTrackEvent("basket","click",`Update Nudge Donation - ${e}`,n*100);this.updateDonationTo(n),this.closeNudgeLightbox()},expandNudgeLightbox(){this.$refs.nudgeBoxes.afterLightboxOpens()}}},wt={class:"tw-flex-1"},ht={id:"nudge-donation-container","data-testid":"nudge-donation-container"},gt={id:"nudge-donation-top"},vt={class:"tw-text-center tw-pb-4"},_t={class:"row"},bt={class:"large-10 large-offset-1 columns"},yt={key:1,class:"charity-overhead tw-text-center tw-my-1"};function xt(n,e,o,y,u,a){const m=d("how-kiva-uses-donation"),g=d("donation-nudge-boxes"),i=d("kv-charity-navigator"),v=d("kv-material-icon"),r=d("kv-lightbox");return s(),x(r,{visible:o.visible,"no-padding-sides":!0,"no-padding-bottom":!0,"no-padding-top":!0,onLightboxClosed:o.closeNudgeLightbox,title:u.title},{header:f(()=>[t("h2",wt,w(u.title),1)]),default:f(()=>[t("div",ht,[t("div",gt,[l(m),l(g,{ref:"nudgeBoxes",id:"nudge-donation-top-boxes-wrapper",class:"tw-mb-3","percentage-rows":a.percentageRows,"loan-reservation-total":o.loanReservationTotal,"set-donation-and-close":a.setDonationAndClose,"current-donation-amount":o.currentDonationAmount},null,8,["percentage-rows","loan-reservation-total","set-donation-and-close","current-donation-amount"]),t("div",vt,[t("button",{class:"tw-text-link",id:"no-donation-link",onClick:e[0]||(e[0]=B=>a.setDonationAndClose(0,"No Donation Link")),"data-testid":"nudge-donation-no-donoation-btn"}," No donation to Kiva ")])]),t("div",{id:"nudge-donation-bottom",class:L(["tw-px-12",{"show-for-large":!o.experimentalFooter}])},[t("div",_t,[t("div",bt,[o.experimentalFooter?(s(),c("div",yt,[t("h3",null,[l(v,{name:"info",icon:"mdiInformation",class:"info-icon"}),e[1]||(e[1]=t("span",null,"Did you know?",-1))]),e[2]||(e[2]=t("p",{class:"tw-text-lg"}," Kiva donations are more efficient than the average charity, which uses 37% on overhead. Kiva only asks for a 15% donation to help cover our costs. ",-1))])):(s(),x(i,{key:0,title:"Kiva has been awarded Charity Navigator's highest rating for operational efficiency.","wide-icon":!0,subtitle:"Your donation is eligible for a tax deduction if you live in the U.S."}))])])],2)])],void 0),_:1},8,["visible","onLightboxClosed","title"])}const St=h(N,[["render",xt]]);N.__docgenInfo={displayName:"DonationNudgeLightbox",exportName:"default",description:"",tags:{},props:[{name:"experimentalFooter",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"visible",type:{name:"boolean"},required:!0},{name:"closeNudgeLightbox",type:{name:"func"},required:!0},{name:"updateDonationTo",type:{name:"func"},required:!0},{name:"loanCount",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"loanReservationTotal",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"currentDonationAmount",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/Checkout/DonationNudge/DonationNudgeLightbox.vue"]};export{St as D,X as H};

import{K as L}from"./entry-KivaClassicBasicLoanCard-mqx9jt4fGB.js";import{K as V}from"./entry-KvLoadingSpinner-D6PAL1PtJd.js";import{c,a as r,f,d as m,b as l,T as I,O as N,I as v,n as S,H as g,e as n,r as i,P as T,o as s,F as K,K as p,J as b}from"./entry-vue.esm-bundler-Bf_Yeyugwo.js";import"./entry-KvWwwHeader-CVdIzOPj6Q.js";import{U as A}from"./entry-KvButton-DF0Vhz1EWA.js";import{l as E}from"./entry-KvCarousel--umaisw_ND.js";import"./entry-numeral-DJCTM12wUX.js";import{_ as M}from"./entry-_plugin-vue_export-helper-DlAUqK2UKH.js";const _={name:"KivaClassicLoanCarousel",components:{KvCarousel:E,KvLoadingSpinner:V,KivaClassicBasicLoanCard:L,KvButton:A},props:{isLoggedIn:{type:Boolean,default:!1},itemsInBasket:{type:Array,default:()=>[]},isVisible:{type:Boolean,default:!1},loanIds:{type:Array,default:()=>[]},rowNumber:{type:Number,default:null},selectedChannel:{type:Object,default:()=>{}},showViewMoreCard:{type:Boolean,default:!1},showCheckBackMessage:{type:Boolean,default:!1},expLabel:{type:String,default:""},lendNowButton:{type:Boolean,default:!1},newHomeExp:{type:Boolean,default:!1},showTags:{type:Boolean,default:!1}},data(){return{name:"",id:0,url:"",browseButtonStyle:"primary",categoryButtonStyle:"secondary",lendByCategoryUrl:"lend-by-category"}},computed:{isLoading(){return this.augmentedLoanIds.length===0&&this.isVisible},augmentedLoanIds(){return[...this.loanIds]},cleanUrl(){const e=this.url.lastIndexOf("/"),o=this.url.slice(e);let t=String(o);return(this.url.includes("loans-with-research-backed-impact")===!0||this.url.includes("recently-viewed-loans")===!0||this.url==="")&&(t=""),this.url.includes("new-countries-for-you")?"/lend/countries-not-lent":`/lend-by-category${t}`},viewAllLoansCategoryTitle(){return`View all ${this.cleanCategoryName(this.id)}`},singleSlideWidth(){const e=typeof window<"u"?window.innerWidth:1024;return e<414?`${e-80}px`:e>=414&&e<768?"278px":(e>=768&&e<1024,"336px")}},watch:{selectedChannel:{handler(e){this.name=(e==null?void 0:e.name)||"",this.url=(e==null?void 0:e.url)||"",this.id=(e==null?void 0:e.id)||"",this.$refs&&this.$refs.categoryCarousel&&(this.$refs.categoryCarousel.goToSlide(0),this.$refs.categoryCarousel.reInit())},immediate:!0}},methods:{cleanCategoryName(e){switch(e){case 5:case 52:return"loans to women";case 96:return"COVID-19 loans";case 93:return"shelter loans";case 89:return"arts loans";case 87:return"agriculture loans";case 102:return"technology loans";case 4:return"education loans";case 25:return"health loans";case 32:return"loans to refugees and IDPs";default:return String(this.name).replace(/\s\[.*\]/g,"")}},onInteractCarousel(e){this.$kvTrackEvent("carousel","click-carousel-horizontal-scroll",e)}}},U={class:"tw-pt-4"},D={key:0,class:"spinner tw-text-center"},H={class:"tw-w-full tw-text-center"},O={class:"tw-hidden md:tw-grid md:tw-grid-cols-3 md:tw-gap-4"},P={class:"tw-mt-4 tw-flex tw-flex-col md:tw-flex-row tw-justify-center tw-w-auto tw-mx-auto"};function W(e,o,t,j,w,a){const k=i("kv-loading-spinner"),h=i("kiva-classic-basic-loan-card"),C=i("router-link"),x=i("kv-carousel"),y=i("kv-button"),B=T("kv-track-event");return s(),c("div",U,[r(I,{name:"kvfade"},{default:l(()=>[a.isLoading?(s(),c("div",D,[r(k)])):m("",!0)],void 0),_:1}),a.augmentedLoanIds.length>0&&t.isVisible?(s(),f(x,{key:0,class:S(["tw-w-full tw-overflow-visible md:tw-overflow-hidden",{"md:tw-hidden":t.newHomeExp}]),"embla-options":{loop:!1},ref:"categoryCarousel","multiple-slides-visible":!0,"slides-to-scroll":"visible","slide-max-width":a.singleSlideWidth,onInteractCarousel:a.onInteractCarousel},N({_:2},[v(a.augmentedLoanIds,(u,d)=>({name:`slide${d}`,fn:l(()=>[r(h,{"item-index":d,"loan-id":u,"exp-label":t.expLabel,"lend-now-button":t.lendNowButton,"show-tags":t.showTags},null,8,["item-index","loan-id","exp-label","lend-now-button","show-tags"])])})),t.showViewMoreCard?{name:"view-more",fn:l(()=>[K((s(),f(C,{key:"view-more-card",class:"tw-flex tw-items-center tw-h-full tw-w-full hover:tw-bg-action-highlight hover:tw-text-primary-inverse tw-rounded",to:a.cleanUrl},{default:l(()=>[n("div",H,[n("h3",null,p(a.viewAllLoansCategoryTitle),1)])],void 0,!0),_:1},8,["to"])),[[B,["Lending","click-carousel-view-all-category-loans",`${a.viewAllLoansCategoryTitle}`]]])]),key:"0"}:void 0,t.showCheckBackMessage?{name:"check-back",fn:l(()=>[o[0]||(o[0]=n("div",{class:"tw-flex tw-items-center tw-h-full tw-w-full tw-border-action-highlight tw-rounded"},[n("div",{class:"tw-w-full tw-text-center"},[n("h3",null,"Check back later, we add new loans everyday.")])],-1))]),key:"1"}:void 0]),1032,["class","slide-max-width","onInteractCarousel"])):m("",!0),t.newHomeExp?(s(),c(g,{key:1},[n("div",O,[(s(!0),c(g,null,v(a.augmentedLoanIds,(u,d)=>(s(),f(h,{key:`loan-${u}`,"item-index":d,"loan-id":u,"exp-label":t.expLabel,"lend-now-button":t.lendNowButton,"show-tags":t.showTags},null,8,["item-index","loan-id","exp-label","lend-now-button","show-tags"]))),128))]),n("div",P,[r(y,{class:"tw-mx-1 tw-mb-3 tw-whitespace-nowrap",variant:w.categoryButtonStyle,to:a.cleanUrl},{default:l(()=>[b(p(a.viewAllLoansCategoryTitle),1)],void 0),_:1},8,["variant","to"]),r(y,{class:"tw-block md:tw-hidden tw-mx-1 md:tw-mb-3 tw-whitespace-nowrap",to:"/lend-by-category",variant:w.browseButtonStyle},{default:l(()=>o[1]||(o[1]=[b(" Browse all ")]),void 0),_:1,__:[1]},8,["variant"])])],64)):m("",!0)])}const Y=M(_,[["render",W]]);_.__docgenInfo={displayName:"KivaClassicLoanCarousel",exportName:"default",description:"",tags:{},props:[{name:"isLoggedIn",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsInBasket",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isVisible",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loanIds",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"rowNumber",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"selectedChannel",type:{name:"object"},defaultValue:{func:!0,value:"() => {}"}},{name:"showViewMoreCard",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showCheckBackMessage",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"expLabel",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"lendNowButton",description:"Prop to pass down to components to the loan card",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"newHomeExp",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showTags",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/ui/ui/src/components/LoanCollections/KivaClassicLoanCarousel.vue"]};export{Y as K};
